(function(){var c2x=NEJ.P,bb2x=NEJ.O,fy4C=NEJ.R,a1x=c2x("nej.e"),h2x=c2x("nej.v"),P2x=c2x("nej.ut"),Cx1x;if(!!P2x.bhp9g)return;P2x.bhp9g=NEJ.C();Cx1x=P2x.bhp9g.N2x(P2x.cP3x);Cx1x.cz3x=function(){this.lu6o={onchange:this.gs4w.f2x(this),ondragend:this.gs4w.eL4P(this,!0)};this.cE3x()};Cx1x.bo2x=function(e2x){this.bp2x(e2x);this.lu6o.view=a1x.A2x(e2x.track);this.lu6o.body=a1x.A2x(e2x.slide);this.lu6o.mbar=this.lu6o.view;this.wk9b(e2x.range);this.bZ3x([[this.lu6o.view,"mousedown",this.cmy3x.f2x(this)]]);this.jy5D=P2x.wa9R.B2x(this.lu6o)};Cx1x.bD2x=function(){this.bI3x();this.jy5D.V2x();delete this.jy5D;delete this.iv5A;delete this.lu6o.view;delete this.lu6o.body;delete this.lu6o.mbar};Cx1x.gs4w=function(d2x,gj4n){var caF0x=d2x.left/this.iv5A.x[1],caG0x=d2x.top/this.iv5A.y[1],caJ0x=this.iv5A.x,caK0x=this.iv5A.y;this.z2x("onchange",{stopped:!!gj4n,x:{rate:caF0x,value:caF0x*(caJ0x[1]-caJ0x[0])},y:{rate:caG0x,value:caG0x*(caK0x[1]-caK0x[0])}})};Cx1x.cmy3x=function(d2x){var bn2x=a1x.iu5z(this.lu6o.view),caM0x={x:h2x.kb5g(d2x),y:h2x.mE6y(d2x)},dx3x={x:Math.floor(this.lu6o.body.offsetWidth/2),y:Math.floor(this.lu6o.body.offsetHeight/2)};this.jy5D.hh5m({top:caM0x.y-bn2x.y-dx3x.y,left:caM0x.x-bn2x.x-dx3x.x})};Cx1x.wk9b=function(do3x){var th8Z;if(!!this.iv5A){var pj7c=this.jy5D.bqA1x();th8Z={x:pj7c.left/this.iv5A.x[1],y:pj7c.top/this.iv5A.y[1]}}do3x=do3x||bb2x;var cmw3x=(do3x.x||fy4C)[1]||this.lu6o.view.clientWidth-this.lu6o.body.offsetWidth,cmr3x=(do3x.y||fy4C)[1]||this.lu6o.view.clientHeight-this.lu6o.body.offsetHeight;this.iv5A={x:do3x.x||[0,cmw3x],y:do3x.y||[0,cmr3x]};if(!!th8Z)this.hh5m(th8Z);return this};Cx1x.hh5m=function(th8Z){th8Z=th8Z||bb2x;this.jy5D.hh5m({top:this.iv5A.y[1]*(th8Z.y||0),left:this.iv5A.x[1]*(th8Z.x||0)})}})();
(function(){var P2x=NEJ.P("nej.ut"),caT1x;if(!!P2x.NT4X)return;P2x.NT4X=NEJ.C();caT1x=P2x.NT4X.N2x(P2x.bhp9g);caT1x.cz3x=function(){this.cE3x();this.lu6o.direction=2}})();
(function(){var c2x=NEJ.P,a1x=c2x("nej.e"),h2x=c2x("nej.v"),P2x=c2x("nej.p"),bH3x=c2x("nej.ui"),ci3x=c2x("nej.ut"),y2x=c2x("nm.w"),b2x,L2x;y2x.BI1x=NEJ.C();b2x=y2x.BI1x.N2x(bH3x.er4v);L2x=y2x.BI1x.ct3x;b2x.cz3x=function(){this.cE3x()};b2x.bo2x=function(e2x){this.bp2x(e2x);this.o2x=a1x.A2x(e2x.content);this.mV6P=a1x.A2x(e2x.slide);this.jM5R=a1x.A2x(e2x.track);this.bDz5E=e2x.speed;this.bmC1x=this.o2x.scrollHeight-this.o2x.clientHeight;a1x.bc2x(this.mV6P,"height",(this.o2x.clientHeight/this.o2x.scrollHeight*parseInt(a1x.dl3x(this.jM5R,"height"))||0)+"px");if(this.o2x.scrollHeight<=this.o2x.clientHeight)a1x.bc2x(this.mV6P,"display","none");else a1x.bc2x(this.mV6P,"display","block");this.wz9q=ci3x.NT4X.B2x({slide:this.mV6P,track:this.jM5R,onchange:this.bmE1x.f2x(this)});if(P2x.dB3x.browser!="firefox")this.bZ3x([[this.o2x,"mousewheel",this.Kp3x.f2x(this)]]);else{this.o2x.addEventListener("DOMMouseScroll",this.Kp3x.f2x(this),false)}};b2x.bD2x=function(){this.bI3x();this.wz9q.V2x();delete this.o2x;delete this.mV6P;delete this.jM5R;delete this.iv5A;delete this.bDz5E};b2x.bmE1x=function(d2x){this.o2x.scrollTop=parseInt(this.bmC1x*d2x.y.rate)};b2x.Kp3x=function(d2x){h2x.co3x(d2x);this.bmC1x=this.o2x.scrollHeight-this.o2x.clientHeight;var dx3x=0,OT4X,cj3x,gp4t;cj3x=parseInt(this.jM5R.clientHeight)-parseInt(a1x.dl3x(this.mV6P,"height"));dx3x=d2x.wheelDelta?d2x.wheelDelta/120:-d2x.detail/3;OT4X=parseInt(a1x.dl3x(this.mV6P,"top"))-dx3x*this.bDz5E;if(OT4X<0)OT4X=0;if(OT4X>cj3x)OT4X=cj3x;a1x.bc2x(this.mV6P,"top",OT4X+"px");gp4t=parseInt(a1x.dl3x(this.mV6P,"top"));this.wz9q.z2x("onchange",{y:{rate:gp4t/cj3x}})};b2x.qW7P=function(){this.bmC1x=this.o2x.scrollHeight-this.o2x.clientHeight;this.wz9q.hh5m({x:0,y:0});a1x.bc2x(this.mV6P,"height",this.o2x.clientHeight/this.o2x.scrollHeight*parseInt(this.jM5R.clientHeight)+"px");this.wz9q.wk9b({x:[],y:[0,this.jM5R.clientHeight-parseInt(a1x.dl3x(this.mV6P,"height"))]});if(this.o2x.scrollHeight<=this.o2x.clientHeight)a1x.bc2x(this.mV6P,"display","none");else a1x.bc2x(this.mV6P,"display","block")};b2x.hh5m=function(dQ3x){this.wz9q.hh5m(dQ3x)};b2x.OP4T=function(bmI1x){var clZ3x=parseInt(a1x.dl3x(this.mV6P,"height"));var clY3x=parseInt(a1x.dl3x(this.jM5R,"height"));var yS0x=clY3x-clZ3x;var gp4t=parseInt(yS0x*bmI1x)+"px";a1x.bc2x(this.mV6P,"top",gp4t)};b2x.bDK5P=function(){if(this.o2x.scrollHeight<=this.o2x.clientHeight)return;var bmI1x=this.o2x.scrollTop/(this.o2x.scrollHeight-this.o2x.clientHeight);this.OP4T(bmI1x)};b2x.cQD9u=function(){if(this.wz9q)this.wz9q.wk9b()}})();
(function(){var c2x=NEJ.P,a1x=c2x("nej.e"),u2x=c2x("nej.j"),bb2x=c2x("nej.o"),j2x=c2x("nej.u"),h2x=c2x("nej.v"),bH3x=c2x("nej.ui"),p2x=c2x("nm.d"),l2x=c2x("nm.x"),n2x=c2x("nm.l"),b2x,L2x;n2x.bYC0x=NEJ.C();b2x=n2x.bYC0x.N2x(n2x.ed4h,!0);b2x.cz3x=function(){this.cE3x()};b2x.bW3x=function(){this.cg3x();var k2x=a1x.D2x(this.o2x,"j-flag");this.FZ2x=k2x[0];this.bAd4h=k2x[1];this.buU2x=k2x[2];h2x.s2x(k2x[3],"click",this.bAb4f.f2x(this))};b2x.cd3x=function(){this.cc3x="ntp-alert"};b2x.bo2x=function(e2x){e2x.parent=e2x.parent||document.body;this.bp2x(e2x);a1x.bc2x(this.FZ2x,"display","");if(e2x.type=="noicon"){a1x.bc2x(this.FZ2x,"display","none")}else if(e2x.type=="success"){a1x.fo4s(this.FZ2x,"u-icn-88","u-icn-89")}else{a1x.fo4s(this.FZ2x,"u-icn-89","u-icn-88")}this.bAd4h.innerHTML=e2x.mesg||"";if(e2x.mesg2){a1x.x2x(this.buU2x,"f-hide");this.buU2x.innerHTML=e2x.mesg2||""}else{a1x.w2x(this.buU2x,"f-hide")}};b2x.bD2x=function(){this.bI3x()};b2x.bAb4f=function(d2x){this.z2x("onnotice");this.br2x()};n2x.eb4f=function(e2x){if(this.AH1x){this.AH1x.V2x();delete this.AH1x}this.AH1x=n2x.bYC0x.B2x(e2x);this.AH1x.I2x()}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,bs2x=NEJ.F,h2x=c2x("nej.v"),j2x=c2x("nej.u"),H2x=c2x("nej.ut"),p2x=c2x("nm.d"),l2x=c2x("nm.x"),n2x=c2x("nm.l"),J2x="RADIO_LATEST_MAP",b2x,L2x;p2x.fw4A({"radio_crt-list":{url:"/api/djradio/get/byuser",format:function(Q2x,e2x){var k2x=Q2x.djRadios;return{total:k2x.length||0,list:k2x}}},"radio_sub-list":{url:"/api/djradio/get/subed",format:function(Q2x,e2x){var k2x=Q2x.djRadios;e2x.data.time=Q2x.time;return{total:Q2x.count||0,list:k2x}}},"radio_sub-add":{url:"/api/djradio/subscribe/v1",filter:function(e2x){e2x.data={radioId:e2x.id};if(e2x.ext&&e2x.ext.data&&e2x.ext.data.token){e2x.data.token=e2x.ext.data.token}},format:function(Q2x,e2x){if(this.bVY9P("firstSub")){n2x.eb4f({title:"订阅成功",type:"noicon",mesg:"可以在“我的音乐-我的电台”收到节目更新"})}else{n2x.Z2x.I2x({tip:"订阅成功"})}var dK3x=this.eV4Z(e2x.id)||e2x.ext.data;dK3x.subCount+=1;dK3x.subed=true;return dK3x},finaly:function(d2x,e2x){h2x.z2x(p2x.pV7O,"listchange",d2x);h2x.z2x(p2x.pV7O,"itemchange",{attr:"subCount",data:d2x.data})},onmessage:function(cf3x){if(cf3x==315){n2x.Z2x.I2x({tip:"根据对方设置，你没有该操作权限",type:2})}else if(cf3x==250){n2x.Z2x.I2x({tip:"操作失败，账号存在异常",type:2})}}},"radio_sub-del":{url:"/api/djradio/unsub",filter:function(e2x){e2x.data={id:e2x.id}},format:function(Q2x,e2x){n2x.Z2x.I2x({tip:"取消订阅成功"});var dK3x=this.eV4Z(e2x.id)||e2x.ext.data;dK3x.subCount-=1;dK3x.subed=false;return dK3x},finaly:function(d2x,e2x){h2x.z2x(p2x.pV7O,"listchange",d2x);h2x.z2x(p2x.pV7O,"itemchange",{attr:"subCount",data:d2x.data})}}});p2x.pV7O=NEJ.C();b2x=p2x.pV7O.N2x(p2x.hP5U);b2x.cnL3x=function(de3x,bB2x){var bA2x=this.JP3x(J2x,{});bA2x[de3x.radio.id]={id:de3x.id,name:de3x.name,time:bB2x||0};this.xW0x(J2x,bA2x)};b2x.cnK3x=function(E2x){return this.JP3x(J2x,{})[E2x]};b2x.bWd0x=function(dK3x){var cB3x={key:"radio_sub",ext:{}};if(j2x.mz6t(dK3x)){cB3x.id=dK3x.id;cB3x.ext.data=dK3x}else{cB3x.id=dK3x}return cB3x};b2x.nV7O=function(dK3x){if(l2x.gN4R())this.jL5Q(this.bWd0x(dK3x))};b2x.bWj0x=function(dK3x){l2x.hn5s({btnok:"确定",btncc:"取消",message:"确定取消订阅？",action:function(C2x){if(C2x=="ok"){this.NJ4N(this.bWd0x(dK3x))}}.f2x(this)})};b2x.bVY9P=function(){var vl9c="RADIO_UPGRADE_TIP";return function(v2x){var i2x=this.JP3x(vl9c,{});if(i2x[v2x]){return false}else{i2x[v2x]=true;this.xW0x(vl9c,i2x);return true}}}();H2x.fT4X.B2x({element:p2x.pV7O,event:["listchange","itemchange"]})})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,bs2x=NEJ.F,h2x=c2x("nej.v"),H2x=c2x("nej.ut"),j2x=c2x("nej.u"),u2x=c2x("nej.j"),l2x=c2x("nm.x"),p2x=c2x("nm.d"),y2x=c2x("nm.w"),b2x;var QUEUE_KEY="track-queue";var PlayMode={SINGLE_CYCLE:2,LIST_LOOP:4,RANDOM:5};y2x.uG9x=NEJ.C();b2x=y2x.uG9x.N2x(H2x.cP3x);b2x.bo2x=function(e2x){this.bp2x(e2x);this.by2x=y2x.gl4p.fU4Y();this.jY5d=[];this.Bq1x=[];this.oo7h=l2x.bvI3x();this.fD4H=0;this.bZ3x([[y2x.gl4p,"playaction",this.ye0x.f2x(this)]]);this.kQ6K=p2x.ib5g.B2x();this.yl0x=p2x.pV7O.B2x();this.ckN3x()};b2x.bD2x=function(){this.bI3x();delete this.jY5d;delete this.Bq1x;delete this.oo7h};b2x.beb9S=function(){u2x.xE0x(QUEUE_KEY,this.jY5d)};b2x.ckM3x=function(){var vf9W=[PlayMode.SINGLE_CYCLE,PlayMode.LIST_LOOP,PlayMode.RANDOM];return function(){var eQ4U,r2x=j2x.dt3x(vf9W,this.oo7h.mode);eQ4U=r2x<0?PlayMode.LIST_LOOP:vf9W[(r2x+1)%3];this.oo7h.mode=eQ4U;if(this.WP6J()){this.bpd1x()}l2x.FT2x(this.oo7h);return this.oo7h.mode}}();b2x.ckJ3x=function(){return this.oo7h.mode};b2x.oQ7J=l2x.Jn3x(function(){this.yz0x(this.bHe5j(+1),"ui")},800);b2x.BV1x=l2x.Jn3x(function(){this.yz0x(this.bHe5j(-1),"ui")},800);b2x.ta8S=function(){return this.jY5d[this.fD4H]};b2x.ckI3x=function(jz5E,sN8F,gt4x){if(!jz5E||!jz5E.length)return;var bA2x={},rm7f=jz5E[0];if(!sN8F){j2x.bf2x(this.jY5d,function(bi2x){bA2x[bi2x.id]=bi2x});j2x.bf2x(jz5E,function(bi2x){if(bA2x[bi2x.id]){if(rm7f.id==bi2x.id){rm7f=bA2x[bi2x.id]}}else{this.jY5d.push(bi2x)}},this)}else{this.jY5d=jz5E}if(this.WP6J()){this.bpd1x()}if(gt4x){this.yz0x(j2x.dt3x(this.jY5d,rm7f));this.by2x.ey4C()}this.beb9S();h2x.z2x(y2x.uG9x,"queuechange",{cmd:gt4x?"play":"addto"})};b2x.mI6C=function(nN7G){var r2x=j2x.dt3x(this.jY5d,function(bi2x){return bi2x.id==nN7G});if(r2x!=-1){var ckH3x=r2x==this.fD4H&&this.jY5d.length>1,ckE3x=r2x==this.jY5d.length-1,bi2x=this.jY5d[r2x];this.jY5d.splice(r2x,1);if(this.WP6J()){this.Bq1x.splice(j2x.dt3x(this.Bq1x,bi2x),1)}if(ckH3x){if(ckE3x){this.yz0x(r2x-1)}else{this.yz0x(r2x)}}else if(r2x<this.fD4H){this.fD4H--}this.beb9S();h2x.z2x(y2x.uG9x,"queuechange",{cmd:"delete"})}};b2x.qN7G=function(){this.jY5d=[];this.Bq1x=[];this.oo7h.index=this.fD4H=0;l2x.FT2x(this.oo7h);this.beb9S();h2x.z2x(y2x.uG9x,"queuechange",{cmd:"clear"})};b2x.ta8S=function(){return this.jY5d[this.fD4H]};b2x.bHj5o=function(){return this.jY5d};b2x.lT6N=function(){return this.jY5d.length};b2x.bpi1x=function(E2x){var r2x=j2x.dt3x(this.jY5d,function(bi2x){return E2x==bi2x.id});if(r2x>=0){return this.jY5d[r2x]}};b2x.ckC3x=function(E2x){var r2x=j2x.dt3x(this.jY5d,function(bi2x){return E2x==bi2x.id});if(r2x>=0){this.yz0x(r2x);this.by2x.ey4C()}};b2x.ckN3x=function(){this.jY5d=u2x.vz9q(QUEUE_KEY)||[];this.fD4H=this.oo7h.index||0;if(this.jY5d.length&&this.WP6J()){this.bpd1x()}this.by2x.bfQ9H(this.ta8S(),true)};b2x.bHe5j=function(dx3x){if(this.WP6J()){var hB5G=this.ta8S(),r2x=inRange(j2x.dt3x(this.Bq1x,hB5G)+dx3x,this.Bq1x.length);return j2x.dt3x(this.jY5d,this.Bq1x[r2x])}else{return inRange(this.fD4H+dx3x,this.jY5d.length)}function inRange(r2x,bt2x){return r2x<0?bt2x-1:r2x>=bt2x?0:r2x}};b2x.bpd1x=function(){var k2x=this.jY5d.slice(0);this.Bq1x=[];while(k2x.length){var r2x=j2x.De1x(0,k2x.length-1);this.Bq1x.push(k2x[r2x]);k2x.splice(r2x,1)}};b2x.yz0x=function(r2x,v2x){if(!this.jY5d.length)return;var jm5r,ok7d=this.ta8S(),bHm5r=this.by2x.beq9h();this.fD4H=r2x;this.oo7h.index=this.fD4H;jm5r=this.jY5d[this.fD4H];l2x.FT2x(this.oo7h);h2x.z2x(y2x.uG9x,"playchange",{old:ok7d,"new":jm5r,type:v2x});this.by2x.bfQ9H(this.ta8S());if(ok7d&&bHm5r>3){this.kQ6K.bmA1x(ok7d.id,bHm5r,ok7d.source,v2x||"interrupt")}if(jm5r&&jm5r.program)this.yl0x.cnL3x(jm5r.program,0)};b2x.WP6J=function(){return this.oo7h.mode==PlayMode.RANDOM};b2x.ye0x=function(d2x){if(d2x.action=="ended"){if(this.oo7h.mode==PlayMode.SINGLE_CYCLE){this.yz0x(this.fD4H,"playend")}else{this.oQ7J()}}};H2x.fT4X.B2x({element:y2x.uG9x,event:["queuechange","playchange"]})})();
(function(){var c2x=NEJ.P,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),ds3x=c2x("nej.p"),u2x=c2x("nej.j"),bd2x=c2x("nej.ui"),H2x=c2x("nej.ut"),p2x=c2x("nm.d"),n2x=c2x("nm.l"),l2x=c2x("nm.x"),dM3x=c2x("nm.u"),y2x=c2x("nm.w"),M2x=c2x("nm.m.f"),b2x,L2x;M2x.bHn5s=NEJ.C();b2x=M2x.bHn5s.N2x(bd2x.er4v);b2x.cz3x=function(){this.cE3x();this.gY4c=y2x.uG9x.fU4Y();h2x.s2x(y2x.uG9x,"queuechange",this.zr0x.f2x(this));h2x.s2x(y2x.uG9x,"playchange",this.hL5Q.f2x(this))};b2x.cd3x=function(){this.cc3x="m-player-panel"};b2x.bW3x=function(){this.cg3x();var k2x=a1x.D2x(this.o2x,"j-flag");this.bdT9K=k2x[0];this.kK5P=k2x[1];this.WM6G=k2x[2];this.bO3x=k2x[3];this.WL6F=k2x[4];this.jx5C=y2x.BI1x.B2x({track:this.WL6F,slide:a1x.dg3x(this.WL6F)[0],content:this.bO3x,speed:4});this.ch3x={nask:k2x[5],nmenu:k2x[6],nlist:k2x[7],nscroll:k2x[8]};h2x.s2x(this.o2x,"click",this.bN3x.f2x(this));h2x.s2x(this.WM6G,"load",this.rd7W.f2x(this))};b2x.bo2x=function(e2x){this.bp2x(e2x);this.oO7H=y2x.bHs5x.B2x(this.ch3x);this.hL5Q({"new":this.gY4c.ta8S()});this.jx5C.qW7P();var k2x=a1x.D2x(this.bO3x,"z-sel");if(k2x.length){var bn2x=a1x.iu5z(k2x[0],this.bO3x);this.bO3x.scrollTop=this.bO3x.scrollTop+(bn2x.y-(this.bO3x.scrollTop+112));this.jx5C.bDK5P()}};b2x.bD2x=function(){this.z2x("onclose");if(this.oO7H){this.oO7H.V2x();delete this.oO7H}this.bI3x()};b2x.zr0x=function(d2x){a1x.dw3x(this.bO3x,"m-player-queue",{queue:this.gY4c.bHj5o(),current:this.gY4c.ta8S()},{dur2time:l2x.lP6J,getArtistName:l2x.tr8j});this.bdT9K.innerText=this.gY4c.lT6N();if(d2x&&d2x.cmd=="delete")return;var k2x=a1x.D2x(this.bO3x,"z-sel");if(k2x.length){var bn2x=a1x.iu5z(k2x[0],this.bO3x);this.bO3x.scrollTop=Math.max(Math.min(bn2x.y,this.bO3x.scrollTop),bn2x.y-224);this.jx5C.bDK5P()}};b2x.bN3x=function(d2x){var g2x,E2x,bHt5y;g2x=h2x.ba2x(d2x,"a:href");if(g2x&&g2x.tagName.toLocaleLowerCase()=="a"&&/^http/.test(g2x.href)){return}h2x.tR9I(d2x);g2x=h2x.ba2x(d2x,"d:action");E2x=a1x.t2x(g2x,"id");switch(a1x.t2x(g2x,"action")){case"likeall":var kX6R=this.gY4c.bHj5o();if(kX6R&&kX6R.length){var k2x=[];j2x.bf2x(kX6R,function(q2x){if(!q2x.program)k2x.push(q2x)});window.subscribe(k2x,!1);this.V2x()}break;case"delete":this.gY4c.mI6C(E2x);h2x.bg2x(d2x);break;case"like":var bi2x=this.gY4c.bpi1x(E2x);window.subscribe(bi2x,false);h2x.bg2x(d2x);this.V2x();break;case"share":bi2x=this.gY4c.bpi1x(E2x);!bi2x.program?l2x.lk6e({rid:bi2x.id,type:18,purl:bi2x.album.picUrl,name:bi2x.name,author:l2x.Cr1x(bi2x.artists)}):l2x.lk6e({rid:bi2x.program.id,type:17,purl:bi2x.program.coverUrl,name:bi2x.program.name,author:(bi2x.program.radio||[]).name});h2x.bg2x(d2x);this.V2x();break;case"download":bi2x=this.gY4c.bpi1x(E2x);if(bi2x.program){l2x.Py5D({type:17,id:bi2x.program.id})}else{bHt5y=l2x.qy7r(bi2x);if(bHt5y==1e3){l2x.iJ5O("因版权方要求，该歌曲不支持下载")}else{l2x.Py5D({type:18,id:bi2x.id})}}this.V2x();break;case"play":this.gY4c.ckC3x(E2x);break;case"clear":this.gY4c.qN7G();break;case"close":this.V2x();break}};b2x.hL5Q=function(d2x){var Jo3x=d2x["new"];if(Jo3x){this.oO7H&&this.oO7H.ckB3x(Jo3x);if(Jo3x.program){this.WM6G.src=Jo3x.program.blurCoverUrl;this.kK5P.innerText=Jo3x.program.name}else{var bpq1x,Ms4w;j2x.bf2x(["pic_str","pic","picId_str","picId","picStr"],function(J2x){var q2x=(Jo3x.album||{})[J2x];if(j2x.fP4T(q2x)){bpq1x=bpq1x||q2x}else{Ms4w=Ms4w||q2x}});this.WM6G.src="//music.163.com/api/img/blur/"+(bpq1x||Ms4w);this.kK5P.innerText=Jo3x.name}}this.zr0x()};b2x.rd7W=function(d2x){var cj3x=this.WM6G.clientHeight,ckz3x=this.bO3x.parentNode.clientHeight;a1x.bc2x(this.WM6G,"top",(ckz3x-cj3x)/2+"px")}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,bs2x=NEJ.F,P2x=c2x("nej.ut"),b2x;if(!!P2x.bwQ3x)return;P2x.bwQ3x=NEJ.C();b2x=P2x.bwQ3x.N2x(P2x.cP3x);b2x.bo2x=function(e2x){this.bp2x(e2x);this.ban8f=e2x.to||bb2x;this.So5t=e2x.from||{};this.cvP5U=Math.max(0,parseInt(e2x.delay)||0)};b2x.bD2x=function(){this.bI3x();this.bg2x();if(!!this.Sq5v){window.clearTimeout(this.Sq5v);delete this.Sq5v}delete this.ban8f;delete this.So5t};b2x.bTg9X=function(bB2x){if(!this.So5t)return;if((""+bB2x).indexOf(".")>=0)bB2x=+(new Date);if(this.bTh9Y(bB2x)){this.bg2x();return}this.dI3x=requestAnimationFrame(this.bTg9X.f2x(this))};b2x.bTh9Y=bs2x;b2x.ey4C=function(){var cvO5T=function(){this.Sq5v=window.clearTimeout(this.Sq5v);this.So5t.time=+(new Date);this.dI3x=requestAnimationFrame(this.bTg9X.f2x(this))};return function(){this.Sq5v=window.setTimeout(cvO5T.f2x(this),this.cvP5U);return this}}();b2x.bg2x=function(){this.dI3x=cancelRequestAnimationFrame(this.dI3x);this.z2x("onstop");return this}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,j2x=c2x("nej.u"),P2x=c2x("nej.ut"),b2x,L2x;if(!!P2x.FQ2x)return;P2x.FQ2x=NEJ.C();b2x=P2x.FQ2x.N2x(P2x.bwQ3x);L2x=P2x.FQ2x.ct3x;b2x.bo2x=function(e2x){this.bp2x(e2x);this.baw8o=e2x.duration||200;this.cvN5S=1/(200*this.baw8o);this.cvM5R(e2x.timing);this.cvL5Q()};b2x.bD2x=function(){this.bI3x();delete this.Po4s;delete this.bwJ3x};b2x.cvM5R=function(){var hb4f=/^cubic\-bezier\((.*?)\)$/i,kW6Q=/\s*,\s*/i,bTx9o={linear:[0,0,1,1],ease:[.25,.1,.25,1],easein:[.42,0,1,1],easeout:[0,0,.58,1],easeinout:[0,0,.58,1]};var cvJ5O=function(C2x,r2x,k2x){k2x[r2x]=parseFloat(C2x)};return function(baF8x){baF8x=(baF8x||"").toLowerCase();this.Po4s=bTx9o[baF8x];if(hb4f.test(baF8x)){this.Po4s=RegExp.$1.split(kW6Q);j2x.bf2x(this.Po4s,cvJ5O)}if(!!this.Po4s)return;this.Po4s=bTx9o.ease}}();b2x.cvL5Q=function(){var Pn4r=this.Po4s,bwC3x=3*Pn4r[0],bTE9v=3*(Pn4r[2]-Pn4r[0])-bwC3x,cvI5N=1-bwC3x-bTE9v,bwB3x=3*Pn4r[1],bTK9B=3*(Pn4r[3]-Pn4r[1])-bwB3x,cvH5M=1-bwB3x-bTK9B;this.bwJ3x={ax:cvI5N,ay:cvH5M,bx:bTE9v,by:bTK9B,cx:bwC3x,cy:bwB3x}};b2x.cvE5J=function(){var bTO9F=function(bB2x,qP7I){return((qP7I.ax*bB2x+qP7I.bx)*bB2x+qP7I.cx)*bB2x};var cvD5I=function(bB2x,qP7I){return((qP7I.ay*bB2x+qP7I.by)*bB2x+qP7I.cy)*bB2x};var cvA5F=function(bB2x,qP7I){return(3*qP7I.ax*bB2x+2*qP7I.bx)*bB2x+qP7I.cx};var cvz5E=function(bB2x,bUb9S,qP7I){var t0,t1,t2,x2,d2,i;for(t2=bB2x,i=0;i<8;i++){x2=bTO9F(t2,qP7I)-bB2x;if(Math.abs(x2)<bUb9S)return t2;d2=cvA5F(t2,qP7I);if(Math.abs(d2)<1e-6)break;t2=t2-x2/d2}t0=0;t1=1;t2=bB2x;if(t2<t0)return t0;if(t2>t1)return t1;while(t0<t1){x2=bTO9F(t2,qP7I);if(Math.abs(x2-bB2x)<bUb9S)return t2;if(bB2x>x2)t0=t2;else t1=t2;t2=(t1-t0)*.5+t0}return t2};return function(dx3x){return cvD5I(cvz5E(dx3x/this.baw8o,this.cvN5S,this.bwJ3x),this.bwJ3x)}}();b2x.bTh9Y=function(bB2x){var dx3x=bB2x-this.So5t.time,Ch1x=this.cvE5J(dx3x),bn2x=j2x.Ns4w(this.So5t.offset*(1-Ch1x)+this.ban8f.offset*Ch1x,2),or7k=!1;if(dx3x>=this.baw8o){bn2x=this.ban8f.offset;or7k=!0}this.z2x("onupdate",{offset:bn2x});return or7k};b2x.bg2x=function(){this.z2x("onupdate",{offset:this.ban8f.offset});L2x.bg2x.apply(this,arguments);return this}})();
(function(){var c2x=NEJ.P,P2x=c2x("nej.ut"),b2x;if(!!P2x.FH2x)return;P2x.FH2x=NEJ.C();b2x=P2x.FH2x.N2x(P2x.FQ2x);b2x.bo2x=function(e2x){e2x=NEJ.X({},e2x);e2x.timing="easein";this.bp2x(e2x)}})();
(function(){var c2x=NEJ.P,a1x=c2x("nej.e"),h2x=c2x("nej.v"),P2x=c2x("nej.ut"),zl0x;P2x.Kw3x=NEJ.C();zl0x=P2x.Kw3x.N2x(P2x.cP3x);zl0x.bo2x=function(e2x){this.bp2x(e2x);this.cmm3x=!!e2x.reset;this.Ti5n=parseInt(e2x.delta)||0;this.jM5R=a1x.A2x(e2x.track);this.cba1x=a1x.A2x(e2x.progress);this.bZ3x([[e2x.thumb,"mousedown",this.cml3x.f2x(this)],[document,"mousemove",this.cbd1x.f2x(this)],[document,"mouseup",this.blz0x.f2x(this)],[this.jM5R,"mousedown",this.cbf1x.f2x(this)]]);var fv4z=e2x.value;if(fv4z==null){fv4z=this.cba1x.offsetWidth/this.jM5R.offsetWidth}this.hh5m(fv4z)};zl0x.bD2x=function(){if(!!this.cmm3x)this.Yn7g(0);this.bI3x()};zl0x.cml3x=function(d2x){if(!!this.ik5p)return;h2x.bg2x(d2x);this.ik5p=h2x.kb5g(d2x);this.cbh1x=this.jM5R.offsetWidth};zl0x.cbd1x=function(d2x){if(!this.ik5p)return;var bn2x=h2x.kb5g(d2x),dx3x=bn2x-this.ik5p;this.ik5p=bn2x;this.Yn7g(this.Kx3x+dx3x/this.cbh1x);this.z2x("onslidechange",{ratio:this.Kx3x})};zl0x.blz0x=function(d2x){if(!this.ik5p)return;this.cbd1x(d2x);delete this.ik5p;delete this.cbh1x;this.z2x("onslidestop",{ratio:this.Kx3x})};zl0x.cbf1x=function(d2x){var cmk3x=a1x.iu5z(this.jM5R).x,cmj3x=h2x.kb5g(d2x);this.Yn7g((cmj3x-cmk3x+this.Ti5n)/this.jM5R.offsetWidth);this.z2x("onslidestop",{ratio:this.Kx3x})};zl0x.Yn7g=function(fv4z){this.Kx3x=Math.max(0,Math.min(1,fv4z));a1x.bc2x(this.cba1x,"width",this.Kx3x*100+"%")};zl0x.hh5m=function(fv4z){if(!!this.ik5p)return;this.Yn7g(fv4z)};zl0x.bqA1x=function(fv4z){return this.Kx3x}})();
(function(){var c2x=NEJ.P,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),gE4I=c2x("nm.ut");gE4I.cky3x=function(){var Or4v=function(bv2x,cm3x,px7q,py7r,AI1x){if(px7q<py7r){var Jk3x=Math.floor((px7q+py7r)/2);Or4v(bv2x,cm3x,px7q,Jk3x,AI1x);Or4v(bv2x,cm3x,Jk3x+1,py7r,AI1x);ckx3x(bv2x,cm3x,px7q,Jk3x,py7r,AI1x)}};var ckx3x=function(bv2x,cm3x,px7q,Jk3x,py7r,AI1x){var i=px7q,j=Jk3x+1,k=px7q;while(i<=Jk3x&&j<=py7r){if(AI1x(bv2x[i],bv2x[j])<=0){cm3x[k++]=bv2x[i++]}else{cm3x[k++]=bv2x[j++]}}while(i<=Jk3x){cm3x[k++]=bv2x[i++]}while(j<=py7r){cm3x[k++]=bv2x[j++]}for(i=px7q;i<=py7r;i++){bv2x[i]=cm3x[i]}};var cku3x=function(hy5D,bpy1x){return hy5D<bpy1x};return function(bv2x,AI1x){if(!bv2x||bv2x.length==0)return bv2x;AI1x=AI1x||cku3x;Or4v(bv2x,new Array(bv2x.length),0,bv2x.length-1,AI1x);return bv2x}}();gE4I.bpz1x=function(){var hb4f=/\r\n|\r|\n/,kW6Q=/\[(.*?)\]/gi,bna1x={ar:"artist",ti:"track",al:"album",offset:"offset"},bHG5L=-1;var bnb1x=function(m2x,hR5W){var bv2x=[];hR5W=hR5W.replace(kW6Q,function($1,$2){var bB2x=bnc1x.call(this,m2x,$2);if(bB2x!=null){bHG5L=bB2x;bv2x.push({time:bB2x,tag:$2});m2x.scrollable=!0}return""}.f2x(this)).trim();if(!bv2x.length){if(!hR5W||hR5W.length==0)return;bv2x.push({time:bHG5L}||{time:-1})}j2x.bf2x(bv2x,function(q2x){q2x.lyric=hR5W});var yB0x=m2x.lines;yB0x.push.apply(yB0x,bv2x)};var bnc1x=function(m2x,bB2x){var bv2x=bB2x.split(":"),wO0x=bv2x.shift(),J2x=bna1x[wO0x];if(!!J2x){m2x[J2x]=bv2x.join(":");return null}wO0x=parseInt(wO0x);if(isNaN(wO0x)){return null}else{var bn2x=parseInt(m2x.offset)||0;return wO0x*60+parseFloat(bv2x.join("."))+bn2x/1e3}};var bne1x=function(bnf1x,kz5E){return bnf1x.time-kz5E.time};return function(E2x,bq2x){var m2x={id:E2x,lines:[],scrollable:!1,source:bq2x};j2x.bf2x((bq2x||"").trim().split(hb4f),bnb1x.f2x(null,m2x));if(m2x.scrollable){gE4I.cky3x(m2x.lines,bne1x);var r2x;for(var i=0;i<m2x.lines.length;i++){if(!!m2x.lines[i].lyric){r2x=i;break}}m2x.lines.splice(0,r2x)}return m2x}}();gE4I.car0x=function(wJ9A,bdB9s){var bpD1x=gE4I.bpz1x(0,wJ9A),bpE1x=gE4I.bpz1x(0,bdB9s);if(bpD1x.scrollable&&bpE1x.scrollable){j2x.bf2x(bpD1x.lines,function(q2x){var bdA9r=getTranslate(q2x.time);if(bdA9r){q2x.lyric=q2x.lyric+"<br>"+bdA9r.lyric}})}return bpD1x;function getTranslate(bB2x){var r2x=j2x.dt3x(bpE1x.lines,function(q2x){return q2x.time==bB2x});if(r2x!=-1){return bpE1x.lines[r2x]}}}})();
(function(){var P2x=NEJ.P("nej.ut"),bUf9W;if(!!P2x.uk9b)return;P2x.uk9b=NEJ.C();bUf9W=P2x.uk9b.N2x(P2x.FQ2x);bUf9W.bo2x=function(e2x){e2x=NEJ.X({},e2x);e2x.timing="linear";this.bp2x(e2x)}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,bs2x=NEJ.F,a1x=c2x("nej.e"),h2x=c2x("nej.v"),u2x=c2x("nej.j"),j2x=c2x("nej.u"),l2x=c2x("nm.x"),n2x=c2x("nm.l"),p2x=c2x("nm.d");var bHN6H=function(i2x){if(i2x.errorType==6||i2x.errorType==7||i2x.errorType==8){if(!l2x.gN4R())return;l2x.jA5F({txt:"m-report-point",title:"提示",onaction:bHO6I.f2x(this,i2x)})}else{bHO6I(i2x)}};var ckt3x=function(d2x){var g2x=h2x.ba2x(d2x,"d:action");if(a1x.t2x(g2x,"action")=="feedLyric"){h2x.bg2x(d2x);var cf3x=a1x.t2x(g2x,"code"),i2x={songId:a1x.t2x(g2x,"id"),errorType:cf3x};bHN6H(i2x)}};var bHO6I=function(i2x,d2x){if(!d2x||d2x.action=="ok"){u2x.be2x("/api/v1/feedback/lyric",{type:"json",method:"post",data:j2x.cr3x(i2x),onload:function(d2x){if(d2x.code==200){n2x.Z2x.I2x({tip:"提交成功"});if(j2x.gQ4U(i2x.onok)){i2x.onok()}}else if(d2x.code==-2){l2x.hn5s({title:"提示",message:"您的积分不足",btnok:"赚积分",action:function(U2x){if(U2x=="ok"){location.dispatch2("/store/gain/index")}}})}else{n2x.Z2x.I2x({type:2,tip:"提交失败"})}}})}};l2x.bHQ6K=function(g2x){var g2x=g2x||document.body,eP4T=ckt3x.f2x(this);h2x.s2x(g2x,"click",eP4T);return{destroy:function(){h2x.oq7j(g2x,"click",eP4T)}}};l2x.cQU9L=function(i2x){bHN6H(i2x)}})();
(function(){var c2x=NEJ.P,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),u2x=c2x("nej.j"),H2x=c2x("nej.ut"),P2x=c2x("nej.p"),p2x=c2x("nm.d"),l2x=c2x("nm.x"),n2x=c2x("nm.l"),dM3x=c2x("nm.ut"),y2x=c2x("nm.w"),b2x,L2x;var bpH1x={};y2x.bHs5x=NEJ.C();b2x=y2x.bHs5x.N2x(H2x.cP3x);b2x.bo2x=function(e2x){this.bp2x(e2x);this.bO3x=e2x.nlist;this.WE6y=e2x.nmenu;this.bHU6O=e2x.nask;this.wL0x={track:e2x.nscroll,slide:a1x.dg3x(e2x.nscroll)[0],content:this.bO3x,speed:4};this.bpJ1x=this.Kp3x.f2x(this);this.bZ3x([[e2x.nask,"click",this.ckq2x.f2x(this)],[this.wL0x.slide,"mousedown",this.bfN9E.f2x(this)],[document,"mouseup",this.bfJ9A.f2x(this)],[y2x.gl4p,"playaction",this.ye0x.f2x(this)]]);if(P2x.dB3x.browser!="firefox"){this.bZ3x([[this.bO3x,"mousewheel",this.bpJ1x]])}else{this.bO3x.addEventListener("DOMMouseScroll",this.bpJ1x,false)}this.jx5C=y2x.BI1x.B2x(this.wL0x);this.bpK1x=l2x.bHQ6K(this.bO3x);this.by2x=y2x.gl4p.fU4Y()};b2x.bD2x=function(){this.bI3x();delete this.Cc1x;delete this.ur9i;delete this.bdr9i;if(this.bpK1x){this.bpK1x.destroy();delete this.bpK1x}if(P2x.dB3x.browser=="firefox"){this.bO3x.removeEventListener("DOMMouseScroll",this.bpJ1x)}a1x.bc2x(this.WE6y,"display","none")};b2x.ckq2x=function(){if(a1x.dl3x(this.WE6y,"display")=="none"){a1x.bc2x(this.WE6y,"display","block")}else{a1x.bc2x(this.WE6y,"display","none")}};b2x.bpO1x=function(){var ip5u=0;return function(SS5X){clearTimeout(ip5u);this.bdr9i=true;if(this.ur9i){this.ur9i.V2x();delete this.ur9i}if(!SS5X){ip5u=setTimeout(function(){delete this.bdr9i}.f2x(this),3e3)}}}();b2x.Kp3x=function(){this.bpO1x()};b2x.bfN9E=function(){this.bpO1x(true)};b2x.ye0x=function(d2x){if(d2x.action=="timeupdate"){this.bIc6W(d2x.data.time,true)}};b2x.bIc6W=function(bB2x,ckp2x){if(!(this.Cc1x&&this.Cc1x.scrollable)||this.bdr9i)return;var i=this.Cc1x.lines.length-1,ii,dx3x,r2x=-1,bIe6Y=0,gw4A=0;for(;i>=0;i--){ii=this.Cc1x.lines[i];dx3x=ii.time-bB2x;if(dx3x<0&&(i>0||dx3x<=-2)){r2x=i;break}}for(var j=0,jj;j<this.bpQ1x.length;j++){jj=this.bpQ1x[j];if(j<r2x){bIe6Y+=jj.clientHeight}if(r2x==j){a1x.w2x(jj,"z-sel")}else{a1x.x2x(jj,"z-sel")}}if(r2x<0||a1x.iu5z(this.bpQ1x[r2x],this.bO3x).y<96){gw4A=0}else{gw4A=bIe6Y-96}if(Math.abs(gw4A-this.bO3x.scrollTop)<=4||this.ur9i)return;if(ckp2x){var cB3x={from:{offset:this.bO3x.scrollTop},to:{offset:gw4A},duration:500,onupdate:function(d2x){this.bO3x.scrollTop=d2x.offset;this.jx5C.OP4T(this.bO3x.scrollTop/(this.bO3x.scrollHeight-this.bO3x.clientHeight))}.f2x(this),onstop:function(){if(this.ur9i){this.ur9i.V2x();delete this.ur9i}}.f2x(this)};this.ur9i=H2x.uk9b.B2x(cB3x);this.ur9i.ey4C()}else{this.bO3x.scrollTop=gw4A;this.jx5C.OP4T(this.bO3x.scrollTop/(this.bO3x.scrollHeight-this.bO3x.clientHeight))}};b2x.ckB3x=function(bi2x){this.bdn9e=bi2x;delete this.Cc1x;if(bi2x&&!bi2x.program){var X2x="/api/song/lyric",bw2x={id:bi2x.id,lv:-1,tv:-1};if(bpH1x[bi2x.id]){this.bpS1x(bpH1x[bi2x.id])}else{u2x.be2x(X2x,{sync:false,type:"json",query:bw2x,method:"get",onload:this.bpS1x.eL4P(this,bi2x.id),onerror:this.bpS1x.f2x(this)})}a1x.x2x(this.bHU6O,"f-hide")}else{a1x.w2x(this.bHU6O,"f-hide");this.bfH9y({})}};b2x.bpS1x=function(d2x,E2x){if(d2x.code==200){if(E2x){bpH1x[E2x]=d2x}var wJ9A=d2x.lrc||{},bdA9r=d2x.tlyric||{};if(!wJ9A.lyric){this.bfH9y(d2x)}else{this.Cc1x=dM3x.car0x(wJ9A.lyric,bdA9r.lyric);d2x.scrollable=this.Cc1x.scrollable;a1x.dw3x(this.bO3x,"m-lyric-line",{id:this.bdn9e.id,lines:this.Cc1x.lines,scrollable:this.Cc1x.scrollable});this.bpQ1x=a1x.D2x(this.bO3x,"j-flag")}d2x.songId=this.bdn9e.id;a1x.dw3x(this.WE6y,"m-player-lyric-ask",d2x)}else{}if(this.ur9i){this.ur9i.V2x();delete this.ur9i}this.jx5C.qW7P();this.bIc6W(this.by2x.beq9h()||0,false)};b2x.bfJ9A=function(){if(this.bdr9i){this.bpO1x()}};b2x.bfH9y=function(i2x){if(this.bdn9e.program){this.bO3x.innerHTML='<div class="nocnt nolyric"><span class="s-fc4">电台节目，无歌词</span></div>'}else if(i2x.nolyric){this.bO3x.innerHTML='<div class="nocnt nolyric"><span class="s-fc4">纯音乐，无歌词</span></div>'}else{this.bO3x.innerHTML='<div class="nocnt nolyric"><span class="s-fc4">暂时没有歌词</span><a data-action="feedLyric" data-code="6"'+"data-id="+this.bdn9e.id+' href="#" class="f-tdu">求歌词</a></div>'}this.jx5C&&this.jx5C.qW7P()}})();
(function(){var c2x=NEJ.P,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),ds3x=c2x("nej.p"),u2x=c2x("nej.j"),H2x=c2x("nej.ut"),p2x=c2x("nm.d"),n2x=c2x("nm.l"),l2x=c2x("nm.x"),dM3x=c2x("nm.u"),y2x=c2x("nm.w"),M2x=c2x("nm.m.f"),dL3x=c2x("player"),b2x,L2x;M2x.Wx6r=NEJ.C();b2x=M2x.Wx6r.N2x(H2x.cP3x);b2x.cz3x=function(){this.cE3x();this.AE1x=a1x.A2x("g_player");this.lY6S=this.AE1x.parentNode;var k2x=a1x.D2x(this.AE1x,"j-flag");this.hC5H=k2x[0];this.lH6B=k2x[1];this.kK5P=k2x[2];this.LN4R=k2x[3];this.qv7o=k2x[4];this.hK5P=k2x[5];k2x=a1x.dg3x(k2x[6]);this.EH2x=k2x[0];this.wr9i=k2x[1];this.bIm6g=k2x[2];this.bdT9K=k2x[3];this.bpX1x=k2x[4];this.bpY1x=a1x.dg3x(this.bdT9K)[0];this.za0x=l2x.bvI3x();this.bdf8X(3e3);this.Ws6m();this.cko2x();this.ckn2x();this.bIu6o();this.bqc1x();dL3x.setLike=this.bIw6q.f2x(this);h2x.s2x(this.lY6S,"click",this.bN3x.f2x(this));h2x.s2x(y2x.gl4p,"playaction",this.ye0x.f2x(this));h2x.s2x(y2x.uG9x,"queuechange",this.zr0x.f2x(this));h2x.s2x(y2x.uG9x,"playchange",this.hL5Q.f2x(this));h2x.s2x(this.lY6S,ds3x.dB3x.browser=="ie"?"mouseleave":"mouseout",this.bIx6r.f2x(this,!1));h2x.s2x(this.lY6S,ds3x.dB3x.browser=="ie"?"mouseenter":"mouseover",this.bIx6r.f2x(this,!0));h2x.s2x(document,"keyup",this.bIy6s.f2x(this));h2x.s2x(window,"iframeclick",this.vw9n.f2x(this));h2x.s2x(document,"click",this.vw9n.f2x(this));h2x.s2x(this.EH2x,"click",h2x.bg2x.f2x(h2x));dL3x.hotkeys=this.bIy6s.f2x(this);this.bIz6t=j2x.pk7d()};b2x.bqc1x=function(){var Lk3x=a1x.A2x("g-topbar"),cN3x=this.AE1x.offsetWidth,ckm2x=this.lY6S.offsetWidth;if(!Lk3x)return;a1x.bc2x(this.AE1x,"marginLeft",-(ckm2x-Lk3x.offsetWidth+this.AE1x.offsetWidth)/2+"px")};b2x.bIu6o=function(){if(this.za0x.lock){a1x.x2x(this.lY6S,"m-playbar-unlock");a1x.w2x(this.lY6S,"m-playbar-lock");window.g_bottomBarHeight=47}else{a1x.w2x(this.lY6S,"m-playbar-unlock");a1x.x2x(this.lY6S,"m-playbar-lock");window.g_bottomBarHeight=0}};b2x.Ws6m=function(){var k2x=a1x.dg3x(this.LN4R);this.Wq6k=k2x[0];this.bcW8O=a1x.dg3x(k2x[1])[0];this.KW3x=H2x.Kw3x.B2x({track:this.LN4R,thumb:this.bcW8O,progress:k2x[1],onslidestop:function(d2x){this.bIF6z=false;this.by2x.qa7T(this.by2x.byf3x()*d2x.ratio)}.f2x(this),onslidechange:function(d2x){this.bIF6z=true;this.bqi1x({time:d2x.ratio*this.by2x.byf3x(),duration:this.by2x.byf3x()})}.f2x(this)})};b2x.ckn2x=function(){var k2x=a1x.D2x(this.EH2x,"j-t"),fv4z=k2x[1],yn0x=this.za0x.volume;if(yn0x==null){yn0x=.8}this.zv0x=H2x.NT4X.B2x({track:k2x[0],slide:k2x[2],onchange:function(d2x){var C2x=1-d2x.y.rate,cj3x=93*C2x;a1x.bc2x(fv4z,"height",cj3x+"px");cj3x>0?a1x.x2x(this.wr9i,"icn-volno"):a1x.w2x(this.wr9i,"icn-volno");this.by2x.nf6Z(C2x);this.za0x.volume=C2x;l2x.FT2x(this.za0x)}.f2x(this)});this.zv0x.hh5m({x:0,y:1-yn0x})};b2x.cko2x=function(){var bw2x=j2x.hi5n(location.hash.slice(1))||{},v2x=bw2x["__media"]||"auto";if(this.za0x.useFlash){this.za0x.useFlash=false;l2x.FT2x(this.za0x)}this.by2x=y2x.gl4p.fU4Y({media:v2x});this.gY4c=y2x.uG9x.fU4Y();dL3x.addTo=function(jz5E,sN8F,gt4x){this.gY4c.ckI3x(JSON.parse(JSON.stringify(jz5E)),sN8F,gt4x)}.f2x(this);dL3x.tipPlay=this.bqj1x.f2x(this);dL3x.getPlaying=function(){return{track:this.gY4c.ta8S(),playing:this.by2x.uB9s()}}.f2x(this);dL3x.pause=this.by2x.fM4Q.f2x(this.by2x);var hB5G=this.gY4c.ta8S();if(hB5G){this.bII6C(hB5G)}this.bIJ6D(this.gY4c.ckJ3x());this.bIK6E();this.ckl2x()};b2x.zr0x=function(){var ip5u=0;return function(d2x){if(d2x.cmd=="play"||d2x.cmd=="addto"){this.bqj1x(d2x.cmd=="play"?"已开始播放":"已添加到播放列表")}this.bIK6E()}}();b2x.hL5Q=function(d2x){var bi2x=d2x["new"];this.bII6C(bi2x);if(this.by2x.uB9s()){document.title=decodeURIComponent("%E2%96%B6%20")+bi2x.name}h2x.z2x(window,"playchange",{trackId:bi2x.id,track:bi2x})};b2x.bN3x=function(d2x){var g2x=h2x.ba2x(d2x,"d:action"),U2x=a1x.t2x(g2x,"action"),oY7R=h2x.ba2x(d2x,"a:href");if(oY7R&&oY7R.tagName.toLocaleLowerCase()=="a"&&/^http/.test(oY7R.href)){this.V2x();return}else{h2x.bg2x(d2x)}switch(U2x){case"lock":this.za0x.lock=!a1x.bE2x(this.lY6S,"m-playbar-lock");l2x.FT2x(this.za0x);this.bIu6o();break;case"prev":this.gY4c.BV1x();break;case"next":this.gY4c.oQ7J();break;case"play":this.by2x.ey4C();break;case"pause":this.by2x.fM4Q();break;case"like":var bi2x=this.gY4c.ta8S();if(bi2x){window.subscribe(bi2x,bi2x.program)}!bi2x.program&&this.uK9B&&this.uK9B.V2x();break;case"share":var bi2x=this.gY4c.ta8S();if(bi2x.program&&bi2x.program.auditStatus==1){l2x.iJ5O("由于版权问题，该节目暂时无法分享。")}else{if(bi2x){!bi2x.program?l2x.lk6e({rid:bi2x.id,type:18,purl:bi2x.album.picUrl,name:bi2x.name,author:l2x.Cr1x(bi2x.artists)}):l2x.lk6e({rid:bi2x.program.id,type:17,purl:bi2x.program.coverUrl,name:bi2x.program.name,author:(bi2x.program.radio||[]).name})}this.uK9B&&this.uK9B.V2x()}break;case"mode":this.bIJ6D(this.gY4c.ckM3x(),true);break;case"volume":h2x.bg2x(d2x);if(this.EH2x.style.visibility!="hidden"){a1x.bc2x(this.EH2x,"visibility","hidden")}else{a1x.bc2x(this.EH2x,"visibility","visible")}break;case"panel":h2x.bg2x(d2x);if(!this.uK9B){this.uK9B=M2x.bHn5s.B2x({parent:this.lY6S,onclose:function(){delete this.uK9B;this.bdf8X()}.f2x(this)})}else{if(this.uK9B){this.uK9B.V2x();delete this.uK9B}}break}};b2x.bqi1x=function(d2x){this.qv7o.innerHTML=l2x.fw4A("<em>{0}</em> / {1}",l2x.lP6J(d2x.time),l2x.lP6J(d2x.duration))};b2x.bIJ6D=function(eQ4U,cT3x){var bA2x={2:{icn:"icn-one",title:"单曲循环"},4:{icn:"icn-loop",title:"循环"},5:{icn:"icn-shuffle",title:"随机"}},bm2x=bA2x[eQ4U];a1x.fo4s(this.bIm6g,"icn-one icn-loop icn-shuffle",bm2x.icn);this.bpX1x.innerText=this.bIm6g.title=bm2x.title;clearTimeout(this.ckk2x);if(cT3x){a1x.bc2x(this.bpX1x,"display","");this.ckk2x=setTimeout(function(){a1x.bc2x(this.bpX1x,"display","none")}.f2x(this),2e3)}};b2x.bIw6q=function(de3x){var hB5G=this.gY4c.ta8S();if(hB5G&&hB5G.program&&hB5G.program.id==de3x.id){hB5G.program.liked=de3x.liked;this.hK5P.title="赞";if(de3x.liked){a1x.fo4s(this.hK5P,"icn-zan","icn-yizan")}else{a1x.fo4s(this.hK5P,"icn-yizan","icn-zan")}this.gY4c.beb9S()}};b2x.bII6C=function(bi2x){var bx2x;a1x.bc2x(this.Wq6k,"width",0);this.bqi1x(0);this.KW3x.hh5m(0);var windowParent=window.parent?window.parent:window;var GDegradeConfig={degrade:false};try{GDegradeConfig=windowParent["GDegradeConfig"]}catch(e){}if(bi2x){bx2x=this.ckh2x(bi2x);if(bi2x.program){if(GDegradeConfig.degrade){a1x.fo4s(this.hK5P,"icn-add icn-zan icn-yizan","f-hide")}else{a1x.fo4s(this.hK5P,"icn-add","icn-zan");this.hK5P.title="赞";u2x.kT6N(this.qu7n);this.qu7n=u2x.be2x("/api/dj/program/detail",{type:"json",query:{id:bi2x.program.id},onload:function(d2x){if(d2x.code==200){this.bIw6q(d2x.program)}}.f2x(this)})}}else{a1x.fo4s(this.hK5P,"icn-zan icn-yizan f-hide","icn-add");this.hK5P.title="收藏"}this.lH6B.innerHTML=l2x.fw4A('<img src="{0}?param=34y34"><a href="{1}" hidefocus="true" class="mask"></a>',bx2x.cover,bx2x.titleUrl);a1x.dw3x(this.kK5P,"m-player-playinfo",bx2x);this.ckf2x(bi2x)}};b2x.bIK6E=function(){var k2x=a1x.dg3x(this.bdT9K);k2x[1].innerText=this.gY4c.lT6N()};b2x.ckh2x=function(bi2x){var m2x={duration:bi2x.duration,cover:"http://s4.music.126.net/style/web2/img/default_album.jpg",source:bi2x.source};if(bi2x.program){m2x.type="program";m2x.name=j2x.dR3x(bi2x.program.name);m2x.cover=bi2x.program.coverUrl;m2x.titleUrl="/program?id="+bi2x.program.id;m2x.artistHtml=l2x.fw4A('<a hidefocus="true" href="/radio?id={0}" title="{1}">{1}</a>',bi2x.program.radio.id,j2x.dR3x(bi2x.program.radio.name))}else{m2x.type="song";m2x.name=bi2x.name;m2x.mvid=bi2x.mvid;if(!bi2x.album){bi2x.album={}}if(bi2x.album.pic&&bi2x.album.picUrl){m2x.cover=bi2x.album.picUrl}m2x.titleUrl="/song?id="+bi2x.id;m2x.artistHtml=l2x.tr8j(bi2x.artists)}return m2x};b2x.ckf2x=function(bi2x){try{var mediaSession=window.navigator.mediaSession;var MediaMetadata=window.MediaMetadata;var cke2x=(bi2x.artists||[]).map(function(ie5j){return(ie5j||{}).name}).join(" / ");var ckc2x=bi2x.program?((bi2x.program||{}).radio||{}).name:(bi2x.album||{}).name;var oI7B=bi2x.program?((bi2x.program||{}).radio||{}).picUrl:(bi2x.album||{}).picUrl;mediaSession.metadata=new MediaMetadata({title:bi2x.name,artist:cke2x,album:ckc2x,artwork:[{src:oI7B+"?param=200y200",sizes:"200x200",type:"image/jpeg"}]})}catch(e){}};b2x.ye0x=function(d2x){var i2x=d2x.data;switch(d2x.action){case"play":a1x.w2x(this.hC5H,"pas");a1x.t2x(this.hC5H,"action","pause");u2x.gP4T("playerid",this.bIz6t);var bi2x=this.gY4c.ta8S();if(bi2x){document.title=decodeURIComponent("%E2%96%B6%20")+bi2x.name}h2x.z2x(window,"playstatechange",d2x);break;case"pause":a1x.x2x(this.hC5H,"pas");a1x.t2x(this.hC5H,"action","play");document.title=this.ckb2x()||"网易云音乐";break;case"timeupdate":if(this.bIF6z)return;var hJ5O=u2x.gP4T("playerid");if(hJ5O&&hJ5O!==this.bIz6t){this.by2x.fM4Q()}this.KW3x.hh5m(i2x.time/i2x.duration);this.bqi1x(i2x);break;case"progress":a1x.bc2x(this.Wq6k,"width",i2x.loaded*100/i2x.total+"%");break;case"error":this.bqj1x("播放失败");a1x.x2x(this.bcW8O,"z-load");break;case"playing":a1x.x2x(this.bcW8O,"z-load");break;case"waiting":a1x.w2x(this.bcW8O,"z-load");break}};b2x.bqj1x=function(){var ip5u=0;return function(dU3x){if(dU3x){this.bpY1x.innerText=dU3x;a1x.bc2x(this.bpY1x,"display","");clearTimeout(ip5u);ip5u=setTimeout(function(){a1x.bc2x(this.bpY1x,"display","none")}.f2x(this),2e3);this.qB7u(true);this.bdf8X(2e3)}}}();b2x.bIx6r=function(Nd4h,d2x){if(!this.uK9B){if(Nd4h){if(!l2x.Pm4q(this.lY6S,d2x.relatedTarget||d2x.fromElement)){this.qB7u(true)}}else{if(!l2x.Pm4q(this.lY6S,d2x.relatedTarget||d2x.toElement)){this.bdf8X()}}}};b2x.bdf8X=function(vo9f){clearTimeout(this.bIU6O);this.bIU6O=setTimeout(function(){if(!this.za0x.lock){this.qB7u(false)}}.f2x(this),vo9f||500)};b2x.qB7u=function(){var zz0x,bcK8C=true;return function(mH6B){clearTimeout(this.bIU6O);if(zz0x||mH6B==bcK8C)return;bcK8C=mH6B;zz0x=H2x.FH2x.B2x({to:{offset:mH6B?-53:-7},from:{offset:mH6B?-7:-53},onstop:function(){zz0x.V2x();zz0x=null},onupdate:function(d2x){a1x.bc2x(this.lY6S,"top",d2x.offset+"px")}.f2x(this),duration:mH6B?100:350});zz0x.ey4C()}}();b2x.bIy6s=function(d2x){if(d2x.keyCode==80&&!l2x.bIj6d()){this.by2x.uB9s()?this.by2x.fM4Q():this.by2x.ey4C()}else if(d2x.ctrlKey){switch(d2x.keyCode){case 37:this.gY4c.BV1x();break;case 39:this.gY4c.oQ7J();break}}};b2x.ckl2x=function(){try{var mediaSession=window.navigator.mediaSession;mediaSession.setActionHandler("previoustrack",this.gY4c.BV1x.bind(this.gY4c));mediaSession.setActionHandler("nexttrack",this.gY4c.oQ7J.bind(this.gY4c))}catch(e){}};b2x.vw9n=function(){a1x.bc2x(this.EH2x,"visibility","hidden");this.uK9B&&this.uK9B.V2x()};b2x.ckb2x=function(){var eT4X=a1x.A2x("g_iframe");if(eT4X){return eT4X.contentWindow.document.title}else{return""}};b2x.I2x=function(){window.g_bottomBarShow=true;a1x.bc2x(this.lY6S,"visibility","visible")};b2x.br2x=function(){window.g_bottomBarShow=false;this.by2x.fM4Q();a1x.bc2x(this.lY6S,"visibility","hidden")}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,bs2x=NEJ.F,a1x=c2x("nej.e"),h2x=c2x("nej.v"),u2x=c2x("nej.j"),H2x=c2x("nej.ut"),bd2x=c2x("nej.ui"),j2x=c2x("nej.u"),l2x=c2x("nm.x"),p2x=c2x("nm.d"),y2x=c2x("nm.w"),b2x;y2x.QB5G=NEJ.C();b2x=y2x.QB5G.N2x(bd2x.er4v);b2x.bo2x=function(e2x){this.bp2x(e2x);if(e2x.txt){this.o2x.innerHTML=a1x.ig5l(e2x.txt)}else if(e2x.html){this.o2x.innerHTML=e2x.html}this.Dz1x=e2x.captchaId;var k2x=a1x.D2x(this.o2x,"j-flag");this.eY4c=k2x[0];this.ej4n=k2x[1];this.bZ3x([[this.ej4n,"click",this.bAl4p.f2x(this)],[this.eY4c,"keypress",this.cxJ5O.f2x(this)]]);this.ej4n.src="/captcha?id="+this.Dz1x};b2x.bD2x=function(){this.bI3x()};b2x.bAl4p=function(){u2x.be2x("/api/image/captcha/verify/hf",{type:"json",query:{id:this.Dz1x,captcha:0},onload:function(m2x){if(m2x.code==200){this.Dz1x=m2x.captchaId;this.ej4n.src="/captcha?id="+this.Dz1x}}.f2x(this)})};b2x.cxJ5O=function(d2x){if(d2x.keyCode==13)this.z2x("onaction",d2x)};b2x.IR3x=function(){var m2x={},cf3x=this.eY4c.value;if(!cf3x){m2x.message="请输入验证码"}else{u2x.be2x("/api/image/captcha/verify/hf",{type:"json",sync:true,query:{id:this.Dz1x,captcha:cf3x},onload:cbVerify.f2x(this),onerror:cbVerify.f2x(this)})}return m2x;function cbVerify(d2x){if(d2x.code==200){if(d2x.result){m2x.success=true}else{m2x.message="验证码错误";if(d2x.captchaId){this.Dz1x=d2x.captchaId;this.ej4n.src="/captcha?id="+this.Dz1x}}}else{m2x.message="验证出错"}}};b2x.gm4q=function(){return this.eY4c.value};b2x.Ip3x=function(){return this.Dz1x};b2x.w2x=function(jl5q){a1x.w2x(this.eY4c,jl5q)};b2x.x2x=function(jl5q){a1x.x2x(this.eY4c,jl5q)}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,h2x=c2x("nej.v"),a1x=c2x("nej.e"),u2x=c2x("nej.j"),n2x=c2x("nm.l"),y2x=c2x("nm.w"),bH3x=c2x("nej.ui"),p2x=c2x("nm.d"),l2x=c2x("nm.x"),b2x,L2x;n2x.bAj4n=NEJ.C();b2x=n2x.bAj4n.N2x(n2x.ed4h);L2x=n2x.bAj4n.ct3x;b2x.bW3x=function(){this.cg3x();var k2x=a1x.D2x(this.o2x,"j-flag");this.eY4c=k2x[0];this.dX4b=k2x[1];h2x.s2x(this.o2x,"click",this.bN3x.f2x(this))};b2x.cd3x=function(){this.cc3x="m-captcha-layer"};b2x.bo2x=function(e2x){e2x.clazz="m-layer-captcha";e2x.parent=e2x.parent||document.body;e2x.title="输入验证码";e2x.draggable=!0;e2x.destroyable=true;e2x.mask=true;this.bp2x(e2x);this.db3x=y2x.QB5G.B2x({parent:this.eY4c,html:'<input class="u-txt txt f-fl j-flag"/><img class="captcha f-fl j-flag" src=""/>',captchaId:e2x.captchaId})};b2x.bD2x=function(){this.z2x("ondestroy");this.bI3x();if(this.db3x){this.db3x.V2x();delete this.db3x}};b2x.bN3x=function(d2x){var g2x=h2x.ba2x(d2x,"d:action");switch(a1x.t2x(g2x,"action")){case"ok":var bx2x=this.db3x.IR3x();if(!bx2x.success){this.dX4b.innerHTML='<i class="u-icn u-icn-25"></i>'+bx2x.message;a1x.x2x(this.dX4b,"f-hide")}else{a1x.w2x(this.dX4b,"f-hide");this.br2x()}break;case"cc":this.br2x();break}};l2x.bJQ6K=function(e2x){n2x.bAj4n.B2x(e2x).I2x()}})();
(function(){var c2x=NEJ.P,a1x=c2x("nej.e"),u2x=c2x("nej.j"),bb2x=c2x("nej.o"),j2x=c2x("nej.u"),h2x=c2x("nej.v"),bH3x=c2x("nej.ui"),p2x=c2x("nm.d"),l2x=c2x("nm.x"),n2x=c2x("nm.l"),b2x,L2x;n2x.re7X=NEJ.C();b2x=n2x.re7X.N2x(n2x.ed4h,!0);b2x.cz3x=function(){this.cE3x()};b2x.bW3x=function(){this.cg3x();var k2x=a1x.D2x(this.o2x,"j-flag");this.bAd4h=k2x[0];h2x.s2x(k2x[1],"click",this.bAb4f.f2x(this))};b2x.cd3x=function(){this.cc3x="m-layer-tip"};b2x.bo2x=function(e2x){e2x.parent=e2x.parent||document.body;this.bp2x(e2x);this.bAd4h.innerHTML=e2x.mesg||""};b2x.bD2x=function(){this.bI3x()};b2x.bAb4f=function(d2x){this.z2x("onnotice");this.br2x()};n2x.nZ7S=function(e2x){if(this.AH1x){this.AH1x.V2x();delete this.AH1x}this.AH1x=n2x.re7X.B2x(e2x);this.AH1x.I2x()}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,bs2x=NEJ.F,h2x=c2x("nej.v"),u2x=c2x("nej.j"),H2x=c2x("nej.ut"),a1x=c2x("nej.e"),j2x=c2x("nej.u"),n2x=c2x("nm.l"),l2x=c2x("nm.x"),p2x=c2x("nm.d"),lq6k=c2x("nm.ctl"),b2x;if(lq6k.bAa4e)return;lq6k.bAa4e=NEJ.C();b2x=lq6k.bAa4e.N2x(H2x.cP3x);var cxI5N=location.host=="music.163.com";if(cxI5N){var bV3x={host:"s2.music.126.net",scaptcha_server:"captcha.aq.163.com/v1_5",scaptcha_product_key:"nj2vr7swvutssrtbj16kzfentkikkvbf",captchaId:"73a18dc827b24b18ad0783701a75277d"}}else{var bV3x={host:location.host,scaptcha_server:"captcha.aq.163.com/v1_5",scaptcha_product_key:"nj2vr7swvutssrtbj16kzfentkikkvbf",captchaId:"73a18dc827b24b18ad0783701a75277d"}}b2x.bKg6a=function(cxG5L){return location.protocol+"//"+bV3x.host+cxG5L};b2x.cxF5K=function(J2x){return NEJ.Q(bV3x,J2x)};c2x("ctl").env=lq6k.bAa4e.fU4Y()})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,bs2x=NEJ.F,P2x=c2x("nej.p"),a1x=c2x("nej.e"),h2x=c2x("nej.v"),u2x=c2x("nej.j"),H2x=c2x("nej.ut"),j2x=c2x("nej.u"),l2x=c2x("nm.x"),p2x=c2x("nm.d"),y2x=c2x("nm.w"),b2x;if(y2x.bzT4X)return;y2x.bzT4X=NEJ.C();b2x=y2x.bzT4X.N2x(H2x.cP3x);b2x.cz3x=function(){var time=parseInt(+(new Date)/6e4,10);this.bKm6g=[location.protocol+"//cstaticdun.126.net/load.min.js?t="+time];if(P2x.dB3x&&P2x.dB3x.engine=="trident"&&nej.p.dB3x.release-5<0){this.bKm6g.unshift(ctl.env.bKg6a("/static/web2/3rd/scaptcha/ie6support.js"))}this.cE3x()};b2x.bo2x=function(e2x){this.bp2x(e2x);this.db3x="";this.hH5M=e2x.parent;this.mN6H={captchaId:e2x.captchaId,width:e2x.width};this.QL5Q(0);this.cxx5C()};b2x.bD2x=function(){delete this.bzQ3x;delete this.mN6H;delete this.hH5M;delete this.db3x;this.bI3x()};b2x.cxx5C=function(){if(this.bzQ3x>0)return;this.QL5Q(1);this.cxu5z()};b2x.cxu5z=function(){var bKv6p=this.bKm6g.shift();if(!bKv6p){this.QL5Q(2);this.hp5u()}else{u2x.cBz6t(bKv6p,{onloaded:this.cxp5u.f2x(this),onerror:this.QL5Q.f2x(this,3)})}};b2x.cxp5u=function(){if(j2x.gQ4U(window.initNECaptcha)){this.QL5Q(2);window.initNECaptcha({captchaId:this.mN6H.captchaId,element:this.hH5M,mode:"float",width:this.mN6H.width,onVerify:this.uS9J.f2x(this)},function(instance){this.fa4e=instance}.f2x(this),function(err){console.log("易盾sdk初始化失败",err)}.f2x(this))}};b2x.QL5Q=function(bKC6w){this.bzQ3x=bKC6w;this.z2x("onloadstatechange",{loadState:bKC6w})};b2x.uS9J=function(err,data){if(err){return}setTimeout(this.cxo5t.f2x(this,data),0)};b2x.cxo5t=function(d2x){if(d2x.validate){this.db3x=d2x.validate}else{this.db3x=""}this.z2x("onverify",{success:true})};b2x.hp5u=function(){if(this.bzQ3x==2){if(this.fa4e&&j2x.gQ4U(this.fa4e.refresh)){this.db3x="";this.fa4e.refresh()}}};b2x.ND4H=function(){return this.db3x}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),u2x=c2x("nej.j"),p2x=c2x("nm.d"),n2x=c2x("nm.l"),l2x=c2x("nm.x"),y2x=c2x("nm.w"),b2x,L2x;n2x.IJ3x=NEJ.C();b2x=n2x.IJ3x.N2x(n2x.ed4h);L2x=n2x.IJ3x.ct3x;b2x.bo2x=function(e2x){this.bp2x(e2x);this.dz3x=e2x;this.db3x=y2x.bzT4X.B2x({parent:this.Nz4D,captchaId:ctl.env.cxF5K("captchaId"),width:220,onverify:this.uS9J.f2x(this)})};b2x.bD2x=function(){this.bI3x();if(this.db3x){this.db3x.V2x();delete this.db3x}};b2x.cd3x=function(){this.cc3x="ntp-setnickname"};b2x.bW3x=function(){this.cg3x();var k2x=a1x.D2x(this.o2x,"js-flag");this.fl4p=k2x.shift();a1x.gX4b(this.fl4p,"holder");h2x.s2x(this.fl4p,"focus",this.gU4Y.f2x(this));h2x.s2x(this.fl4p,"keypress",this.Hs2x.f2x(this));h2x.s2x(this.fl4p,"keyup",this.bzH3x.f2x(this));this.Nz4D=k2x.shift();this.dX4b=k2x.shift();this.cy3x=k2x.shift();h2x.s2x(this.o2x,"click",this.bN3x.f2x(this))};b2x.I2x=function(){L2x.I2x.apply(this,arguments);this.bY3x(false);this.cQ3x(false);this.fl4p.value="";this.db3x.hp5u()};b2x.gU4Y=function(){a1x.x2x(this.fl4p,"u-txt-err")};b2x.Hs2x=function(d2x){if(d2x.keyCode==13)this.oL7E()};b2x.bN3x=function(d2x){var G2x=h2x.ba2x(d2x,"d:action");if(!G2x)return;var U2x=a1x.t2x(G2x,"action");switch(U2x){case"ok":this.oL7E(d2x);break}};b2x.oL7E=function(d2x){h2x.co3x(d2x);if(this.cQ3x())return;if(!(this.sr8j=this.bia0x()))return;var jD5I=this.db3x.ND4H();if(!jD5I.trim())return this.bY3x("请输入验证码","captcha");if(this.dz3x.onok){this.cQ3x(true);this.dz3x.onok({nickname:this.sr8j,dragPwd:jD5I})}};b2x.uS9J=function(d2x){if(d2x.success){this.bY3x(false);if(this.fl4p.value.trim()){this.oL7E()}}else{this.bY3x("验证码错误","captcha")}};b2x.bia0x=function(){var jq5v=this.fl4p.value.trim(),oJ7C=jq5v.replace(/[^\x00-\xff]/g,"**");if(!jq5v)return this.bY3x("请输入昵称","nickname");if(oJ7C.length<4||oJ7C.length>30)return this.bY3x("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");if(!/^[\u4e00-\u9fa5A-Za-z0-9-_]*$/.test(jq5v))return this.bY3x("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");return jq5v};b2x.bzH3x=function(d2x){var jq5v=this.fl4p.value.trim(),oJ7C=jq5v.replace(/[^\x00-\xff]/g,"**");if(this.bzB3x==jq5v)return;this.bzB3x=jq5v;if(d2x.keyCode==13)return;if(/[^\u4e00-\u9fa5\w-]/.test(jq5v))return this.bY3x("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");if(jq5v&&oJ7C.length>30)return this.bY3x("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");this.bY3x(false)};b2x.bY3x=function(bC2x,iZ5e,cxn5s){this.ea4e(this.dX4b,bC2x);a1x.x2x(this.fl4p,"u-txt-err");if(iZ5e=="nickname"){a1x.w2x(this.fl4p,"u-txt-err")}else if(iZ5e=="captcha"){}if(cxn5s){this.db3x.hp5u()}};b2x.cQ3x=function(dd3x){return this.dZ4d(this.cy3x,dd3x,"开启云音乐","设置中...")}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),u2x=c2x("nej.j"),p2x=c2x("nm.d"),n2x=c2x("nm.l"),l2x=c2x("nm.x"),b2x,L2x;n2x.bzy3x=NEJ.C();b2x=n2x.bzy3x.N2x(n2x.ed4h);L2x=n2x.bzy3x.ct3x;b2x.cd3x=function(){this.cc3x="ntp-setpassword"};b2x.bW3x=function(){this.cg3x();var Hy2x=a1x.D2x(this.o2x,"js-tip");this.cC3x=Hy2x[0];this.Vz6t=Hy2x[1];this.Vy6s=Hy2x[2];this.qL7E=a1x.D2x(this.o2x,"js-mob")[0];this.mS6M=a1x.D2x(this.o2x,"js-code")[0];this.dA3x=a1x.D2x(this.o2x,"js-input")[0];a1x.gX4b(this.dA3x,"holder");h2x.s2x(this.dA3x,"focus",this.gU4Y.f2x(this));h2x.s2x(this.dA3x,"keypress",this.Hs2x.f2x(this));h2x.s2x(this.dA3x,"input",this.Vw6q.f2x(this));this.dX4b=a1x.D2x(this.o2x,"u-err")[0];this.cy3x=a1x.D2x(this.o2x,"js-primary")[0];this.AO1x=a1x.D2x(this.o2x,"js-btmbar")[0];this.oW7P=a1x.D2x(this.o2x,"pwd-validation")[0];this.Ds1x=a1x.D2x(this.oW7P,"j-err")[0];this.Dt1x=a1x.D2x(this.oW7P,"j-err")[1];this.Du1x=a1x.D2x(this.oW7P,"j-err")[2];h2x.s2x(this.o2x,"click",this.bN3x.f2x(this))};b2x.bo2x=function(e2x){e2x.countrycode=e2x.countrycode||"86";this.bp2x(e2x);this.dz3x=e2x;this.bY3x(false);this.cQ3x(false);if(e2x.tip){this.cC3x.innerHTML=e2x.tip;a1x.x2x(this.cC3x,"f-hide")}else{a1x.w2x(this.cC3x,"f-hide")}if(e2x.mobile){this.qL7E.innerHTML=l2x.Jw3x(e2x.mobile)||"";this.mS6M.innerHTML=e2x.countrycode;a1x.w2x(this.Vy6s,"f-hide");a1x.x2x(this.Vz6t,"f-hide")}else{a1x.w2x(this.Vz6t,"f-hide");a1x.x2x(this.Vy6s,"f-hide")}this.dA3x.value="";a1x.w2x(this.oW7P,"f-hide");e2x.okbutton=e2x.okbutton||"下一步";this.cy3x.innerHTML="<i>"+e2x.okbutton+"</i>";if(e2x.canskip){a1x.x2x(this.AO1x,"f-hide")}else{a1x.w2x(this.AO1x,"f-hide")}};b2x.bN3x=function(d2x){var G2x=h2x.ba2x(d2x,"d:action");if(!G2x)return;var U2x=a1x.t2x(G2x,"action");switch(U2x){case"ok":this.oL7E(d2x);break;case"skip":this.Nq4u(d2x);break}};b2x.gU4Y=function(){a1x.x2x(this.oW7P,"f-hide");var eX4b=this.dA3x.value;this.yA0x(eX4b)};b2x.Hs2x=function(d2x){if(d2x.keyCode==13)this.oL7E()};b2x.Vw6q=function(){var eX4b=this.dA3x.value;this.yA0x(eX4b)};b2x.yA0x=function(pwd){var spaceReg=/(^\s+)|(\s+$)|\s+/g;var complexReg=/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$).{0,100}$/;var spaceValidate=true;var complexValidate=true;var lengthValidate=true;if(spaceReg.test(pwd)){a1x.w2x(this.Ds1x,"u-err");spaceValidate=false}else{a1x.x2x(this.Ds1x,"u-err");spaceValidate=true}if(pwd&&pwd.length>0){this.bY3x(false)}if(!pwd||!complexReg.test(pwd)){a1x.w2x(this.Dt1x,"u-err");complexValidate=false}else{a1x.x2x(this.Dt1x,"u-err");complexValidate=true}if(!pwd||pwd&&(pwd.length<8||pwd.length>20)){a1x.w2x(this.Du1x,"u-err");lengthValidate=false}else{a1x.x2x(this.Du1x,"u-err");lengthValidate=true}var pwdValidate=spaceValidate&&complexValidate&&lengthValidate;if(!pwdValidate){this.Hp2x=false;a1x.w2x(this.dA3x,"u-txt-err");a1x.w2x(this.cy3x,"u-btn2-dis")}else{this.Hp2x=true;a1x.x2x(this.dA3x,"u-txt-err");a1x.x2x(this.cy3x,"u-btn2-dis")}return pwdValidate};b2x.Nq4u=function(d2x){h2x.co3x(d2x);this.br2x();this.z2x("onskip")};b2x.oL7E=function(d2x){h2x.co3x(d2x);if(this.cQ3x())return;var eX4b=this.dA3x.value;if(!this.yA0x(eX4b))return;this.cQ3x(true);u2x.be2x("/api/w/user/bindingcellphone/v1",{type:"json",method:"post",query:{phone:this.dz3x.mobile,captcha:this.dz3x.captcha,password:j2x.kY6S(eX4b),loginprotect:false},onload:function(i2x){if(i2x.code===200){this.z2x("onok")}else{this.z2x("onerror",i2x)}}.f2x(this),onerror:function(){this.z2x("onerror",{code:500})}})};b2x.bry2x=function(){var eX4b=this.dA3x.value;if(!eX4b)return this.bY3x("请输入密码","password");if(eX4b.length<6||eX4b.length>16)return this.bY3x("请输入6-16位的密码","password");if(/[^\x00-\xff]/.test(eX4b))return this.bY3x("密码不支持中文字符","password");return eX4b};b2x.bY3x=function(bC2x,iZ5e){this.ea4e(this.dX4b,bC2x);a1x.x2x(this.dA3x,"u-txt-err");if(iZ5e=="password"){a1x.w2x(this.dA3x,"u-txt-err")}};b2x.cQ3x=function(dd3x){return this.dZ4d(this.cy3x,dd3x,this.dz3x.okbutton,"设置中...")}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),ci3x=c2x("nej.ut"),l2x=c2x("nm.x"),p2x=c2x("nm.d"),n2x=c2x("nm.l"),b2x,L2x;n2x.zU1x=NEJ.C();b2x=n2x.zU1x.N2x(ci3x.cP3x);b2x.bo2x=function(e2x){this.bp2x(e2x);this.dz3x=e2x;this.tG8y=e2x.user;this.S2x=p2x.mC6w.B2x();this.S2x.s2x("onmobilebind",this.brT2x.f2x(this));this.S2x.s2x("onmobilebinderror",this.bao8g.f2x(this));this.S2x.s2x("onactive",this.QU5Z.f2x(this));this.S2x.s2x("onactiveerror",this.bzq3x.f2x(this));if(e2x.requiremobile&&!this.cxm5r(this.tG8y)){this.eH4L=n2x.qz7s.I2x({title:"绑定手机号",onok:this.bsa2x.f2x(this),canskip:true,onskip:this.bzp3x.f2x(this)})}else{this.bzp3x()}l2x.jU5Z()};b2x.bD2x=function(){this.bI3x();this.S2x.V2x();if(this.eH4L)this.eH4L.V2x();if(this.nz6t)this.nz6t.V2x()};b2x.bsa2x=function(bj2x){this.gk4o=bj2x.mobile;this.ZQ8I=bj2x.captcha;this.Ng4k()};b2x.Ng4k=function(){if(this.eH4L)this.eH4L.br2x();if(this.ki5n)this.ki5n.V2x();this.ki5n=n2x.bzy3x.I2x({title:"绑定手机号",mobile:this.gk4o,captcha:this.ZQ8I,canskip:false,onok:this.bzp3x.f2x(this),onerror:this.bao8g.f2x(this)})};b2x.bzp3x=function(){if(this.ki5n)this.ki5n.V2x();if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){this.baa8S={data:{nickname:"",dragPwd:""}};this.iY5d()}else{if(this.nz6t)this.nz6t.V2x();this.nz6t=n2x.IJ3x.I2x({title:"设置昵称",onok:this.cxl5q.f2x(this)})}};b2x.brT2x=function(){this.eH4L.br2x();this.Ng4k()};b2x.bao8g=function(bj2x){if(bj2x.code==506){this.eH4L.I2x();this.ki5n.br2x();this.eH4L.cQ3x(false);this.eH4L.bY3x(bj2x.message,"mobile")}else{n2x.Z2x.I2x({tip:bj2x.message||"绑定失败，请稍后重试",type:2})}};b2x.cxl5q=function(bj2x){this.baa8S={data:{nickname:bj2x.nickname,dragPwd:bj2x.dragPwd}};l2x.wG9x(this.iY5d.f2x(this))};b2x.iY5d=function(cl3x){var randomStr=Math.random().toString(36).substr(2);this.baa8S.data.checkToken=cl3x||randomStr;if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){this.baa8S.data.checkToken=""}this.S2x.brn2x(this.baa8S)};b2x.QU5Z=function(bj2x){if(this.nz6t){this.nz6t.br2x()}this.tG8y.profile=bj2x.profile;h2x.z2x(window,"login",{user:this.tG8y})};b2x.bzq3x=function(bj2x){this.nz6t.cQ3x(false);if(bj2x.code==505)return this.nz6t.bY3x("该昵称已被占用","nickname",true);if(bj2x.code==407)return this.nz6t.bY3x("该昵称包含关键词","nickname",true);if(bj2x.code==250)return this.nz6t.bY3x(bj2x.message||"登录异常","nickname",true);n2x.Z2x.I2x({tip:bj2x.message||"登录失败，请重试",type:2});this.nz6t.br2x()};b2x.cxm5r=function(dy3x){var tM9D=dy3x.bindings||[];return j2x.dt3x(tM9D,function(q2x){return q2x.type==1})>=0}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),l2x=c2x("nm.x"),p2x=c2x("nm.d"),n2x=c2x("nm.l"),y2x=c2x("nm.w"),b2x,L2x;n2x.QY5d=NEJ.C();b2x=n2x.QY5d.N2x(n2x.ed4h);L2x=n2x.QY5d.ct3x;b2x.cd3x=function(){this.cc3x="ntp-reg-mobile"};b2x.bW3x=function(){this.cg3x();this.qL7E=a1x.D2x(this.o2x,"j-mob")[0];this.dA3x=a1x.D2x(this.o2x,"j-pwd")[0];this.oW7P=a1x.D2x(this.o2x,"pwd-validation")[0];this.nY7R=a1x.D2x(this.o2x,"j-nextstep")[0];this.Ds1x=a1x.D2x(this.oW7P,"j-err")[0];this.Dt1x=a1x.D2x(this.oW7P,"j-err")[1];this.Du1x=a1x.D2x(this.oW7P,"j-err")[2];this.dX4b=a1x.D2x(this.o2x,"j-err")[0];this.cy3x=a1x.D2x(this.o2x,"j-btn")[0];a1x.gX4b(this.dA3x,"holder");h2x.s2x(this.dA3x,"focus",this.Bh1x.f2x(this));h2x.s2x(this.dA3x,"keypress",this.BP1x.f2x(this));h2x.s2x(this.dA3x,"input",this.Vw6q.f2x(this));h2x.s2x(this.o2x,"click",this.bN3x.f2x(this));this.Hp2x=true};b2x.bo2x=function(e2x){this.bp2x(e2x);this.kn5s=y2x.baU8M.B2x({parent:this.qL7E,phone:e2x.mobile,countrycode:e2x.countrycode,onpressenter:this.bzl3x.f2x(this)});this.bY3x(false);this.cQ3x(false);a1x.w2x(this.oW7P,"f-hide");this.dA3x.value=""};b2x.bD2x=function(){this.bI3x();this.kn5s.V2x()};b2x.Bh1x=function(){a1x.x2x(this.oW7P,"f-hide");var eX4b=this.dA3x.value;this.yA0x(eX4b)};b2x.Vw6q=function(){var eX4b=this.dA3x.value;this.yA0x(eX4b)};b2x.BP1x=function(d2x){if(d2x.keyCode==13)this.bzl3x()};b2x.yA0x=function(pwd){var spaceReg=/(^\s+)|(\s+$)|\s+/g;var complexReg=/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$).{0,100}$/;var spaceValidate=true;var complexValidate=true;var lengthValidate=true;if(spaceReg.test(pwd)){a1x.w2x(this.Ds1x,"u-err");spaceValidate=false}else{a1x.x2x(this.Ds1x,"u-err");spaceValidate=true}if(pwd&&pwd.length>0){this.bY3x(false)}if(!pwd||!complexReg.test(pwd)){a1x.w2x(this.Dt1x,"u-err");complexValidate=false}else{a1x.x2x(this.Dt1x,"u-err");complexValidate=true}if(!pwd||pwd&&(pwd.length<8||pwd.length>20)){a1x.w2x(this.Du1x,"u-err");lengthValidate=false}else{a1x.x2x(this.Du1x,"u-err");lengthValidate=true}var pwdValidate=spaceValidate&&complexValidate&&lengthValidate;if(!pwdValidate){this.Hp2x=false;a1x.w2x(this.dA3x,"u-txt-err");a1x.w2x(this.nY7R,"u-btn2-dis")}else{this.Hp2x=true;a1x.x2x(this.dA3x,"u-txt-err");a1x.x2x(this.nY7R,"u-btn2-dis")}};b2x.bN3x=function(d2x){var G2x=h2x.ba2x(d2x,"d:action");if(!G2x)return;var U2x=a1x.t2x(G2x,"action");switch(U2x){case"ok":this.bzl3x(d2x);break;case"back":this.bat8l(d2x);break}};b2x.bat8l=function(d2x){h2x.co3x(d2x);this.br2x();n2x.qk7d.I2x({title:"登录"})};b2x.bzl3x=function(d2x){h2x.co3x(d2x);if(!this.Hp2x)return;var gz4D=this.tz8r();if(!gz4D)return;this.cQ3x(true);this.z2x("onok",{mobile:gz4D.mobile,countrycode:gz4D.countrycode,password:gz4D.password})};b2x.tz8r=function(){var fx4B=this.kn5s.NP4T(),ms6m=this.kn5s.Vk6e(),eX4b=this.dA3x.value;if(!fx4B)return this.bY3x("请输入手机号","mobile");if(!eX4b)return this.bY3x("请输入登录密码","password");if(!l2x.Ci1x(fx4B,ms6m))return this.bY3x("请输入正确的手机号","mobile");if(eX4b.length<6||eX4b.length>16)return this.bY3x("请输入6-16位的密码","password");return{mobile:fx4B,password:eX4b,countrycode:ms6m}};b2x.bY3x=function(bC2x,iZ5e){this.ea4e(this.dX4b,bC2x);this.kn5s.baJ8B();a1x.x2x(this.dA3x,"u-txt-err");if(iZ5e=="mobile"){this.kn5s.brJ2x()}else if(iZ5e=="password"){a1x.w2x(this.dA3x,"u-txt-err")}};b2x.cQ3x=function(dd3x){return this.dZ4d(this.cy3x,dd3x,"下一步","发送中...")}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),l2x=c2x("nm.x"),p2x=c2x("nm.d"),n2x=c2x("nm.l"),y2x=c2x("nm.w"),b2x,L2x;n2x.bar8j=NEJ.C();b2x=n2x.bar8j.N2x(n2x.ed4h);L2x=n2x.bar8j.ct3x;b2x.cd3x=function(){this.cc3x="ntp-reg-setting"};b2x.bW3x=function(){this.cg3x();this.cC3x=a1x.D2x(this.o2x,"js-tip")[0];this.iN5S=a1x.D2x(this.o2x,"js-input")[0];a1x.gX4b(this.iN5S,"holder");h2x.s2x(this.iN5S,"focus",this.cxk5p.f2x(this));h2x.s2x(this.iN5S,"keypress",this.cxj5o.f2x(this));h2x.s2x(this.iN5S,"keyup",this.bzH3x.f2x(this));this.dX4b=a1x.D2x(this.o2x,"u-err")[0];this.cy3x=a1x.D2x(this.o2x,"js-primary")[0];h2x.s2x(this.o2x,"click",this.bN3x.f2x(this));l2x.jU5Z()};b2x.bo2x=function(e2x){this.bp2x(e2x);this.gk4o=e2x.mobile||"";this.fI4M=e2x.countrycode||"86";this.uY9P=e2x.password||"";this.cxi5n=e2x.captcha||"";if(e2x.tip){this.cC3x.innerHTML=e2x.tip}this.bY3x(false);this.cQ3x(false);this.iN5S.value="";this.S2x=p2x.mC6w.B2x({onmobileregist:this.Rd5i.f2x(this),onmobileregisterror:this.jv5A.f2x(this)})};b2x.bD2x=function(){this.bI3x();this.S2x.V2x();if(this.db3x){this.db3x.V2x();delete this.db3x}};b2x.bN3x=function(d2x){var G2x=h2x.ba2x(d2x,"d:action");if(!G2x)return;var U2x=a1x.t2x(G2x,"action");switch(U2x){case"ok":this.Re5j(d2x);break}};b2x.cxk5p=function(){a1x.x2x(this.iN5S,"u-txt-err")};b2x.cxj5o=function(d2x){if(d2x.keyCode==13)this.Re5j()};b2x.Re5j=function(d2x){h2x.co3x(d2x);if(this.cQ3x())return;var gz4D=this.tz8r();if(!gz4D)return;var i2x={phone:this.gk4o,countrycode:this.fI4M,password:j2x.kY6S(this.uY9P),nickname:gz4D.nickname,captcha:this.cxi5n};this.cQ3x(true);this.bLX6R=i2x;l2x.wG9x(this.iY5d.f2x(this))};b2x.iY5d=function(cl3x){var randomStr=Math.random().toString(36).substr(2);this.bLX6R.checkToken=cl3x||randomStr;this.S2x.bbG8y({data:this.bLX6R})};b2x.Rd5i=function(m2x){this.cQ3x(false);this.br2x();localCache.mq6k("user",m2x);h2x.z2x(window,"login",{user:m2x})};b2x.jv5A=function(bj2x){this.cQ3x(false);if(bj2x.code==415){if(this.db3x){this.db3x.V2x();this.bY3x("注册过于频繁","captcha")}this.db3x=y2x.QB5G.B2x({captchaId:bj2x.captchaId,txt:"txt-login-captcha",onaction:this.Re5j.f2x(this)});this.dX4b.insertAdjacentElement("beforeBegin",this.db3x.mA6u());return}if(bj2x.code==505)return this.bY3x("该昵称已被占用","nickname");if(bj2x.code==407)return this.bY3x("该昵称包含关键词","nickname");if(bj2x.code==250){this.bY3x(bj2x.message||"注册异常");return}if(bj2x.message){this.bY3x(bj2x.message)}else{n2x.Z2x.I2x({tip:"注册失败，请重试",type:2})}};b2x.tz8r=function(){var jq5v=this.iN5S.value.trim(),oJ7C=jq5v.replace(/[^\x00-\xff]/g,"**"),jD5I="";if(!jq5v)return this.bY3x("请输入昵称","nickname");if(this.db3x){jD5I=this.db3x.gm4q();if(!jD5I)return this.bY3x("请输入验证码","captcha");var bx2x=this.db3x.IR3x();if(!bx2x.success){return this.bY3x(bx2x.message,"captcha")}}if(oJ7C.length<4||oJ7C.length>30)return this.bY3x("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");if(!/^[\u4e00-\u9fa5A-Za-z0-9-_]*$/.test(jq5v))return this.bY3x("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");return{nickname:jq5v,captcha:jD5I}};b2x.bzH3x=function(d2x){var jq5v=this.iN5S.value.trim(),oJ7C=jq5v.replace(/[^\x00-\xff]/g,"**");if(this.bzB3x==jq5v)return;this.bzB3x=jq5v;if(d2x.keyCode==13)return;if(/[^\u4e00-\u9fa5\w-]/.test(jq5v))return this.bY3x("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");if(jq5v&&oJ7C.length>30)return this.bY3x("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");this.bY3x(false)};b2x.bY3x=function(bC2x,iZ5e){this.ea4e(this.dX4b,bC2x);a1x.x2x(this.iN5S,"u-txt-err");if(this.db3x)this.db3x.x2x("u-txt-err");if(iZ5e=="nickname"){a1x.w2x(this.iN5S,"u-txt-err")}else if(iZ5e=="captcha"){if(this.db3x)this.db3x.w2x("u-txt-err")}};b2x.cQ3x=function(dd3x){return this.dZ4d(this.cy3x,dd3x,"开启云音乐","设置中...")}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),ci3x=c2x("nej.ut"),l2x=c2x("nm.x"),p2x=c2x("nm.d"),n2x=c2x("nm.l"),b2x,L2x;var MOB_CHECK={MAIN:1,SNS:2,NETEASE:3,NULL:-1};n2x.baW8O=NEJ.C();b2x=n2x.baW8O.N2x(ci3x.cP3x);b2x.bo2x=function(e2x){e2x=e2x||{};this.bp2x(e2x);this.S2x=p2x.mC6w.B2x({onsendcaptcha:this.rB8t.f2x(this),onsendcaptchaerror:this.HY3x.f2x(this),onmobilecheck:this.Rg5l.f2x(this),onmobilecheckerror:this.Rh5m.f2x(this),onmobileregist:this.Rd5i.f2x(this),onmobileregisterror:this.bbk8c.f2x(this)});this.Cb1x=n2x.QY5d.I2x({title:"手机号注册",onok:this.ML4P.f2x(this)})};b2x.bD2x=function(){this.bI3x();this.S2x.V2x();if(this.Cb1x)this.Cb1x.V2x();if(this.eH4L)this.eH4L.V2x()};b2x.ML4P=function(bj2x){this.gk4o=bj2x.mobile;this.fI4M=bj2x.countrycode;this.uY9P=bj2x.password;this.S2x.Ah1x({data:{ctcode:this.fI4M,cellphone:bj2x.mobile}})};b2x.rB8t=function(){this.Cb1x.br2x();this.eH4L=n2x.qz7s.I2x({title:"手机号注册",mobile:this.gk4o,countrycode:this.fI4M,okbutton:"下一步",onok:this.bzb3x.f2x(this),backbutton:"&lt;&nbsp;&nbsp;返回登录",onback:this.bza3x.f2x(this)})};b2x.HY3x=function(bj2x){this.Cb1x.cQ3x(false);n2x.Z2x.I2x({tip:bj2x.message||"验证码发送失败",type:2})};b2x.bzb3x=function(bj2x){this.gk4o=bj2x.mobile;this.fI4M=bj2x.countrycode;this.db3x=bj2x.captcha;this.S2x.brj2x({data:{cellphone:bj2x.mobile,captcha:bj2x.captcha,countrycode:bj2x.countrycode}})};b2x.Rg5l=function(bj2x){this.eH4L.br2x();switch(bj2x.exist){case MOB_CHECK.NULL:if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){this.iY5d()}else{n2x.bar8j.I2x({title:"手机号注册",mobile:this.gk4o,countrycode:this.fI4M,password:this.uY9P,captcha:this.db3x})}break;case MOB_CHECK.MAIN:case MOB_CHECK.SNS:case MOB_CHECK.NETEASE:this.JZ3x();break}};b2x.Rh5m=function(bj2x){n2x.Z2x.I2x({tip:bj2x.message||"验证码发送失败",type:2})};b2x.Rd5i=function(bj2x){localCache.mq6k("user",bj2x);if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){h2x.z2x(window,"login",{user:bj2x})}else{if(!bj2x.profile){if(this.lo6i)this.lo6i.V2x();this.lo6i=n2x.zU1x.B2x({user:bj2x,requiremobile:false,onsuccess:this.uF9w.f2x(this)})}else{l2x.eb4f({clazz:"m-layer-w2",title:"手机号注册",message:'该手机号已与云音乐帐号 <strong class="s-fc1">'+j2x.dR3x(bj2x.profile.nickname)+"</strong> 绑定，<br/><br/>以后你可以直接用该手机号+密码登录",btntxt:"知道了",action:h2x.z2x.f2x(h2x,window,"login",{user:bj2x}),onclose:h2x.z2x.f2x(h2x,window,"login",{user:bj2x})})}}};b2x.uF9w=function(d2x){h2x.z2x(window,"login",{user:d2x.user})};b2x.bbk8c=function(bj2x){if(bj2x.code==415){l2x.bJQ6K({captchaId:bj2x.captchaId,ondestroy:this.JZ3x.f2x(this)})}else{n2x.Z2x.I2x({tip:bj2x.message||"注册失败，请重试",type:2})}};b2x.bza3x=function(){this.eH4L.br2x();n2x.qk7d.I2x({title:"登录"})};b2x.iY5d=function(cl3x){var randomStr=Math.random().toString(36).substr(2);var checkToken=cl3x||randomStr;if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){this.S2x.bbG8y({data:{phone:this.gk4o,countrycode:this.fI4M,password:j2x.kY6S(this.uY9P),captcha:this.db3x,nickname:"",checkToken:""}})}else{this.S2x.bbG8y({data:{phone:this.gk4o,countrycode:this.fI4M,password:j2x.kY6S(this.uY9P),captcha:this.db3x,checkToken:checkToken}})}};b2x.JZ3x=function(){l2x.wG9x(this.iY5d.f2x(this))}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),ci3x=c2x("nej.ut"),l2x=c2x("nm.x"),p2x=c2x("nm.d"),n2x=c2x("nm.l"),b2x,L2x;var MOB_CHECK={MAIN:1,SNS:2,NETEASE:3,NULL:-1};n2x.bMo7h=NEJ.C();b2x=n2x.bMo7h.N2x(ci3x.cP3x);b2x.bo2x=function(e2x){e2x=e2x||{};this.bp2x(e2x);this.S2x=p2x.mC6w.B2x({onsendcaptcha:this.rB8t.f2x(this),onsendcaptchaerror:this.HY3x.f2x(this),onmobilecheck:this.Rg5l.f2x(this),onmobilecheckerror:this.Rh5m.f2x(this),onmobileregist:this.Rd5i.f2x(this),onmobileregisterror:this.bbk8c.f2x(this)});this.Cb1x=n2x.QY5d.I2x({title:"重设密码",mobile:e2x.mobile||"",countrycode:e2x.countrycode,onok:this.ML4P.f2x(this)})};b2x.bD2x=function(){this.bI3x();this.S2x.V2x();if(this.Cb1x)this.Cb1x.V2x();if(this.eH4L)this.eH4L.V2x()};b2x.ML4P=function(bj2x){this.gk4o=bj2x.mobile;this.fI4M=bj2x.countrycode;this.uY9P=bj2x.password;this.S2x.Ah1x({data:{ctcode:bj2x.countrycode,cellphone:bj2x.mobile}})};b2x.rB8t=function(){this.Cb1x.br2x();this.eH4L=n2x.qz7s.I2x({title:"重设密码",mobile:this.gk4o,countrycode:this.fI4M,okbutton:"下一步",onok:this.bzb3x.f2x(this),backbutton:"&lt;&nbsp;&nbsp;返回登录",onback:this.bza3x.f2x(this),onerror:this.bbk8c.f2x(this)})};b2x.HY3x=function(bj2x){this.Cb1x.cQ3x(false);n2x.Z2x.I2x({tip:bj2x.message||"验证码发送失败",type:2})};b2x.bzb3x=function(bj2x){this.gk4o=bj2x.mobile;this.fI4M=bj2x.countrycode;this.db3x=bj2x.captcha;this.S2x.brj2x({data:{cellphone:bj2x.mobile,captcha:bj2x.captcha,countrycode:bj2x.countrycode}})};b2x.Rg5l=function(bj2x){this.eH4L.br2x();switch(bj2x.exist){case MOB_CHECK.NULL:n2x.bar8j.I2x({title:"设置昵称",tip:"该手机号尚未注册，取一个昵称，马上开通",mobile:this.gk4o,countrycode:this.fI4M,password:this.uY9P,captcha:this.db3x});break;case MOB_CHECK.MAIN:case MOB_CHECK.SNS:case MOB_CHECK.NETEASE:l2x.wG9x(this.iY5d.f2x(this));break}};b2x.iY5d=function(cl3x){var randomStr=Math.random().toString(36).substr(2);var checkToken=cl3x||randomStr;this.S2x.bbG8y({data:{phone:this.gk4o,countrycode:this.fI4M,password:j2x.kY6S(this.uY9P),captcha:this.db3x,checkToken:checkToken}})};b2x.Rh5m=function(bj2x){n2x.Z2x.I2x({tip:bj2x.message||"验证码发送失败",type:2})};b2x.bza3x=function(){this.eH4L.br2x();n2x.qk7d.I2x({title:"登录"})};b2x.Rd5i=function(m2x){localCache.mq6k("user",m2x);if(!m2x.profile){if(this.lo6i)this.lo6i.V2x();this.lo6i=n2x.zU1x.B2x({user:m2x,requiremobile:false,onsuccess:this.uF9w.f2x(this)})}else{h2x.z2x(window,"login",{user:m2x})}};b2x.uF9w=function(d2x){h2x.z2x(window,"login",{user:d2x.user})};b2x.bbk8c=function(m2x){if(m2x.code==415){l2x.bJQ6K({captchaId:m2x.captchaId,ondestroy:function(){l2x.wG9x(this.iY5d.f2x(this))}.f2x(this)})}else{n2x.Z2x.I2x({tip:"重设密码失败，请重试",type:2})}}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),u2x=c2x("nej.j"),p2x=c2x("nm.d"),n2x=c2x("nm.l"),l2x=c2x("nm.x"),b2x,L2x;n2x.Rj5o=NEJ.C();b2x=n2x.Rj5o.N2x(n2x.ed4h);L2x=n2x.Rj5o.ct3x;b2x.cd3x=function(){this.cc3x="ntp-loginverify"};b2x.bW3x=function(){this.cg3x();this.tK8C=a1x.D2x(this.o2x,"js-flag")[0];this.bMt7m=a1x.D2x(this.o2x,"js-mobile")[0];this.dX4b=a1x.D2x(this.o2x,"u-err")[0];h2x.s2x(this.o2x,"click",this.bN3x.f2x(this))};b2x.bo2x=function(e2x){this.bp2x(e2x);this.gk4o=e2x.mobile||"";this.fI4M=e2x.countrycode||"86";this.byV3x=e2x.loginType;this.dz3x=e2x;if(this.bMt7m){this.bMt7m.innerHTML="+"+this.fI4M+" "+this.gk4o}this.S2x=p2x.mC6w.B2x({onsafecaptcha:this.rB8t.f2x(this),onsafecaptchaerror:this.HY3x.f2x(this),onloginverify:this.Rk5p.f2x(this),onloginverifyerror:this.Vc6W.f2x(this),onrelogin:this.wA9r.f2x(this),onreloginerror:this.byU3x.f2x(this)})};b2x.bN3x=function(d2x){var G2x=h2x.ba2x(d2x,"d:action");if(!G2x)return;var U2x=a1x.t2x(G2x,"action");switch(U2x){case"ok":this.cxh5m();break;default:break}};b2x.cxh5m=function(){if(!this.gk4o)return;this.S2x.bru2x({})};b2x.rB8t=function(){this.br2x();this.eH4L=n2x.qz7s.I2x({title:"网易云音乐",mobile:this.gk4o,countrycode:this.fI4M,okbutton:"完成",noVerifyMobile:true,onverify:this.cxg5l.f2x(this)})};b2x.HY3x=function(bj2x){n2x.Z2x.I2x({tip:bj2x.message||"验证码发送失败",type:2})};b2x.cxg5l=function(i2x){var hA5F={captcha:i2x.captcha};this.S2x.bRP9G({data:hA5F})};b2x.Rk5p=function(){this.eH4L.br2x();this.z2x("onok");this.S2x.bSf9W({data:{usertype:this.byV3x}})};b2x.Vc6W=function(bj2x){this.z2x("onerror",bj2x);this.eH4L.bY3x(bj2x.message||"验证失败");this.eH4L.cQ3x(false)};b2x.wA9r=function(bj2x){localCache.mq6k("user",bj2x);if(!bj2x.profile){if(this.lo6i)this.lo6i.V2x();this.lo6i=n2x.zU1x.B2x({user:bj2x,requiremobile:false,onsuccess:this.uF9w.f2x(this)})}else{h2x.z2x(window,"login",{user:bj2x})}};b2x.uF9w=function(d2x){h2x.z2x(window,"login",{user:d2x.user})};b2x.byU3x=function(bj2x){this.z2x("onerror",bj2x);n2x.Z2x.I2x({tip:bj2x.message||"登录失败",type:2})}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),u2x=c2x("nej.j"),l2x=c2x("nm.x"),p2x=c2x("nm.d"),n2x=c2x("nm.l"),y2x=c2x("nm.w"),b2x,L2x;n2x.HM3x=NEJ.C();b2x=n2x.HM3x.N2x(n2x.ed4h);L2x=n2x.HM3x.ct3x;b2x.cd3x=function(){this.cc3x="ntp-login-mobile"};b2x.bW3x=function(){this.cg3x();this.qL7E=a1x.D2x(this.o2x,"j-mob")[0];this.dA3x=a1x.D2x(this.o2x,"j-pwd")[0];this.dX4b=a1x.D2x(this.o2x,"j-err")[0];this.Rm5r=a1x.D2x(this.o2x,"j-auto")[0];this.cy3x=a1x.D2x(this.o2x,"j-primary")[0];a1x.gX4b(this.dA3x,"holder");h2x.s2x(this.dA3x,"focus",this.Bh1x.f2x(this));h2x.s2x(this.dA3x,"keypress",this.BP1x.f2x(this));h2x.s2x(this.o2x,"click",this.bN3x.f2x(this))};b2x.bo2x=function(e2x){this.bp2x(e2x);this.kn5s=y2x.baU8M.B2x({parent:this.qL7E,onpressenter:this.ic5h.f2x(this)});this.S2x=p2x.mC6w.B2x();this.S2x.s2x("onmobilelogin",this.wA9r.f2x(this));this.S2x.s2x("onmobileloginerror",this.jv5A.f2x(this))};b2x.bD2x=function(){this.bI3x();this.kn5s.V2x();this.S2x.V2x();if(this.db3x){this.db3x.V2x();delete this.db3x}if(this.yT0x)this.yT0x.V2x()};b2x.I2x=function(){L2x.I2x.apply(this,arguments);this.bY3x(false);this.cQ3x(false);this.kn5s.WV6P();this.dA3x.value="";this.Rm5r.checked=true;l2x.jU5Z()};b2x.Bh1x=function(){a1x.x2x(this.dA3x,"u-txt-err")};b2x.BP1x=function(d2x){if(d2x.keyCode==13)this.ic5h()};b2x.bN3x=function(d2x){var G2x=h2x.ba2x(d2x,"d:action");if(!G2x)return;var U2x=a1x.t2x(G2x,"action");switch(U2x){case"login":this.ic5h(d2x);break;case"forget":h2x.bg2x(d2x);this.br2x();n2x.bMo7h.B2x({countrycode:this.kn5s.Vk6e(),mobile:this.kn5s.NP4T()});break;case"select":this.byI3x(d2x);break;case"reg":this.cxd5i(d2x);break}};b2x.ic5h=function(d2x){h2x.co3x(d2x);if(this.cQ3x())return;var gz4D=this.tz8r();if(!gz4D)return;if(!this.Ro5t())return;if(this.db3x){this.db3x.V2x();delete this.db3x}var i2x={countrycode:gz4D.countrycode,phone:gz4D.mobile,password:j2x.kY6S(gz4D.password),rememberLogin:this.Rm5r.checked};this.cQ3x(true);this.bY3x(false);this.HJ3x=i2x;if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){this.HJ3x.checkToken="";this.S2x.bQp7i({data:this.HJ3x})}else{l2x.wG9x(this.iY5d.f2x(this))}};b2x.iY5d=function(cl3x){var randomStr=Math.random().toString(36).substr(2);this.HJ3x.checkToken=cl3x||randomStr;this.S2x.bQp7i({data:this.HJ3x})};b2x.wA9r=function(m2x){this.cQ3x(false);this.br2x();localCache.mq6k("user",m2x);if(!m2x.profile){if(this.lo6i)this.lo6i.V2x();this.lo6i=n2x.zU1x.B2x({user:m2x,requiremobile:false,onsuccess:this.uF9w.f2x(this)})}else{u2x.be2x("/api/user/grabed/status/get",{method:"GET",cookie:true,type:"json",onload:function(resp){if(resp.data&&resp.data.grabed){l2x.hn5s({title:"更换手机号",btncc:"知道了",okstyle:"f-hide",message:"您绑定的手机号已被其他账号绑定，为保护账号安全，将强制退出您在网页端的登陆状态，请在云音乐手机端尽快绑定新的手机号。",action:top.logout})}else{h2x.z2x(window,"login",{user:m2x})}},onerror:function(){console.log("[请求出错]:/api/user/grabed/status/get");top.logout()}})}};b2x.uF9w=function(d2x){h2x.z2x(window,"login",{user:d2x.user})};b2x.jv5A=function(bj2x){this.cQ3x(false);if(bj2x.code==415){if(this.db3x)this.db3x.V2x();this.db3x=y2x.QB5G.B2x({captchaId:bj2x.captchaId,txt:"txt-login-captcha",onaction:this.ic5h.f2x(this)});this.dX4b.insertAdjacentElement("beforeBegin",this.db3x.mA6u());return}if(bj2x.code==501){this.bY3x("该手机号尚未注册","mobile");return}if(bj2x.code==10002||bj2x.code==502||bj2x.code==501){this.bY3x("手机号或密码错误");return}if(bj2x.code==250){this.bY3x(bj2x.message||"登录异常");return}if(bj2x.code==702){this.br2x();var dq3x=bj2x.ext;this.bMM7F=n2x.Rj5o.I2x({title:"网易云音乐",mobile:dq3x.phone,countrycode:dq3x.countrycode,loginType:dq3x.loginType});return}if(bj2x.message){this.bY3x(bj2x.message)}else{n2x.Z2x.I2x({tip:"登录失败，请重试",type:2})}};b2x.byI3x=function(d2x){h2x.bg2x(d2x);n2x.qk7d.I2x({title:"登录"})};b2x.cxd5i=function(d2x){h2x.bg2x(d2x);this.br2x();if(this.yT0x)this.yT0x.V2x();this.yT0x=n2x.baW8O.B2x()};b2x.tz8r=function(){var fx4B=this.kn5s.NP4T(),ms6m=this.kn5s.Vk6e(),eX4b=this.dA3x.value;if(!fx4B)return this.bY3x("请输入手机号","mobile");if(!eX4b)return this.bY3x("请输入登录密码","password");if(!l2x.Ci1x(fx4B,ms6m))return this.bY3x("请输入正确的手机号","mobile");return{mobile:fx4B,countrycode:ms6m,password:eX4b}};b2x.Ro5t=function(){if(!this.db3x)return true;var bx2x=this.db3x.IR3x();if(bx2x.success)return true;this.bY3x(bx2x.message,"captcha");return false};b2x.bY3x=function(bC2x,iZ5e){this.ea4e(this.dX4b,bC2x);this.kn5s.baJ8B();a1x.x2x(this.dA3x,"u-txt-err");if(this.db3x)this.db3x.x2x("u-txt-err");if(iZ5e=="mobile"){this.kn5s.brJ2x()}else if(iZ5e=="password"){a1x.w2x(this.dA3x,"u-txt-err")}else if(iZ5e=="captcha"){if(this.db3x)this.db3x.w2x("u-txt-err")}};b2x.cQ3x=function(dd3x){return this.dZ4d(this.cy3x,dd3x,"登　录","登录中...")}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,bs2x=NEJ.F,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),ds3x=c2x("nej.p"),P2x=c2x("nej.ut"),qV7O,cxc5h;if(!!P2x.HH3x)return;P2x.HH3x=NEJ.C();qV7O=P2x.HH3x.N2x(P2x.cP3x);cxc5h=P2x.HH3x.ct3x;qV7O.bo2x=function(e2x){this.bp2x(e2x);this.o2x=a1x.A2x(e2x.body);this.eu4y=a1x.A2x(e2x.input);this.lB6v=e2x.selected||"js-selected";this.cv3x=0;this.bZ3x([[this.eu4y,"input",this.fb4f.f2x(this)],[this.eu4y,"blur",this.byF3x.f2x(this,"blur")],[this.o2x,"mouseover",this.JB3x.f2x(this)],[this.o2x,"click",this.cA3x.f2x(this)],[document,"keydown",this.cxb5g.f2x(this)],[document,"keypress",this.byE3x.f2x(this)]]);if(ds3x.dB3x.release=="5.0"){this.bZ3x([[this.eu4y,"keydown",this.bMX7Q.f2x(this)],[this.eu4y,"keyup",this.bMX7Q.f2x(this)]])}};qV7O.bD2x=function(){this.bI3x();this.bMZ7S();delete this.lB6v;delete this.eu4y;delete this.o2x;delete this.bNd7W;delete this.byD3x};qV7O.cxa5f=function(G2x){return G2x.flag!=null};qV7O.bMZ7S=function(){var cwZ5e=function(g2x){j2x.baA8s(g2x,"flag")};return function(){j2x.bf2x(this.bX3x,cwZ5e);delete this.bX3x;delete this.cv3x}}();qV7O.byC3x=function(r2x){if(this.cv3x===r2x)return;this.cv3x=r2x;a1x.w2x(this.bX3x[this.cv3x],this.lB6v)};qV7O.bNn7g=function(r2x){if(this.cv3x!==r2x)return;a1x.x2x(this.bX3x[this.cv3x],this.lB6v);delete this.cv3x};qV7O.byF3x=function(v2x){this.byz3x=setTimeout(function(){if(!this.bX3x)return;var q2x=this.bX3x[this.cv3x]||this.bX3x[0],C2x=a1x.t2x(q2x,"value")||q2x.innerText;this.eu4y.value=C2x;this.lv6p();this.byD3x=!0;this.z2x("onselect",C2x,{type:v2x});this.byD3x=!1}.f2x(this),v2x=="blur"?200:0)};qV7O.fb4f=function(){var C2x=this.eu4y.value.trim();if(!C2x){this.lv6p()}else{if(this.byD3x)return;this.z2x("onchange",C2x)}};qV7O.JB3x=function(d2x){var G2x=h2x.ba2x(d2x,this.cxa5f);if(!!G2x){this.bNn7g(this.cv3x);this.byC3x(G2x.flag)}};qV7O.cA3x=function(){if(this.byz3x){this.byz3x=clearTimeout(this.byz3x)}this.byF3x("click")};qV7O.cxb5g=function(d2x){var fh4l=0,cf3x=d2x.keyCode;if(cf3x==38)fh4l=-1;if(cf3x==40)fh4l=1;if(!fh4l)return;h2x.bg2x(d2x);var r2x=Math.max(0,Math.min(this.cv3x+fh4l,this.bX3x.length-1));if(r2x===this.cv3x)return;this.bNn7g(this.cv3x);this.byC3x(r2x)};qV7O.byE3x=function(d2x){var v2x="enter";if(d2x.keyCode==13)this.byF3x(v2x)};qV7O.bMX7Q=function(d2x){if(d2x.type=="keydown"){this.bNd7W=this.eu4y.value}else if(this.bNd7W!=this.eu4y.value&&!!this.bX3x){this.fb4f()}};qV7O.lv6p=function(){var cwY5d=function(g2x,r2x){g2x.flag=r2x};return function(k2x){this.bMZ7S();if(!k2x||!k2x.length){this.o2x.style.visibility="hidden";return this}this.bX3x=k2x;var r2x=j2x.dt3x(this.bX3x,function(g2x){return a1x.bE2x(g2x,this.lB6v)});this.byC3x(Math.max(0,r2x));j2x.bf2x(this.bX3x,cwY5d);this.o2x.style.visibility="visible";return this}}()})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),H2x=c2x("nej.ut"),l2x=c2x("nm.x"),p2x=c2x("nm.d"),y2x=c2x("nm.w"),n2x=c2x("nm.l"),b2x,L2x;if(n2x.CX1x)return;n2x.CX1x=NEJ.C();b2x=n2x.CX1x.N2x(n2x.ed4h);L2x=n2x.CX1x.ct3x;b2x.bo2x=function(e2x){this.bp2x(e2x);this.S2x=p2x.mC6w.B2x();this.S2x.s2x("onlogin",this.wA9r.f2x(this));this.S2x.s2x("onloginerror",this.jv5A.f2x(this))};b2x.bD2x=function(){this.bI3x();if(this.db3x){this.db3x.V2x();delete this.db3x}this.bNw7p()};b2x.cd3x=function(){this.cc3x="ntp-login-netease"};b2x.bW3x=function(){this.cg3x();var cY3x=a1x.D2x(this.o2x,"js-input");this.iN5S=cY3x[0];this.dA3x=cY3x[1];a1x.gX4b(this.iN5S,"holder");a1x.gX4b(this.dA3x,"holder");h2x.s2x(this.iN5S,"focus",this.byw3x.f2x(this));h2x.s2x(this.dA3x,"focus",this.Bh1x.f2x(this));h2x.s2x(this.dA3x,"keypress",this.BP1x.f2x(this));this.wW0x=a1x.D2x(this.o2x,"js-suggest")[0];this.wZ0x=H2x.HH3x.B2x({body:this.wW0x,input:this.iN5S,onchange:this.Hx2x.f2x(this),onselect:this.Hu2x.f2x(this)});this.dX4b=a1x.D2x(this.o2x,"u-err")[0];this.Rm5r=a1x.D2x(this.o2x,"u-auto")[0];this.cy3x=a1x.D2x(this.o2x,"js-primary")[0];this.cwX5c=a1x.D2x(this.o2x,"js-captcha")[0];this.Nz4D=a1x.D2x(this.o2x,"js-scaptcha")[0];h2x.s2x(this.o2x,"click",this.bN3x.f2x(this))};b2x.I2x=function(){L2x.I2x.apply(this,arguments);this.bY3x(false);this.cQ3x(false);this.iN5S.value="";this.dA3x.value="";this.Rm5r.checked=true;this.bNG7z()};b2x.bNG7z=function(){if(this.qK7D){this.qK7D.hp5u()}l2x.jU5Z()};b2x.bNw7p=function(){if(this.qK7D){this.qK7D.V2x();delete this.qK7D;this.Nz4D.style.marginTop="0";this.Nz4D.style.display="none"}};b2x.byw3x=function(){a1x.x2x(this.iN5S,"u-txt-err")};b2x.Bh1x=function(){a1x.x2x(this.dA3x,"u-txt-err")};b2x.BP1x=function(d2x){if(d2x.keyCode==13)this.ic5h()};b2x.bN3x=function(d2x){var G2x=h2x.ba2x(d2x,"d:action");if(!G2x)return;var U2x=a1x.t2x(G2x,"action");switch(U2x){case"login":this.ic5h(d2x);break;case"suggest":this.byn3x(d2x);break;case"select":this.byI3x(d2x);break}};b2x.byn3x=function(d2x){var g2x=h2x.ba2x(d2x);if(g2x.href){h2x.co3x(d2x)}};b2x.Hx2x=function(C2x){if(!C2x)return this.wZ0x.lv6p([]);var lz6t=["163.com","126.com","yeah.net","vip.163.com","vip.126.com","188.com"];var il5q=C2x.indexOf("@"),i,jC5H;if(il5q<0){for(i=0,jC5H=[];i<lz6t.length;++i){jC5H.push(C2x+"@"+lz6t[i])}}else{var jB5G=C2x.substring(il5q+1),bt2x=jB5G.length;for(i=0,jC5H=[];i<lz6t.length;++i){if(lz6t[i].substr(0,bt2x)==jB5G){jC5H.push(C2x.substring(0,il5q)+"@"+lz6t[i])}}}this.wW0x.innerHTML=a1x.ca3x("jst-login-suggest",{suggests:jC5H},{escape:j2x.dR3x});this.wZ0x.lv6p(a1x.dg3x(this.wW0x))};b2x.Hu2x=function(C2x){this.iN5S.value=C2x;this.dA3x.focus()};b2x.ic5h=function(d2x){h2x.co3x(d2x);if(this.cQ3x())return;var gz4D=this.tz8r();if(!gz4D)return;if(!this.Ro5t())return;if(this.db3x){this.db3x.V2x();delete this.db3x}var i2x={username:gz4D.username,password:j2x.kY6S(gz4D.password),rememberLogin:this.Rm5r.checked};var jD5I="";if(this.qK7D){jD5I=this.qK7D.ND4H();if(!jD5I.trim()){this.bY3x("拖动验证码错误");return}i2x.dragPwd=jD5I}this.cQ3x(true);this.bY3x(false);this.HJ3x=i2x;l2x.wG9x(this.iY5d.f2x(this))};b2x.iY5d=function(cl3x){var randomStr=Math.random().toString(36).substr(2);this.HJ3x.checkToken=cl3x||randomStr;this.S2x.Kj3x({data:this.HJ3x})};b2x.wA9r=function(m2x){this.cQ3x(false);this.br2x();localCache.mq6k("user",m2x);if(!m2x.profile){if(this.lo6i)this.lo6i.V2x();this.lo6i=n2x.zU1x.B2x({user:m2x,requiremobile:true,onsuccess:this.uF9w.f2x(this)})}else{h2x.z2x(window,"login",{user:m2x})}};b2x.uF9w=function(d2x){h2x.z2x(window,"login",{user:d2x.user})};b2x.jv5A=function(bj2x){this.cQ3x(false);if(bj2x.code==415){if(this.db3x)this.db3x.V2x();this.db3x=y2x.QB5G.B2x({captchaId:bj2x.captchaId,txt:"txt-login-captcha",onaction:this.ic5h.f2x(this)});this.cwX5c.appendChild(this.db3x.mA6u());return}if(bj2x.code==10002||bj2x.code==502||bj2x.code==501){this.bY3x("帐号或密码错误");return}if(bj2x.code==250){this.bY3x(bj2x.message||"登录异常");return}if(bj2x.code==702){this.br2x();var dq3x=bj2x.ext;this.bMM7F=n2x.Rj5o.I2x({title:"网易云音乐",mobile:dq3x.phone,countrycode:dq3x.countrycode,loginType:dq3x.loginType});return}if(bj2x.message){this.bY3x(bj2x.message)}else{n2x.Z2x.I2x({tip:"登录失败，请重试",type:2})}};b2x.uS9J=function(d2x){if(d2x.success){this.bY3x(false);var lZ6T=this.iN5S.value.trim(),eX4b=this.dA3x.value;if(lZ6T&&eX4b){this.ic5h()}}else{this.bY3x("拖动验证码错误")}};b2x.byI3x=function(d2x){h2x.bg2x(d2x);n2x.qk7d.I2x({title:"登录"})};b2x.tz8r=function(){var lZ6T=this.iN5S.value.trim(),eX4b=this.dA3x.value;if(!lZ6T){this.bY3x("请输入邮箱帐号","username");return null}if(!eX4b){this.bY3x("请输入登录密码","password");return null}this.bY3x(false);return{username:lZ6T,password:eX4b}};b2x.bY3x=function(bC2x,iZ5e){this.ea4e(this.dX4b,bC2x);a1x.x2x(this.iN5S,"u-txt-err");a1x.x2x(this.dA3x,"u-txt-err");if(this.db3x)this.db3x.x2x("u-txt-err");if(iZ5e=="username"){a1x.w2x(this.iN5S,"u-txt-err")}else if(iZ5e=="password"){a1x.w2x(this.dA3x,"u-txt-err")}else if(iZ5e=="captcha"){if(this.db3x)this.db3x.w2x("u-txt-err")}};b2x.cQ3x=function(dd3x){return this.dZ4d(this.cy3x,dd3x,"登　录","登录中...")};b2x.Ro5t=function(){if(!this.db3x)return true;var bx2x=this.db3x.IR3x();if(bx2x.success)return true;this.bY3x(bx2x.message,"captcha");return false}})();
(function(){var c2x=NEJ.P,a1x=c2x("nej.e"),j2x=c2x("nej.u"),bd2x=c2x("nej.ui"),h2x=c2x("nej.v"),H2x=c2x("nej.t"),n2x=c2x("nm.l"),l2x=c2x("nm.x"),b2x,L2x;n2x.bNQ7J=NEJ.C();b2x=n2x.bNQ7J.N2x(bd2x.bgN9E);var cwW5b=a1x.ex4B(['<div class="mask"></div>','<div class="box">','   <i class="icn u-icn2 {if type=="error"}u-icn2-err{elseif type=="info"}f-hide{else}u-icn2-ok{/if}"></i>','   <span class="txt">${message}</span>',"</div>"].join(""));b2x.bo2x=function(e2x){this.bp2x(e2x);this.o2x.innerHTML=e2x.html};b2x.bD2x=function(){this.z2x("ondestroy");this.bI3x()};b2x.MB4F=function(){var C2x={},jV5a=a1x.pK7D(),oE7x={left:jV5a.scrollLeft,top:jV5a.scrollTop},dx3x={left:jV5a.clientWidth-this.o2x.offsetWidth,top:jV5a.clientHeight-this.o2x.offsetHeight};C2x.top=Math.max(0,oE7x.top+dx3x.top/2);C2x.left=Math.max(0,oE7x.left+dx3x.left/2);this.hh5m(C2x)};l2x.hx5C=function(){var cL3x,ep4t;return function(e2x){if(cL3x)cL3x.V2x();setTimeout(function(){cL3x=n2x.bNQ7J.B2x({destroyable:true,parent:e2x.parent||document.body,clazz:"m-toast "+(e2x.clazz||""),html:e2x.html||a1x.ca3x(cwW5b,e2x),ondestroy:e2x.ondestroy});cL3x.I2x()},0);window.clearTimeout(ep4t);ep4t=window.setTimeout(function(){if(cL3x)cL3x.V2x();cL3x=null},e2x.delay||3e3)}}()})();
var QRCode;(function(){function QR8bitByte(data){this.mode=QRMode.MODE_8BIT_BYTE;this.data=data;this.parsedData=[];for(var i=0,l=this.data.length;i<l;i++){var byteArray=[];var code=this.data.charCodeAt(i);if(code>65536){byteArray[0]=240|(code&1835008)>>>18;byteArray[1]=128|(code&258048)>>>12;byteArray[2]=128|(code&4032)>>>6;byteArray[3]=128|code&63}else if(code>2048){byteArray[0]=224|(code&61440)>>>12;byteArray[1]=128|(code&4032)>>>6;byteArray[2]=128|code&63}else if(code>128){byteArray[0]=192|(code&1984)>>>6;byteArray[1]=128|code&63}else{byteArray[0]=code}this.parsedData.push(byteArray)}this.parsedData=Array.prototype.concat.apply([],this.parsedData);if(this.parsedData.length!=this.data.length){this.parsedData.unshift(191);this.parsedData.unshift(187);this.parsedData.unshift(239)}}QR8bitByte.prototype={getLength:function(buffer){return this.parsedData.length},write:function(buffer){for(var i=0,l=this.parsedData.length;i<l;i++){buffer.put(this.parsedData[i],8)}}};function QRCodeModel(typeNumber,errorCorrectLevel){this.typeNumber=typeNumber;this.errorCorrectLevel=errorCorrectLevel;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}QRCodeModel.prototype={addData:function(data){var newData=new QR8bitByte(data);this.dataList.push(newData);this.dataCache=null},isDark:function(row,col){if(row<0||this.moduleCount<=row||col<0||this.moduleCount<=col){throw new Error(row+","+col)}return this.modules[row][col]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(false,this.getBestMaskPattern())},makeImpl:function(test,maskPattern){this.moduleCount=this.typeNumber*4+17;this.modules=new Array(this.moduleCount);for(var row=0;row<this.moduleCount;row++){this.modules[row]=new Array(this.moduleCount);for(var col=0;col<this.moduleCount;col++){this.modules[row][col]=null}}this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(test,maskPattern);if(this.typeNumber>=7){this.setupTypeNumber(test)}if(this.dataCache==null){this.dataCache=QRCodeModel.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)}this.mapData(this.dataCache,maskPattern)},setupPositionProbePattern:function(row,col){for(var r=-1;r<=7;r++){if(row+r<=-1||this.moduleCount<=row+r)continue;for(var c=-1;c<=7;c++){if(col+c<=-1||this.moduleCount<=col+c)continue;if(0<=r&&r<=6&&(c==0||c==6)||0<=c&&c<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=c&&c<=4){this.modules[row+r][col+c]=true}else{this.modules[row+r][col+c]=false}}}},getBestMaskPattern:function(){var minLostPoint=0;var pattern=0;for(var i=0;i<8;i++){this.makeImpl(true,i);var lostPoint=QRUtil.getLostPoint(this);if(i==0||minLostPoint>lostPoint){minLostPoint=lostPoint;pattern=i}}return pattern},createMovieClip:function(target_mc,instance_name,depth){var qr_mc=target_mc.createEmptyMovieClip(instance_name,depth);var cs=1;this.make();for(var row=0;row<this.modules.length;row++){var y=row*cs;for(var col=0;col<this.modules[row].length;col++){var x=col*cs;var dark=this.modules[row][col];if(dark){qr_mc.beginFill(0,100);qr_mc.moveTo(x,y);qr_mc.lineTo(x+cs,y);qr_mc.lineTo(x+cs,y+cs);qr_mc.lineTo(x,y+cs);qr_mc.endFill()}}}return qr_mc},setupTimingPattern:function(){for(var r=8;r<this.moduleCount-8;r++){if(this.modules[r][6]!=null){continue}this.modules[r][6]=r%2==0}for(var c=8;c<this.moduleCount-8;c++){if(this.modules[6][c]!=null){continue}this.modules[6][c]=c%2==0}},setupPositionAdjustPattern:function(){var pos=QRUtil.getPatternPosition(this.typeNumber);for(var i=0;i<pos.length;i++){for(var j=0;j<pos.length;j++){var row=pos[i];var col=pos[j];if(this.modules[row][col]!=null){continue}for(var r=-2;r<=2;r++){for(var c=-2;c<=2;c++){if(r==-2||r==2||c==-2||c==2||r==0&&c==0){this.modules[row+r][col+c]=true}else{this.modules[row+r][col+c]=false}}}}}},setupTypeNumber:function(test){var bits=QRUtil.getBCHTypeNumber(this.typeNumber);for(var i=0;i<18;i++){var mod=!test&&(bits>>i&1)==1;this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=mod}for(var i=0;i<18;i++){var mod=!test&&(bits>>i&1)==1;this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=mod}},setupTypeInfo:function(test,maskPattern){var data=this.errorCorrectLevel<<3|maskPattern;var bits=QRUtil.getBCHTypeInfo(data);for(var i=0;i<15;i++){var mod=!test&&(bits>>i&1)==1;if(i<6){this.modules[i][8]=mod}else if(i<8){this.modules[i+1][8]=mod}else{this.modules[this.moduleCount-15+i][8]=mod}}for(var i=0;i<15;i++){var mod=!test&&(bits>>i&1)==1;if(i<8){this.modules[8][this.moduleCount-i-1]=mod}else if(i<9){this.modules[8][15-i-1+1]=mod}else{this.modules[8][15-i-1]=mod}}this.modules[this.moduleCount-8][8]=!test},mapData:function(data,maskPattern){var inc=-1;var row=this.moduleCount-1;var bitIndex=7;var byteIndex=0;for(var col=this.moduleCount-1;col>0;col-=2){if(col==6)col--;while(true){for(var c=0;c<2;c++){if(this.modules[row][col-c]==null){var dark=false;if(byteIndex<data.length){dark=(data[byteIndex]>>>bitIndex&1)==1}var mask=QRUtil.getMask(maskPattern,row,col-c);if(mask){dark=!dark}this.modules[row][col-c]=dark;bitIndex--;if(bitIndex==-1){byteIndex++;bitIndex=7}}}row+=inc;if(row<0||this.moduleCount<=row){row-=inc;inc=-inc;break}}}}};QRCodeModel.PAD0=236;QRCodeModel.PAD1=17;QRCodeModel.createData=function(typeNumber,errorCorrectLevel,dataList){var rsBlocks=QRRSBlock.getRSBlocks(typeNumber,errorCorrectLevel);var buffer=new QRBitBuffer;for(var i=0;i<dataList.length;i++){var data=dataList[i];buffer.put(data.mode,4);buffer.put(data.getLength(),QRUtil.getLengthInBits(data.mode,typeNumber));data.write(buffer)}var totalDataCount=0;for(var i=0;i<rsBlocks.length;i++){totalDataCount+=rsBlocks[i].dataCount}if(buffer.getLengthInBits()>totalDataCount*8){throw new Error("code length overflow. ("+buffer.getLengthInBits()+">"+totalDataCount*8+")")}if(buffer.getLengthInBits()+4<=totalDataCount*8){buffer.put(0,4)}while(buffer.getLengthInBits()%8!=0){buffer.putBit(false)}while(true){if(buffer.getLengthInBits()>=totalDataCount*8){break}buffer.put(QRCodeModel.PAD0,8);if(buffer.getLengthInBits()>=totalDataCount*8){break}buffer.put(QRCodeModel.PAD1,8)}return QRCodeModel.createBytes(buffer,rsBlocks)};QRCodeModel.createBytes=function(buffer,rsBlocks){var offset=0;var maxDcCount=0;var maxEcCount=0;var dcdata=new Array(rsBlocks.length);var ecdata=new Array(rsBlocks.length);for(var r=0;r<rsBlocks.length;r++){var dcCount=rsBlocks[r].dataCount;var ecCount=rsBlocks[r].totalCount-dcCount;maxDcCount=Math.max(maxDcCount,dcCount);maxEcCount=Math.max(maxEcCount,ecCount);dcdata[r]=new Array(dcCount);for(var i=0;i<dcdata[r].length;i++){dcdata[r][i]=255&buffer.buffer[i+offset]}offset+=dcCount;var rsPoly=QRUtil.getErrorCorrectPolynomial(ecCount);var rawPoly=new QRPolynomial(dcdata[r],rsPoly.getLength()-1);var modPoly=rawPoly.mod(rsPoly);ecdata[r]=new Array(rsPoly.getLength()-1);for(var i=0;i<ecdata[r].length;i++){var modIndex=i+modPoly.getLength()-ecdata[r].length;ecdata[r][i]=modIndex>=0?modPoly.get(modIndex):0}}var totalCodeCount=0;for(var i=0;i<rsBlocks.length;i++){totalCodeCount+=rsBlocks[i].totalCount}var data=new Array(totalCodeCount);var index=0;for(var i=0;i<maxDcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<dcdata[r].length){data[index++]=dcdata[r][i]}}}for(var i=0;i<maxEcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<ecdata[r].length){data[index++]=ecdata[r][i]}}}return data};var QRMode={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3};var QRErrorCorrectLevel={L:1,M:0,Q:3,H:2};var QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(data){var d=data<<10;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)>=0){d^=QRUtil.G15<<QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)}return(data<<10|d)^QRUtil.G15_MASK},getBCHTypeNumber:function(data){var d=data<<12;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)>=0){d^=QRUtil.G18<<QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)}return data<<12|d},getBCHDigit:function(data){var digit=0;while(data!=0){digit++;data>>>=1}return digit},getPatternPosition:function(typeNumber){return QRUtil.PATTERN_POSITION_TABLE[typeNumber-1]},getMask:function(maskPattern,i,j){switch(maskPattern){case QRMaskPattern.PATTERN000:return(i+j)%2==0;case QRMaskPattern.PATTERN001:return i%2==0;case QRMaskPattern.PATTERN010:return j%3==0;case QRMaskPattern.PATTERN011:return(i+j)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(i/2)+Math.floor(j/3))%2==0;case QRMaskPattern.PATTERN101:return i*j%2+i*j%3==0;case QRMaskPattern.PATTERN110:return(i*j%2+i*j%3)%2==0;case QRMaskPattern.PATTERN111:return(i*j%3+(i+j)%2)%2==0;default:throw new Error("bad maskPattern:"+maskPattern)}},getErrorCorrectPolynomial:function(errorCorrectLength){var a=new QRPolynomial([1],0);for(var i=0;i<errorCorrectLength;i++){a=a.multiply(new QRPolynomial([1,QRMath.gexp(i)],0))}return a},getLengthInBits:function(mode,type){if(1<=type&&type<10){switch(mode){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+mode)}}else if(type<27){switch(mode){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+mode)}}else if(type<41){switch(mode){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+mode)}}else{throw new Error("type:"+type)}},getLostPoint:function(qrCode){var moduleCount=qrCode.getModuleCount();var lostPoint=0;for(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount;col++){var sameCount=0;var dark=qrCode.isDark(row,col);for(var r=-1;r<=1;r++){if(row+r<0||moduleCount<=row+r){continue}for(var c=-1;c<=1;c++){if(col+c<0||moduleCount<=col+c){continue}if(r==0&&c==0){continue}if(dark==qrCode.isDark(row+r,col+c)){sameCount++}}}if(sameCount>5){lostPoint+=3+sameCount-5}}}for(var row=0;row<moduleCount-1;row++){for(var col=0;col<moduleCount-1;col++){var count=0;if(qrCode.isDark(row,col))count++;if(qrCode.isDark(row+1,col))count++;if(qrCode.isDark(row,col+1))count++;if(qrCode.isDark(row+1,col+1))count++;if(count==0||count==4){lostPoint+=3}}}for(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount-6;col++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row,col+1)&&qrCode.isDark(row,col+2)&&qrCode.isDark(row,col+3)&&qrCode.isDark(row,col+4)&&!qrCode.isDark(row,col+5)&&qrCode.isDark(row,col+6)){lostPoint+=40}}}for(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount-6;row++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row+1,col)&&qrCode.isDark(row+2,col)&&qrCode.isDark(row+3,col)&&qrCode.isDark(row+4,col)&&!qrCode.isDark(row+5,col)&&qrCode.isDark(row+6,col)){lostPoint+=40}}}var darkCount=0;for(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount;row++){if(qrCode.isDark(row,col)){darkCount++}}}var ratio=Math.abs(100*darkCount/moduleCount/moduleCount-50)/5;lostPoint+=ratio*10;return lostPoint}};var QRMath={glog:function(n){if(n<1){throw new Error("glog("+n+")")}return QRMath.LOG_TABLE[n]},gexp:function(n){while(n<0){n+=255}while(n>=256){n-=255}return QRMath.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i=0;i<8;i++){QRMath.EXP_TABLE[i]=1<<i}for(var i=8;i<256;i++){QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8]}for(var i=0;i<255;i++){QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i}function QRPolynomial(num,shift){if(num.length==undefined){throw new Error(num.length+"/"+shift)}var offset=0;while(offset<num.length&&num[offset]==0){offset++}this.num=new Array(num.length-offset+shift);for(var i=0;i<num.length-offset;i++){this.num[i]=num[i+offset]}}QRPolynomial.prototype={get:function(index){return this.num[index]},getLength:function(){return this.num.length},multiply:function(e){var num=new Array(this.getLength()+e.getLength()-1);for(var i=0;i<this.getLength();i++){for(var j=0;j<e.getLength();j++){num[i+j]^=QRMath.gexp(QRMath.glog(this.get(i))+QRMath.glog(e.get(j)))}}return new QRPolynomial(num,0)},mod:function(e){if(this.getLength()-e.getLength()<0){return this}var ratio=QRMath.glog(this.get(0))-QRMath.glog(e.get(0));var num=new Array(this.getLength());for(var i=0;i<this.getLength();i++){num[i]=this.get(i)}for(var i=0;i<e.getLength();i++){num[i]^=QRMath.gexp(QRMath.glog(e.get(i))+ratio)}return(new QRPolynomial(num,0)).mod(e)}};function QRRSBlock(totalCount,dataCount){this.totalCount=totalCount;this.dataCount=dataCount}QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(typeNumber,errorCorrectLevel){var rsBlock=QRRSBlock.getRsBlockTable(typeNumber,errorCorrectLevel);if(rsBlock==undefined){throw new Error("bad rs block @ typeNumber:"+typeNumber+"/errorCorrectLevel:"+errorCorrectLevel)}var length=rsBlock.length/3;var list=[];for(var i=0;i<length;i++){var count=rsBlock[i*3+0];var totalCount=rsBlock[i*3+1];var dataCount=rsBlock[i*3+2];for(var j=0;j<count;j++){list.push(new QRRSBlock(totalCount,dataCount))}}return list};QRRSBlock.getRsBlockTable=function(typeNumber,errorCorrectLevel){switch(errorCorrectLevel){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+3];default:return undefined}};function QRBitBuffer(){this.buffer=[];this.length=0}QRBitBuffer.prototype={get:function(index){var bufIndex=Math.floor(index/8);return(this.buffer[bufIndex]>>>7-index%8&1)==1},put:function(num,length){for(var i=0;i<length;i++){this.putBit((num>>>length-i-1&1)==1)}},getLengthInBits:function(){return this.length},putBit:function(bit){var bufIndex=Math.floor(this.length/8);if(this.buffer.length<=bufIndex){this.buffer.push(0)}if(bit){this.buffer[bufIndex]|=128>>>this.length%8}this.length++}};var QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function cwV5a(){return typeof CanvasRenderingContext2D!="undefined"}function bNT7M(){var android=false;var sAgent=navigator.userAgent;if(/android/i.test(sAgent)){android=true;var aMat=sAgent.toString().match(/android ([0-9]\.[0-9])/i);if(aMat&&aMat[1]){android=parseFloat(aMat[1])}}return android}var svgDrawer=function(){var Drawing=function(el,htOption){this.bF2x=el;this.iw5B=htOption};Drawing.prototype.draw=function(oQRCode){var iw5B=this.iw5B;var bF2x=this.bF2x;var nCount=oQRCode.getModuleCount();var nWidth=Math.floor(iw5B.width/nCount);var nHeight=Math.floor(iw5B.height/nCount);this.clear();function makeSVG(tag,attrs){var el=document.createElementNS("http://www.w3.org/2000/svg",tag);for(var k in attrs)if(attrs.hasOwnProperty(k))el.setAttribute(k,attrs[k]);return el}var svg=makeSVG("svg",{viewBox:"0 0 "+String(nCount)+" "+String(nCount),width:"100%",height:"100%",fill:iw5B.colorLight});svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");bF2x.appendChild(svg);svg.appendChild(makeSVG("rect",{fill:iw5B.colorLight,width:"100%",height:"100%"}));svg.appendChild(makeSVG("rect",{fill:iw5B.colorDark,width:"1",height:"1",id:"template"}));for(var row=0;row<nCount;row++){for(var col=0;col<nCount;col++){if(oQRCode.isDark(row,col)){var child=makeSVG("use",{x:String(col),y:String(row)});child.setAttributeNS("http://www.w3.org/1999/xlink","href","#template");svg.appendChild(child)}}}};Drawing.prototype.clear=function(){while(this.bF2x.hasChildNodes())this.bF2x.removeChild(this.bF2x.lastChild)};return Drawing}();var useSVG=document.documentElement.tagName.toLowerCase()==="svg";var Drawing=useSVG?svgDrawer:!cwV5a()?function(){var Drawing=function(el,htOption){this.bF2x=el;this.iw5B=htOption};Drawing.prototype.draw=function(oQRCode){var iw5B=this.iw5B;var bF2x=this.bF2x;var nCount=oQRCode.getModuleCount();var nWidth=Math.floor(iw5B.width/nCount);var nHeight=Math.floor(iw5B.height/nCount);var aHTML=['<table style="border:0;border-collapse:collapse;">'];for(var row=0;row<nCount;row++){aHTML.push("<tr>");for(var col=0;col<nCount;col++){aHTML.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+nWidth+"px;height:"+nHeight+"px;background-color:"+(oQRCode.isDark(row,col)?iw5B.colorDark:iw5B.colorLight)+';"></td>')}aHTML.push("</tr>")}aHTML.push("</table>");bF2x.innerHTML=aHTML.join("");var elTable=bF2x.childNodes[0];var nLeftMarginTable=(iw5B.width-elTable.offsetWidth)/2;var nTopMarginTable=(iw5B.height-elTable.offsetHeight)/2;if(nLeftMarginTable>0&&nTopMarginTable>0){elTable.style.margin=nTopMarginTable+"px "+nLeftMarginTable+"px"}};Drawing.prototype.clear=function(){this.bF2x.innerHTML=""};return Drawing}():function(){function cwU5Z(){}if(this.Rz5E&&this.Rz5E<=2.1){var factor=1/window.devicePixelRatio;var drawImage=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(image,sx,sy,sw,sh,dx,dy,dw,dh){if("nodeName"in image&&/img/i.test(image.nodeName)){for(var i=arguments.length-1;i>=1;i--){arguments[i]=arguments[i]*factor}}else if(typeof dw=="undefined"){arguments[1]*=factor;arguments[2]*=factor;arguments[3]*=factor;arguments[4]*=factor}drawImage.apply(this,arguments)}}function cwS5X(fSuccess,fFail){var self=this;self.bey9p=fFail;self.bez9q=fSuccess;if(self.RB5G===null){var el=document.createElement("img");var fOnError=function(){self.RB5G=false;if(self.bey9p){self.bey9p.call(self)}};var fOnSuccess=function(){self.RB5G=true;if(self.bez9q){self.bez9q.call(self)}};el.onabort=fOnError;el.onerror=fOnError;el.onload=fOnSuccess;el.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==";return}else if(self.RB5G===true&&self.bez9q){self.bez9q.call(self)}else if(self.RB5G===false&&self.bey9p){self.bey9p.call(self)}}var Drawing=function(el,htOption){this.RC5H=false;this.Rz5E=bNT7M();this.iw5B=htOption;this.LT4X=document.createElement("canvas");this.LT4X.width=htOption.width;this.LT4X.height=htOption.height;el.appendChild(this.LT4X);this.bF2x=el;this.BG1x=this.LT4X.getContext("2d");this.RC5H=false;this.LP4T=document.createElement("img");this.LP4T.alt="Scan me!";this.LP4T.style.display="none";this.bF2x.appendChild(this.LP4T);this.RB5G=null};Drawing.prototype.draw=function(oQRCode){var LP4T=this.LP4T;var BG1x=this.BG1x;var iw5B=this.iw5B;var nCount=oQRCode.getModuleCount();var nWidth=iw5B.width/nCount;var nHeight=iw5B.height/nCount;var nRoundedWidth=Math.round(nWidth);var nRoundedHeight=Math.round(nHeight);LP4T.style.display="none";this.clear();for(var row=0;row<nCount;row++){for(var col=0;col<nCount;col++){var bIsDark=oQRCode.isDark(row,col);var nLeft=col*nWidth;var nTop=row*nHeight;BG1x.strokeStyle=bIsDark?iw5B.colorDark:iw5B.colorLight;BG1x.lineWidth=1;BG1x.fillStyle=bIsDark?iw5B.colorDark:iw5B.colorLight;BG1x.fillRect(nLeft,nTop,nWidth,nHeight);BG1x.strokeRect(Math.floor(nLeft)+.5,Math.floor(nTop)+.5,nRoundedWidth,nRoundedHeight);BG1x.strokeRect(Math.ceil(nLeft)-.5,Math.ceil(nTop)-.5,nRoundedWidth,nRoundedHeight)}}this.RC5H=true};Drawing.prototype.makeImage=function(){if(this.RC5H){cwS5X.call(this,cwU5Z)}};Drawing.prototype.isPainted=function(){return this.RC5H};Drawing.prototype.clear=function(){this.BG1x.clearRect(0,0,this.LT4X.width,this.LT4X.height);this.RC5H=false};Drawing.prototype.round=function(nNumber){if(!nNumber){return nNumber}return Math.floor(nNumber*1e3)/1e3};return Drawing}();function cwR5W(sText,nCorrectLevel){var nType=1;var length=cwQ5V(sText);for(var i=0,len=QRCodeLimitLength.length;i<=len;i++){var nLimit=0;switch(nCorrectLevel){case QRErrorCorrectLevel.L:nLimit=QRCodeLimitLength[i][0];break;case QRErrorCorrectLevel.M:nLimit=QRCodeLimitLength[i][1];break;case QRErrorCorrectLevel.Q:nLimit=QRCodeLimitLength[i][2];break;case QRErrorCorrectLevel.H:nLimit=QRCodeLimitLength[i][3];break}if(length<=nLimit){break}else{nType++}}if(nType>QRCodeLimitLength.length){throw new Error("Too long data")}return nType}function cwQ5V(sText){var replacedText=encodeURI(sText).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return replacedText.length+(replacedText.length!=sText?3:0)}QRCode=function(el,vOption){this.iw5B={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRErrorCorrectLevel.H};if(typeof vOption==="string"){vOption={text:vOption}}if(vOption){for(var i in vOption){this.iw5B[i]=vOption[i]}}if(typeof el=="string"){el=document.getElementById(el)}if(this.iw5B.useSVG){Drawing=svgDrawer}this.Rz5E=bNT7M();this.bF2x=el;this.beV9M=null;this.beX9O=new Drawing(this.bF2x,this.iw5B);if(this.iw5B.text){this.makeCode(this.iw5B.text)}};QRCode.prototype.makeCode=function(sText){this.beV9M=new QRCodeModel(cwR5W(sText,this.iw5B.correctLevel),this.iw5B.correctLevel);this.beV9M.addData(sText);this.beV9M.make();this.bF2x.title=sText;this.beX9O.draw(this.beV9M);this.makeImage()};QRCode.prototype.makeImage=function(){if(typeof this.beX9O.makeImage=="function"&&(!this.Rz5E||this.Rz5E>=3)){this.beX9O.makeImage()}};QRCode.prototype.clear=function(){this.beX9O.clear()};QRCode.CorrectLevel=QRErrorCorrectLevel})();window.QRCode=QRCode;
(function(){var c2x=NEJ.P,bb2x=NEJ.O,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),u2x=c2x("nej.j"),l2x=c2x("nm.x"),p2x=c2x("nm.d"),n2x=c2x("nm.l"),b2x,L2x;n2x.qk7d=NEJ.C();b2x=n2x.qk7d.N2x(n2x.ed4h);b2x.cz3x=function(){this.cE3x();this.yo0x=this.yo0x.f2x(this)};b2x.cd3x=function(){var data={allow:false};if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){data.degrade=true}this.cc3x=a1x.jG5L(a1x.ca3x("ntp-login-nav",data))};b2x.bo2x=function(e2x){e2x.onclose=function(){this.bD2x()}.f2x(this);this.bp2x(e2x);if(!window["GDegradeConfig"]||!window["GDegradeConfig"].degradeLogin){this.bye3x();this.byd3x()}};b2x.bD2x=function(){l2x.wE9v(null,null,"check_qrcode_login");this.bI3x()};b2x.bW3x=function(){this.cg3x();this.bOC7v=a1x.dg3x(this.o2x);this.RF5K=this.bOC7v[1];this.RG5L=this.bOC7v[0];if(this.RF5K){var fK4O=a1x.D2x(this.RF5K,"j-flag");this.He2x=fK4O.shift();this.cC3x=fK4O.shift();this.bya3x=fK4O.shift();this.eK4O=fK4O.shift();this.uh9Y=fK4O.shift();this.RJ5O=fK4O.shift();this.cwP5U=a1x.D2x(this.RF5K,"other")[0]}h2x.s2x(this.o2x,"click",this.bN3x.f2x(this));l2x.jU5Z()};b2x.byd3x=function(){u2x.be2x("/api/w/user/login/type/switch",{method:"get",type:"json",onload:function(d2x){if(d2x.code===200&&d2x.data.allow){a1x.x2x(this.cwP5U,"f-hide")}else{if(this.RG5L){a1x.cS3x(this.RG5L,false)}}}.f2x(this),onerror:function(){a1x.cS3x(this.RG5L,false)}})};b2x.bN3x=function(d2x){var G2x=h2x.ba2x(d2x,"d:action");if(!G2x)return;var U2x=a1x.t2x(G2x,"action"),v2x=a1x.t2x(G2x,"type");var bxY3x=a1x.A2x("j-official-terms")||{};var Ha2x=!!bxY3x.checked;if(U2x==="login"||U2x==="reg"||U2x==="scan"){if(!Ha2x){h2x.bg2x(d2x);l2x.hx5C({message:"请先勾选同意《服务条款》、《隐私政策》、《儿童隐私政策》",clazz:"z-login-page",delay:1500,type:"info"});return}}switch(U2x){case"login":if(v2x=="mobile"){h2x.bg2x(d2x);n2x.HM3x.I2x({title:"手机号登录",termsChecked:Ha2x})}else if(v2x=="netease"){n2x.CX1x.I2x({title:"邮箱登录",termsChecked:Ha2x})}else{h2x.co3x(d2x);this.FA2x=G2x.href;l2x.wG9x(this.iY5d.f2x(this));this.Xe6Y=top.open()}this.br2x();break;case"reg":h2x.bg2x(d2x);if(this.yT0x)this.yT0x.V2x();this.yT0x=n2x.baW8O.B2x();this.br2x();break;case"scan":h2x.bg2x(d2x);this.ub9S();this.yh0x();this.rw8o(0,0);a1x.w2x(this.RG5L,"f-hide");a1x.x2x(this.RF5K,"f-hide");break;case"switch":h2x.bg2x(d2x);this.mm6g=null;a1x.w2x(this.RF5K,"f-hide");a1x.x2x(this.RG5L,"f-hide");l2x.wE9v(null,null,"check_qrcode_login");break}};b2x.iY5d=function(cl3x){this.FA2x+="&checkToken="+cl3x||"";this.Xe6Y.location.href=this.FA2x};b2x.bye3x=function(){this.RM5R=-1;this.RN5S=-1;this.mm6g=null;this.ub9S();this.yh0x();this.rw8o(0,0);this.bZ3x([[this.o2x,"click",this.cH3x.f2x(this)]])};b2x.cH3x=function(d2x){var G2x=h2x.ba2x(d2x,"d:action");if(G2x){switch(a1x.t2x(G2x,"action")){case"refresh":this.mm6g=null;this.ub9S();this.yh0x();this.rw8o(0,0);default:break}}};b2x.rw8o=function(r2x,GR2x){if(this.RM5R===r2x&&this.RN5S===GR2x){return}if(r2x==0){document.body.className="n-login n-login-scan n-login-scan-0";a1x.x2x(this.He2x,"f-hide");a1x.x2x(this.eK4O,"f-hide");a1x.w2x(this.uh9Y,"f-hide");a1x.w2x(this.RJ5O,"f-hide");if(GR2x){a1x.x2x(this.cC3x,"f-hide")}else{a1x.w2x(this.cC3x,"f-hide")}}else{document.body.className="n-login n-login-scan n-login-scan-1";a1x.w2x(this.He2x,"f-hide");a1x.w2x(this.eK4O,"f-hide");a1x.x2x(this.uh9Y,"f-hide");a1x.x2x(this.RJ5O,"f-hide")}this.RM5R=r2x;this.RN5S=GR2x};b2x.bxU3x=function(){this.rw8o(0,1)};b2x.yo0x=function(){u2x.be2x("/api/login/qrcode/client/login",{type:"json",method:"post",data:j2x.cr3x({key:this.mm6g,type:1}),onload:this.bxR3x.f2x(this),onerror:function(){n2x.Z2x.I2x({type:2,tip:"扫码登录失败，请稍后再试"})}})};b2x.bxR3x=function(m2x){if(!m2x){return}switch(m2x.code){case 803:u2x.be2x("/api/w/nuser/account/get",{query:"",type:"json",onload:function(m2x){this.br2x();localCache.mq6k("user",m2x);l2x.wE9v(null,null,"check_qrcode_login");if(!m2x.profile){if(this.lo6i)this.lo6i.V2x();this.lo6i=n2x.zU1x.B2x({user:m2x,requiremobile:false,onsuccess:this.uF9w.f2x(this)})}else{u2x.be2x("/api/user/grabed/status/get",{method:"GET",cookie:true,type:"json",onload:function(resp){if(resp.data&&resp.data.grabed){l2x.hn5s({title:"更换手机号",btncc:"知道了",okstyle:"f-hide",message:"您绑定的手机号已被其他账号绑定，为保护账号安全，将强制退出您在网页端的登陆状态，请在云音乐手机端尽快绑定新的手机号。",action:top.logout})}else{h2x.z2x(window,"login",{user:m2x})}},onerror:function(){console.log("[请求出错]:/api/user/grabed/status/get");top.logout()}})}}.f2x(this),onerror:function(){this.mm6g=null;this.ub9S();this.yh0x();this.rw8o(0,0)}});break;case 802:this.rw8o(1,0);break;case 801:break;case 800:l2x.wE9v(null,null,"check_qrcode_login");this.bxU3x();break;default:break}};b2x.yh0x=function(){u2x.be2x("/api/login/qrcode/unikey",{type:"json",method:"post",data:j2x.cr3x({type:1}),onload:this.bxO3x.f2x(this),onerror:function(){n2x.Z2x.I2x({type:2,tip:"操作失败，请稍后再试"})}})};b2x.bxO3x=function(m2x){if(m2x&&m2x.code==200){this.mm6g=m2x.unikey;this.ub9S();l2x.wE9v(this.yo0x,1e3,"check_qrcode_login")}else{}};b2x.ub9S=function(){if(this.As1x){this.As1x.clear()}if(!this.mm6g){return}var X2x="http://music.163.com/login?codekey="+this.mm6g;if(this.As1x){this.As1x.makeCode(X2x)}else{this.As1x=new QRCode(this.bya3x,{text:X2x,width:130,height:130,correctLevel:QRCode.CorrectLevel.M})}};n2x.qk7d.I2x=n2x.qk7d.I2x.eM4Q(function(d2x){n2x.HM3x.br2x();n2x.CX1x.br2x()})})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),ci3x=c2x("nej.ut"),l2x=c2x("nm.x"),p2x=c2x("nm.d"),n2x=c2x("nm.l"),b2x,L2x;n2x.bPy7r=NEJ.C();b2x=n2x.bPy7r.N2x(ci3x.cP3x);var MOB_CHECK={MAIN:1,SNS:2,NETEASE:3,NULL:-1};var ACCOUNT_TYPE={MOBILE:1,TWEIBO:6};var LOGIN_ACCOUNT=[{type:1,title:"手机",key:"cellphone"},{type:0,title:"网易邮箱帐号",key:"email"},{type:2,title:"新浪微博",key:"name"},{type:10,title:"微信",key:"nickname"},{type:5,title:"QQ",key:"nickname"}];b2x.bo2x=function(e2x){this.bp2x(e2x);this.dz3x=e2x;this.tG8y=e2x.user;this.S2x=p2x.mC6w.B2x();this.S2x.s2x("onmobilecheck",this.Rg5l.f2x(this));this.S2x.s2x("onmobilecheckerror",this.Rh5m.f2x(this));this.S2x.s2x("onmobilebind",this.Lg3x.f2x(this));this.S2x.s2x("onmobilebinderror",this.Lf3x.f2x(this));this.S2x.s2x("onmobileupdatepwd",this.Lg3x.f2x(this));this.S2x.s2x("onmobileupdatepwderror",this.Lf3x.f2x(this));this.S2x.s2x("onactive",this.QU5Z.f2x(this));this.S2x.s2x("onactiveerror",this.bzq3x.f2x(this));var bhb9S=this.cwO5T(this.tG8y);this.bPF7y=bhb9S;this.bPH7A=this.cwL5Q(this.tG8y);if(e2x.user.account.type==ACCOUNT_TYPE.MOBILE||e2x.user.account.type==ACCOUNT_TYPE.TWEIBO){if(!bhb9S){this.cwK5P()}else{if(bhb9S.hasPassword){this.bPK7D()}else{this.bPO7H({tip:'云音乐将不再支持 <strong class="s-fc1">腾讯微博</strong> 登录方式，<br/>设置登录密码，以后可以使用手机号登录',mobile:bhb9S.uid})}}}else{this.bPK7D()}};b2x.bD2x=function(){this.bI3x();this.S2x.V2x();if(this.eH4L)this.eH4L.V2x();if(this.nz6t)this.nz6t.V2x();if(this.ki5n)this.ki5n.V2x()};b2x.bPK7D=function(){var bA2x={0:"邮箱帐号",1:"手机号",2:"新浪微博",5:"QQ",10:"微信"},dy3x=this.tG8y,bhl9c=this.bPH7A.type==ACCOUNT_TYPE.TWEIBO?this.bPF7y:this.bPH7A;if(!dy3x.profile){if(this.lo6i)this.lo6i.V2x();this.lo6i=n2x.zU1x.B2x({user:dy3x,requiremobile:false,onsuccess:this.uF9w.f2x(this)})}else{l2x.hn5s({title:"提示",message:"云音乐即将不支持腾讯微博登录<br/>建议你后续使用以下绑定的"+(bA2x[bhl9c.type]||"帐号")+"登录<br/><strong>"+(bhl9c.type==ACCOUNT_TYPE.MOBILE?l2x.Jw3x(bhl9c.uid):j2x.dR3x(bhl9c.uid))+"</strong>",btnok:"查看详情",btncc:"知道了",okstyle:"u-btn2-w1",ccstyle:"u-btn2-w1",action:function(v2x){if(v2x=="ok"){location.hash="/user/binding/#/list"}else{h2x.z2x(window,"login",{user:dy3x})}},onclose:h2x.z2x.f2x(h2x,window,"login",{user:dy3x})})}};b2x.uF9w=function(d2x){h2x.z2x(window,"login",{user:d2x.user})};b2x.cwK5P=function(){this.eH4L=n2x.qz7s.I2x({title:"绑定手机号",tip:'云音乐将不再支持 <strong class="s-fc1">腾讯微博</strong> 登录方式，<br/>请绑定手机号，以免后续无法使用该帐号',onok:this.cwJ5O.f2x(this)})};b2x.cwJ5O=function(bj2x){this.gk4o=bj2x.mobile;this.fI4M=bj2x.countrycode;this.ZQ8I=bj2x.captcha;this.S2x.brj2x({data:{cellphone:bj2x.mobile,captcha:bj2x.captcha,countrycode:bj2x.countrycode}})};b2x.Rg5l=function(bj2x){if(bj2x.nickname){this.eH4L.cQ3x(false);this.eH4L.bY3x("绑定失败，该手机号已与云音乐帐号 "+j2x.dR3x(bj2x.nickname)+" 绑定","mobile")}else{this.bPO7H()}};b2x.Rh5m=function(){this.eH4L.br2x();n2x.Z2x.I2x({tip:"登录失败，请重试",type:2})};b2x.bPO7H=function(bV3x){if(this.eH4L)this.eH4L.br2x();bV3x=bV3x||{};this.ki5n=n2x.MU4Y.I2x({title:"设置密码",tip:bV3x.tip,mobile:bV3x.mobile,onok:this.cwI5N.f2x(this)})};b2x.cwI5N=function(bj2x){if(this.bPF7y){this.S2x.bbA8s({data:{phone:this.gk4o,password:j2x.kY6S(bj2x.password),captcha:this.ZQ8I}})}else{this.S2x.bQY8Q({data:{phone:this.gk4o,captcha:this.ZQ8I,password:j2x.kY6S(bj2x.password)}})}};b2x.Lg3x=function(bj2x){this.ki5n.br2x();if(this.tG8y.profile||this.tG8y.account.type==ACCOUNT_TYPE.MOBILE){h2x.z2x(window,"login",{user:this.tG8y})}else if(this.tG8y.account.type==ACCOUNT_TYPE.TWEIBO){this.nz6t=n2x.IJ3x.I2x({title:"设置昵称",onok:this.cwH5M.f2x(this)})}};b2x.Lf3x=function(bj2x){this.ki5n.br2x();n2x.Z2x.I2x({tip:bj2x.message||"登录失败，请重试",type:2})};b2x.cwH5M=function(bj2x){this.S2x.brn2x({data:{dragPwd:bj2x.dragPwd,nickname:bj2x.nickname}})};b2x.QU5Z=function(bj2x){this.nz6t.br2x();this.tG8y.profile=bj2x.profile;h2x.z2x(window,"login",{user:this.tG8y})};b2x.bzq3x=function(bj2x){this.nz6t.cQ3x(false);if(bj2x.code==505)return this.nz6t.bY3x("该昵称已被占用","nickname");if(bj2x.code==407)return this.nz6t.bY3x("该昵称包含关键词","nickname");this.nz6t.br2x();n2x.Z2x.I2x({tip:bj2x.message||"登录失败，请重试",type:2})};b2x.cwO5T=function(dy3x){var tM9D=dy3x.bindings||[];var r2x=j2x.dt3x(tM9D,function(q2x){return q2x.type==ACCOUNT_TYPE.MOBILE});var pD7w=r2x>=0?tM9D[r2x]:null;if(!pD7w)return null;var cl3x=JSON.parse(pD7w.tokenJsonStr);pD7w.uid=cl3x.cellphone;pD7w.hasPassword=cl3x.hasPassword;return pD7w};b2x.cwL5Q=function(dy3x){var tM9D=dy3x.bindings||[];var r2x=j2x.dt3x(tM9D,function(q2x){return q2x.type==dy3x.account.type});var pD7w=r2x>=0?tM9D[r2x]:null;if(!pD7w)return null;var cl3x=JSON.parse(pD7w.tokenJsonStr);pD7w.uid=cl3x.cellphone||cl3x.email||cl3x.name||cl3x.nickname||"";return pD7w}})();
(function(){var c2x=NEJ.P,H2x=c2x("nej.ut"),h2x=c2x("nej.v"),u2x=c2x("nej.j"),a1x=c2x("nej.e"),j2x=c2x("nej.u"),F2x=c2x("nm.m"),p2x=c2x("nm.d"),n2x=c2x("nm.l"),b2x,L2x;F2x.KZ3x=NEJ.C();b2x=F2x.KZ3x.N2x(H2x.cP3x);var LOGIN_ACCOUNT=[{type:1,title:"手机",icon:"mb",key:"cellphone",uidkey:"cellphone"},{type:10,title:"微信",icon:"wx",key:"nickname",uidkey:"unionid"},{type:5,title:"QQ",icon:"qq",key:"nickname",uidkey:"openid"},{type:2,title:"新浪微博",icon:"sn",key:"name",uidkey:"uid"},{type:0,title:"网易邮箱帐号",icon:"urs",key:"email",uidkey:"email"},{type:13,title:"Facebook",icon:"urs",key:"nickname",uidkey:"uid"}];var SHARE_ACCOUNT=[{type:4,title:"人人",icon:"rr",key:"user.name",uidkey:"user.id"},{type:3,title:"豆瓣",icon:"db",key:"douban_user_name",uidkey:"douban_user_id"}];var TWEIBO={type:6,title:"腾讯微博",icon:"tc",key:"nick",uidkey:"openId"};var ALL_ACCOUNT=LOGIN_ACCOUNT.concat(SHARE_ACCOUNT,TWEIBO);b2x.cz3x=function(e2x){this.cE3x(e2x);window.login=this.cwF5K.f2x(this);window.logout=this.bQd7W.f2x(this);window.reg=this.cwE5J.f2x(this);h2x.s2x(window,"login",this.bhN0x.f2x(this));window.g_cbLogin=this.wA9r.f2x(this);window.g_cbBind=this.cwD5I.f2x(this);window.g_cbDeleteBind=this.cwC5H.f2x(this);window.g_cbVerify=this.Rk5p.f2x(this);this.bxD3x()};b2x.bxD3x=function(){var dy3x={account:{},profile:{},bindings:[]};if(typeof GUser!=="undefined"){dy3x.profile.userId=GUser.userId;dy3x.profile.nickname=GUser.nickname;dy3x.profile.avatarUrl=GUser.avatarUrl}if(typeof GBinds!=="undefined"){dy3x.bindings=GBinds}localCache.mq6k("user",dy3x);this.bxC3x=p2x.mC6w.B2x();this.bxC3x.s2x("onlogout",this.cwB5G.f2x(this));this.bxC3x.s2x("onmainaccountreplace",this.wA9r.f2x(this));if(!this.cwA5F(dy3x))this.bQd7W()};b2x.cwF5K=function(v2x){n2x.qk7d.br2x();n2x.HM3x.br2x();n2x.CX1x.br2x();if(typeof v2x==="undefined")return n2x.qk7d.I2x({title:"登录"});if(v2x===0)return n2x.HM3x.I2x({title:"手机号登录"});return n2x.CX1x.I2x({title:"网易邮箱帐号登录"})};b2x.cwE5J=function(){if(this.yT0x)this.yT0x.V2x();this.yT0x=n2x.baW8O.B2x()};b2x.bhN0x=function(d2x){try{u2x.be2x("/api/privacy/info/save",{method:"POST",sync:true,cookie:true,type:"json",timeout:5e3,onload:function(){},onerror:function(){console.log("[请求出错]:api/privacy/info/save")}})}catch(e){console.log("[请求出错]:api/privacy/info/save")}if(typeof GUser==="object"&&d2x.user&&d2x.user.profile){var Gw2x=d2x.user.profile;GUser.userId=Gw2x.userId;GUser.nickname=Gw2x.nickname;GUser.avatarUrl=Gw2x.avatarUrl;GUser.djStatus=Gw2x.djStatus}if(this.bwp3x("loginsuccess")){this.z2x("loginsuccess")}else{location.reload()}};b2x.wA9r=function(m2x){if(m2x&&m2x.code==250){n2x.Z2x.I2x({tip:m2x.message||"登录异常",type:2});return}if(m2x.code==702){this.bMM7F=n2x.Rj5o.I2x({title:"网易云音乐",mobile:m2x.phone,countrycode:m2x.countrycode,loginType:m2x.loginType});return}if(!m2x||m2x.code!=200)return;var km5r=JSON.stringify(m2x);localCache.mq6k("user",JSON.parse(km5r));if(m2x.loginType==6){if(this.bQv7o)this.bQv7o.V2x();this.bQv7o=n2x.bPy7r.B2x({user:m2x,onsuccess:this.bhN0x.f2x(this)})}else{if(m2x.profile){this.bhN0x({user:m2x})}else{if(this.lo6i)this.lo6i.V2x();this.lo6i=n2x.zU1x.B2x({user:m2x,requiremobile:this.cwz5E(m2x),onsuccess:this.bhN0x.f2x(this)})}}};b2x.cwD5I=function(bj2x){var d2x=bj2x.code==200?"snsbind":"snsbinderror",eT4X=a1x.A2x("g_iframe");if(bj2x.code==200){var dy3x=localCache.A2x("user")||{},pD7w=NEJ.X(bj2x,{refreshTime:+(new Date)/1e3|0,tokenJsonStr:JSON.stringify({expires_in:bj2x.expires_in})}),r2x=-1;dy3x.bindings=dy3x.bindings||[];j2x.bf2x(dy3x.bindings,function(cww5B,yj0x){if(cww5B.type==bj2x.type)r2x=yj0x});if(r2x>=0){dy3x.bindings[r2x]=pD7w}else{dy3x.bindings.push(pD7w)}u2x.be2x("/api/point/sns",{type:"json",method:"get",query:{snsType:bj2x.type},onload:function(i2x){var bR3x=bj2x.point||i2x.point;if(bR3x>0){n2x.eb4f({title:"绑定成功",type:"success",mesg:'绑定成功 获得<em class="s-fc6">'+bR3x+"积分</em>"})}else{n2x.Z2x.I2x({tip:"绑定成功"})}}.f2x(this)})}else{var r2x=j2x.dt3x(ALL_ACCOUNT,function(q2x){return q2x.type==bj2x.type});var eq4u=r2x>=0?ALL_ACCOUNT[r2x].title:"";if(bj2x.message){n2x.eb4f({title:"绑定"+eq4u,type:"fail",mesg:"绑定失败",mesg2:bj2x.message})}else{n2x.Z2x.I2x({tip:"绑定失败，请重试",type:2})}}try{var bM3x=eT4X.contentWindow;bM3x.nej.v.z2x(bM3x,d2x,{result:bj2x})}catch(e){}h2x.z2x(window,d2x,{result:bj2x})};b2x.cwC5H=function(bj2x){var d2x=bj2x.code==200?"snsunbind":"snsunbinderror",eT4X=a1x.A2x("g_iframe");if(bj2x.code==200){n2x.Z2x.I2x({tip:"已解除绑定"})}else if(bj2x.message){n2x.eb4f({title:"解除绑定",type:"fail",mesg:"解绑失败",mesg2:bj2x.message})}else{n2x.Z2x.I2x({tip:"解绑失败，请重试",type:2})}try{var bM3x=eT4X.contentWindow;bM3x.nej.v.z2x(bM3x,d2x,{result:bj2x})}catch(e){}h2x.z2x(window,d2x,{result:bj2x})};b2x.Rk5p=function(bj2x){console.log(bj2x,"rsp");var d2x=bj2x.code==200?"snsverify":"snsverifyerror",eT4X=a1x.A2x("g_iframe");if(bj2x.code==200){}else{if(bj2x.message){n2x.eb4f({title:"验证失败",type:"fail",mesg:"验证失败",mesg2:bj2x.message})}else{n2x.Z2x.I2x({tip:"验证失败，请重试",type:2})}}try{var bM3x=eT4X.contentWindow;bM3x.nej.v.z2x(bM3x,d2x,{result:bj2x})}catch(e){}h2x.z2x(window,d2x,{result:bj2x})};b2x.bQd7W=function(){var d2x={};this.z2x("beforedologout",d2x);if(d2x.stopped){return}u2x.gP4T("MUSIC_U",{expires:-1});this.bxC3x.cFt7m();window.GUser={};this.z2x("logoutbefore")};b2x.cwB5G=function(m2x){localCache.cS3x("user");localCache.cS3x("host-plist");if(typeof GUser==="object"){GUser.userId=0;GUser.nickname="";GUser.avatarUrl=""}if(this.bwp3x("logoutsuccess")){this.z2x("logoutsuccess")}else{location.reload()}};b2x.cwA5F=function(dy3x){var bxA3x=false;if(!dy3x.bindings||dy3x.bindings.length==0)return true;j2x.bf2x(dy3x.bindings,function(q2x){if(q2x.type==0||q2x.type==2||q2x.type==5||q2x.type==10||q2x.type==13){bxA3x=true}else if(q2x.type==1){var cl3x=JSON.parse(q2x.tokenJsonStr||"{}");if(cl3x.hasPassword){bxA3x=true}}});return bxA3x};b2x.cwz5E=function(i2x){return i2x&&i2x.loginType!=13};H2x.fT4X.B2x({element:window,event:["login","snsbind","snsbinderror","snsunbind","snsunbinderror","snsverify","snsverifyerror"]});F2x.KZ3x.fU4Y()})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,bs2x=NEJ.F,a1x=c2x("nej.e"),h2x=c2x("nej.v"),bd2x=c2x("nej.ui"),H2x=c2x("nej.ut"),j2x=c2x("nej.u"),l2x=c2x("nm.x"),p2x=c2x("nm.d"),y2x=c2x("nm.w"),b2x;y2x.Wh6b=NEJ.C();b2x=y2x.Wh6b.N2x(bd2x.er4v);b2x.bW3x=function(){this.cg3x();var k2x=a1x.dg3x(this.o2x);this.IK3x=k2x[0];this.cy3x=k2x[1];this.bO3x=k2x[2]};b2x.cd3x=function(){this.cc3x="g-select"};b2x.bo2x=function(e2x){this.bp2x(e2x);this.bZ3x([[this.cy3x,"click",this.qB7u.f2x(this)],[this.bO3x,"click",this.lD6x.f2x(this)],[document,"click",this.qo7h.f2x(this)]]);this.bqv1x=e2x.filter||this.cka2x;this.lv6p(e2x.list)};b2x.bD2x=function(){this.bI3x();delete this.bX3x;delete this.wu9l;delete this.bqv1x};b2x.lv6p=function(k2x,kE5J){if(!k2x){this.IK3x.innerText="－请选择－";return}this.bX3x=k2x;a1x.dw3x(this.bO3x,"g-select-item",{options:k2x},{filter:this.bqv1x});this.ju5z(kE5J||k2x[0])};b2x.mo6i=function(){return this.bX3x};b2x.gm4q=function(){return this.wu9l};b2x.ju5z=function(C2x){if(this.wu9l!=C2x){this.wu9l=C2x;this.IK3x.innerText=this.bqv1x(C2x);this.z2x("onchange",C2x)}};b2x.qB7u=function(d2x){h2x.bg2x(d2x);if(a1x.bE2x(this.bO3x,"f-hide")){if(!this.bX3x||!this.bX3x.length)return;a1x.x2x(this.bO3x,"f-hide")}else{a1x.w2x(this.bO3x,"f-hide")}};b2x.qo7h=function(){a1x.w2x(this.bO3x,"f-hide")};b2x.lD6x=function(d2x){var g2x=h2x.ba2x(d2x,"d:index"),r2x=a1x.t2x(g2x,"index");if(g2x){this.ju5z(this.bX3x[r2x])}};b2x.cka2x=function(dQ3x){return dQ3x.name}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,bs2x=NEJ.F,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),ds3x=c2x("nej.p"),bd2x=c2x("nej.ui"),u2x=c2x("nej.j"),l2x=c2x("nm.x"),p2x=c2x("nm.d"),n2x=c2x("nm.l"),y2x=c2x("nm.w"),gE4I=c2x("nm.ut"),b2x,L2x;y2x.Ew2x=NEJ.C();b2x=y2x.Ew2x.N2x(bd2x.er4v);L2x=y2x.Ew2x.ct3x;b2x.bo2x=function(e2x){this.bp2x(e2x);this.eI4M=e2x.type||1;if(a1x.ig5l("program-data")){this.gf4j=JSON.parse(a1x.ig5l("program-data"))}this.em4q=e2x.resource||{};this.tJ8B=a1x.oS7L(a1x.ca3x("m-wgt-input-"+this.eI4M,{placeholder:e2x.placeholder||""}));this.bZi0x=e2x.type==2?true:false;var k2x=a1x.D2x(this.tJ8B,"j-flag");this.gy4C=k2x[0];this.bvg2x=a1x.D2x(this.tJ8B,"btns")[0];this.mx6r=k2x[3];this.cuz5E=k2x[4];a1x.gX4b(this.gy4C,"holder");if(a1x.bE2x(this.gy4C.parentNode,"holder-parent")){a1x.bc2x(this.gy4C.parentNode,"display","block")}this.gy4C.value=e2x.input||"";this.o2x.appendChild(this.tJ8B);this.pX7Q={start:0,end:0};if(!e2x.nomention){this.hV5a=y2x.Qe5j.B2x({parent:document.body,target:this.gy4C})}else{a1x.bc2x(k2x[2],"display","none")}this.buG2x=e2x.numLimit||140;this.gD4H();this.cuy5D();this.bZ3x([[this.mx6r,"click",this.us9j.f2x(this)],[k2x[2],"click",this.bvb2x.f2x(this)],[k2x[1],"click",this.bva2x.f2x(this)],[this.gy4C,"focus",this.lb6V.f2x(this)],[this.gy4C,"blur",this.pm7f.f2x(this)],[this.gy4C,"input",this.fb4f.f2x(this)],[this.gy4C,"keyup",this.vZ9Q.f2x(this)],[this.gy4C,"click",this.mT6N.f2x(this)]]);if(!j2x.gQ4U(e2x.onbeforesubmit))this.s2x("onbeforesubmit",this.cuw5B.f2x(this));if(!j2x.gQ4U(e2x.onloading))this.s2x("onloading",this.cut5y.f2x(this));u2x.be2x("/api/gorilla/switch/emojy/status?platform=web&product=cloudmusic",{type:"json",method:"get",onload:function(res){var status=res.data[0].status;if(status===5){a1x.w2x(k2x[1],"f-hide")}else{a1x.x2x(k2x[1],"f-hide")}}.f2x(this)})};b2x.bD2x=function(){this.gy4C.value="";if(this.hN5S){this.hN5S.V2x();delete this.hN5S}if(this.hV5a){this.hV5a.V2x();delete this.hV5a}this.bI3x();a1x.cS3x(this.tJ8B)};b2x.cuw5B=function(){var C2x=this.gy4C.value;if(this.mx6r.className.indexOf("dis")>=0)return;if(!this.Kv3x()||!this.Ek2x())return;if(l2x.kO6I(C2x)){n2x.Z2x.I2x({type:2,tip:"输入点内容再提交吧"});return}if(j2x.fQ4U(C2x)>2*this.buG2x){n2x.Z2x.I2x({type:2,tip:"输入不能超过"+this.buG2x+"个字符"});return}return!0};b2x.cut5y=function(){a1x.w2x(this.mx6r,"u-btn-1-dis");if(this.mx6r.innerText.indexOf("...")<0){this.mx6r.innerText=this.mx6r.innerText+"..."}this.vC9t=!0};b2x.Bs1x=function(){if(!this.vC9t)return;this.vC9t=!1;a1x.x2x(this.mx6r,"u-btn-1-dis");var cJ3x=this.mx6r.innerText;this.mx6r.innerText=cJ3x.substring(0,cJ3x.length-3)};b2x.mT6N=function(){this.pX7Q=gE4I.xd0x(this.gy4C)};b2x.us9j=function(ia5f){h2x.bg2x(ia5f);l2x.rX8P(function(){var C2x=this.gy4C.value;if(!this.z2x("onbeforesubmit",{value:C2x}))return;if(this.eI4M!=4)this.z2x("onloading");gE4I.bDw5B(C2x);if(this.hV5a){this.hV5a.IW3x()}if(this.hN5S){this.hN5S.br2x()}this.z2x("onsubmit",C2x);this.gD4H()}.f2x(this));return false};b2x.qN7G=function(){this.gy4C.value="";this.gD4H()};b2x.gm4q=function(){return this.gy4C.value||""};b2x.nx6r=function(){var ji5n=this.gy4C;var v2x=a1x.t2x(ji5n,"type");this.nq6k=v2x;if(!this.Ek2x())return;var bt2x=this.gm4q().length;this.gy4C.focus();gE4I.bak8c(this.gy4C,{start:bt2x,end:bt2x});this.mT6N()};b2x.bvb2x=function(d2x){h2x.bg2x(d2x);if(!this.Ek2x())return;!!this.hN5S&&this.hN5S.br2x();this.hV5a.Qf5k();this.gD4H()};b2x.bva2x=function(d2x){h2x.bg2x(d2x);if(!this.Ek2x())return;if(!this.hN5S){this.hN5S=n2x.NS4W.B2x({parent:this.bvg2x,rightwards:this.eI4M==6});this.hN5S.s2x("onselect",this.zy0x.f2x(this));a1x.bc2x(this.hN5S.mA6u().parentNode,"position","relative")}this.hN5S.I2x();this.z2x("onemotlayershow");if(this.hV5a){this.hV5a.IW3x()}};b2x.zy0x=function(d2x){var bq2x="["+d2x.text+"]";h2x.z2x(this.gy4C,"focus");this.gy4C.focus();gE4I.Op4t(this.gy4C,this.pX7Q,bq2x);this.gD4H();h2x.z2x(this.gy4C,"keyup")};b2x.fb4f=function(d2x){ds3x.dB3x.browser=="ie"&&ds3x.dB3x.version<"7.0"?setTimeout(this.gD4H.f2x(this),0):this.gD4H()};b2x.vZ9Q=function(d2x){this.mT6N();if(this.bZi0x)this.cus5x();this.fb4f()};b2x.Kv3x=function(){if(!GUser||!GUser.userId||GUser.userId<0){top.login();return}return true};b2x.lb6V=function(d2x){var g2x=h2x.ba2x(d2x,"d:type");var v2x=a1x.t2x(g2x,"type");this.nq6k=v2x;if(!this.Kv3x()){this.gy4C.blur();return}if(!this.Ek2x()){this.gy4C.blur();return}this.z2x("onfocus")};b2x.pm7f=function(){this.z2x("onblur")};b2x.gD4H=function(){var bt2x=this.buG2x-Math.ceil(j2x.fQ4U(this.gy4C.value)/2);this.cuz5E.innerHTML=bt2x>=0?bt2x:'<em class="s-fc6">'+bt2x+"</em>"};b2x.cus5x=function(){var Gk2x=76;var cuq5v=function(){if(parseInt(cj3x)>Gk2x){a1x.bc2x(this.gy4C,"height","auto");a1x.bc2x(this.gy4C,"height",Gk2x+"px");a1x.bc2x(this.gy4C,"overflowY","scroll")}else{a1x.bc2x(this.gy4C,"height","auto");a1x.bc2x(this.gy4C,"height",cj3x);a1x.bc2x(this.gy4C,"overflowY","hidden")}}.f2x(this);var uQ9H=function(string,number){for(var i=0,r="";i<number;i++)r+=string;return r};this.Nb4f.innerHTML=this.gy4C.value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(/ {2,}/g,function(space){return uQ9H("&nbsp;",space.length-1)+" "})+"&nbsp";var cj3x=this.Nb4f.offsetHeight>this.Na4e?this.Nb4f.offsetHeight:this.Na4e;cj3x+="px";var cPq9h=a1x.dl3x(this.gy4C,"height");setTimeout(cuq5v,10)};b2x.Ra5f=function(){var rh7a=["overflowX","overflowY","fontSize","fontFamily","lineHeight"];for(var i=0;i<rh7a.length;i++){a1x.bc2x(this.Nb4f,rh7a[i],a1x.dl3x(this.gy4C,rh7a[i]))}var cN3x=this.gy4C.offsetWidth-parseInt(a1x.dl3x(this.gy4C,"paddingLeft"))-parseInt(a1x.dl3x(this.gy4C,"paddingRight"))+"px";a1x.bc2x(this.Nb4f,"width",cN3x)};b2x.cuy5D=function(){if(this.bZi0x){if(!a1x.D2x(document.body,"shadow-textarea")[0]){var ee4i='<div style="position:absolute;border: none;left:-10000px;word-wrap: break-word;overflow: hidden;resize:none" class="shadow-textarea"></div>';var g2x=a1x.oS7L(ee4i);document.body.appendChild(g2x);this.Nb4f=a1x.D2x(document.body,"shadow-textarea")[0]}else{this.Nb4f=a1x.D2x(document.body,"shadow-textarea")[0]}this.Na4e=parseInt(a1x.dl3x(this.gy4C,"height"));a1x.bc2x(this.gy4C,"overflow","hidden");this.Ra5f()}};b2x.Ek2x=function(){var d2x={};if(this.gf4j&&this.gf4j.buyed!=true&&this.gf4j.programFeeType>=10||this.gf4j&&this.gf4j.buyed!=true&&this.gf4j.programFeeType==5&&this.gf4j.radio.radioFeeType==2||this.gf4j&&this.gf4j.buyed!=true&&this.gf4j.radio.feeScope==1&&!(this.gf4j.radio.radioFeeType==0&&this.nq6k==11)){var bAX4b=this.gf4j.radio.id,bBa4e="djradio";l2x.Ql5q({id:bAX4b,radiotype:bBa4e})}else{this.z2x("oncheckvalid",d2x);return!d2x.stopped}}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,j2x=c2x("nej.u"),h2x=c2x("nej.v"),H2x=c2x("nej.ut"),l2x=c2x("nm.x"),p2x=c2x("nm.d"),n2x=c2x("nm.l"),b2x,L2x;p2x.fw4A({"message_chat-add":{url:"/api/msg/private/send",filter:function(e2x){this.Mf4j(e2x,0)},format:function(m2x,e2x){this.bjO0x(m2x.newMsgs);if(e2x.justSend){return m2x}else{return m2x.newMsgs.reverse()}},finaly:function(d2x,e2x){if(!d2x)return;if(!e2x.justSend){h2x.z2x(p2x.nj6d,"listchange",{key:e2x.key,action:"unshift",limit:d2x.limit,offset:0})}this.z2x("onafteritemaddd")},onmessage:function(cf3x){var cT3x="";if(cf3x==407){cT3x="发送内容中不得包含非法字符"}else if(cf3x==406||cf3x==405){cT3x="输入过于频繁，请稍后再试"}else if(cf3x==408){cT3x="请不要重复发送"}else if(cf3x==315){cT3x="根据对方设置，你没有该操作权限"}if(!!cT3x)n2x.Z2x.I2x({tip:cT3x,type:2})}},"message_chat-del":{url:"/api/msg/private/delete/single",format:function(Q2x,e2x){return Q2x.code==200},finaly:function(d2x,e2x){h2x.z2x(p2x.nj6d,"listchange",{key:e2x.key,action:"delete",data:e2x.data});this.z2x("onafteritemdelete")},onmessage:function(cf3x){}},"message_chat-list":{url:"/api/msg/private/history",filter:function(e2x,bm2x){if(window.location.href.indexOf("noticeaccountflag=true")!==-1){bm2x.url="/api/msg/private/noticeaccount/history"}else{bm2x.url="/api/msg/private/history"}this.Mf4j(e2x);delete e2x.data.offset},format:function(m2x,e2x){var Zg7Z=m2x.msgs||m2x.data.msgs;this.bjO0x(Zg7Z);if(m2x.more||m2x.data&&m2x.data.hasMore){for(var i=Zg7Z.length;i<e2x.limit;i++){Zg7Z.push(null)}}else{return{total:e2x.offset+e2x.limit,list:Zg7Z}}return Zg7Z}},"message_chat-pull":{url:"/api/msg/private/new",filter:function(e2x){this.Mf4j(e2x,0)},format:function(m2x){return m2x.msgs}},"message_private-list":{url:"/api/msg/private/users",filter:function(e2x){},format:function(m2x,e2x){var cF3x=m2x.size||0,k2x=m2x.msgs;this.bjM0x(k2x);if(e2x.offset+e2x.limit<cF3x){k2x.length=e2x.limit}return{total:cF3x,list:k2x}}},"message_private-pull":{url:"/api/msg/private/users",filter:function(e2x){e2x.data.time=-1},format:function(m2x,e2x){this.xv0x(e2x.key);this.bjM0x(m2x.msgs);return m2x.msgs}},"message_private-del":{type:"GET",url:"/api/msg/private/delete",filter:function(e2x){var E2x=e2x.id;if(E2x)e2x.data={userId:E2x.split("-")[1]}},format:function(Q2x,e2x){return Q2x},finaly:function(d2x,e2x){h2x.z2x(p2x.nj6d,"listchange",{key:e2x.key,action:"refresh"})},onmessage:function(cf3x){}},"message_comment-list":{url:"/api/v1/user/comments/{uid}",filter:function(e2x){this.Mf4j(e2x);e2x.data.beforeTime=e2x.data.time;delete e2x.data.time;delete e2x.data.offset},format:function(m2x,e2x){if(e2x.data.offset==0)this.z2x("onnewcount",m2x.newCount);this.coc3x(m2x);return{list:m2x.comments}}},"message_comment-del":{url:"/api/user/comments/delete",finaly:function(d2x,e2x){h2x.z2x(p2x.nj6d,"listchange",{key:e2x.key,action:"refresh"})}},"message_user_comment-reply":{url:"/api/user/comments/reply",format:function(Q2x){this.z2x("onreply");n2x.Z2x.I2x({tip:"回复成功"});return Q2x},onmessage:function(cf3x,m2x){if(cf3x==250){n2x.Z2x.I2x({tip:m2x.message||m2x.msg||"评论异常",type:2});return}n2x.Z2x.I2x({tip:"回复失败，请稍后再试",type:2})}},"message_resource_comment-reply":{url:"/api/resource/comments/reply",onmessage:function(cf3x,m2x){if(cf3x==250){n2x.Z2x.I2x({tip:m2x.message||m2x.msg||"评论异常",type:2});return}}},"message_notify-list":{url:"/api/msg/notices",filter:function(e2x){this.Mf4j(e2x);delete e2x.data.offset},format:function(m2x,e2x){if(e2x.data.offset==0)this.z2x("onnewcount",m2x.newCount);this.cob3x(m2x);return{list:m2x.notices}}},"message_notify-del":{url:"TODO",format:function(Q2x,e2x){return e2x.ext},finaly:function(d2x,e2x){h2x.z2x(p2x.nj6d,"listchange",{key:e2x.key,action:"refresh"})},onmessage:function(cf3x){l2x.blk0x({txt:"通知删除失败！"})}},"message_at-list":{url:"/api/forwards/get",filter:function(e2x){},format:function(m2x,e2x){j2x.bf2x(m2x.forwards,function(q2x,r2x){q2x.isNew=r2x<m2x.newCount});m2x.forwards.length=e2x.limit;return{total:m2x.size,list:m2x.forwards}}},"message_at-pull":{url:"/api/forwards/get",filter:function(e2x){this.Mf4j(e2x,0)},format:function(m2x,e2x){return m2x.forwards}},"message_at-del":{url:"TODO",format:function(Q2x,e2x){return e2x.ext},finaly:function(d2x,e2x){h2x.z2x(p2x.nj6d,"listchange",{key:e2x.key,action:"refresh"})},onmessage:function(cf3x){l2x.blk0x({txt:"@消息删除失败！"})}},"event-like":{url:"/api/resource/like",onload:"oneventlike",filter:function(e2x,bm2x){if(e2x.like){bm2x.url="/api/resource/like";bm2x.onload="oneventlike"}else{bm2x.url="/api/resource/unlike";bm2x.onload="oneventunlike"}},format:function(m2x,e2x){m2x.id=e2x.id;m2x.isInner=!!e2x.isInner;return m2x}}});p2x.nj6d=NEJ.C();b2x=p2x.nj6d.N2x(p2x.hP5U);L2x=p2x.nj6d.ct3x;b2x.AV1x=function(e2x,q2x){if(!j2x.ef4j(q2x)){return L2x.AV1x.apply(this,arguments)}j2x.bf2x(q2x,function(i2x){L2x.AV1x.apply(this,[e2x,i2x])},this);return{limit:q2x.length}};b2x.coa3x=function(q2x){if(!j2x.ef4j(q2x)){if(q2x.type==1){q2x.json=this.bVb9S(q2x.json,q2x.id)}else if(q2x.type==2){q2x.json=JSON.parse(q2x.json);q2x.json.resource=this.bVb9S(q2x.json.resource)}else if(q2x.type==3){q2x.json=JSON.parse(q2x.json)}return}j2x.bf2x(q2x,this.coa3x,this)};b2x.bVb9S=function(sO8G){if(j2x.fP4T(sO8G)){sO8G=JSON.parse(sO8G)}if(!!sO8G.json&&j2x.fP4T(sO8G.json)){sO8G.json=JSON.parse(sO8G.json);if(!!sO8G.json.event&&!!sO8G.json.event.json&&j2x.fP4T(sO8G.json.event.json)){sO8G.json.event.json=JSON.parse(sO8G.json.event.json)}}return sO8G};b2x.bjO0x=function(q2x){if(!j2x.ef4j(q2x)){q2x.msg=JSON.parse(q2x.msg||"{}");return}j2x.bf2x(q2x,this.bjO0x,this)};b2x.bjM0x=function(q2x){if(!j2x.ef4j(q2x)){q2x.id=q2x.toUser.userId+"-"+q2x.fromUser.userId;q2x.lastMsg=JSON.parse(q2x.lastMsg);return}j2x.bf2x(q2x,this.bjM0x,this)};b2x.coc3x=function(i2x){var bA2x={0:"/playlist?id={id}",1:"/dj?id={id}",2:"/event?id={id}&uid={userId}",3:"/album?id={id}",4:"/song?id={id}",5:"/mv?id={id}",6:"/topic?id={id}",62:"/video?id={id}&toast=true"};j2x.bf2x(i2x.comments,function(q2x,r2x){try{q2x.resourceJson=JSON.parse(q2x.resourceJson)}catch(e){q2x.resourceJson=null}if(q2x.resourceJson){if(q2x.resourceType!==62||q2x.resourceJson.id){q2x.resUrl=l2x.biE0x(bA2x[q2x.resourceType],q2x.resourceJson)}}},this)};b2x.cob3x=function(){var cnZ3x=function(bT3x){var Q2x,cR3x="";try{Q2x=JSON.parse(bT3x.json)}catch(e){Q2x={}}switch(bT3x.type){case 12:cR3x="我创建了歌单";cR3x=cR3x+"「"+Q2x.playlist.name+"」by "+Q2x.playlist.creator.nickname;break;case 13:cR3x="我分享了歌单";cR3x=cR3x+"「"+j2x.dR3x(Q2x.playlist.name)+"」by "+Q2x.playlist.creator.nickname;break;case 14:cR3x="我收藏了歌单";cR3x=cR3x+"「"+j2x.dR3x(Q2x.playlist.name)+"」by "+Q2x.playlist.creator.nickname;break;case 15:case 16:cR3x="我创建了节目";cR3x=cR3x+"「"+Q2x.program.name+"」by "+Q2x.program.dj.nickname;break;case 17:cR3x="我分享了节目";cR3x=cR3x+"「"+Q2x.program.name+"」by "+Q2x.program.dj.nickname;break;case 18:cR3x="我分享了歌曲";cR3x=cR3x+"「"+Q2x.song.name+"」by ";for(var i=0,l=Q2x.song.artists.length;i<l;i++){cR3x=cR3x+Q2x.song.artists[i].name;if(i<l-1)cR3x=cR3x+"/"}break;case 19:cR3x="我分享了专辑";cR3x=cR3x+"「"+Q2x.album.name+"」by "+Q2x.album.artist.name;break;case 36:cR3x="我分享了歌手";cR3x=cR3x+"「"+Q2x.resource.name+"」";break;case 21:cR3x="我分享了MV";cR3x=cR3x+"「"+Q2x.mv.name+"」by "+Q2x.mv.artistName;break;case 22:cR3x="我的动态:"+(l2x.yd0x(j2x.dR3x(Q2x.msg),"s-fc3")||"转发");break;case 23:cR3x="我收藏了节目";cR3x=cR3x+"「"+Q2x.program.name+"」by "+Q2x.program.dj.nickname;break;case 24:cR3x="我分享了专栏文章";cR3x=cR3x+"「"+Q2x.topic.mainTitle+"」";break;case 28:cR3x="我分享了电台";cR3x=cR3x+"「"+Q2x.djRadio.name+"」by "+Q2x.djRadio.dj.nickname;break;case 31:cR3x="我分享了评论：";cR3x=cR3x+l2x.yd0x((Q2x.resource||bb2x).content||"");if(Q2x.resource&&Q2x.resource.expressionUrl){cR3x+="[表情图片]"}break;case 35:cR3x="我的动态:"+l2x.yd0x(j2x.dR3x(Q2x.msg),"s-fc3")+(bT3x.pics&&bT3x.pics.length?"[图片]":"");break;case 39:cR3x="我发布了视频";cR3x=cR3x+"「"+Q2x.video.title+"」";break;case 41:cR3x="我分享了视频";cR3x=cR3x+"「"+Q2x.video.title+"」";break}Q2x.str=cR3x;return Q2x};var cnY3x=function(Hw2x){var bA2x={A_PL_0:"playlist",R_MV_5:"mv",A_TO_6:"topic",A_DJ_1:"dj",A_EV_2:"event",R_AL_3:"album",R_SO_4:"song",A_DR_14:"radio",R_VI_62:"video"};if(/^(\w_\w{2}_\d+)+_(.+)$/.test(Hw2x)){var v2x=bA2x[RegExp.$1],cq3x=RegExp.$2.split("_");return"/"+v2x+"?id="+cq3x[0]+(v2x=="event"?"&uid="+cq3x[1]:"")+"&_hash=comment-box&toast=true"}};var cnW3x=function(eO4S){var eO4S=JSON.parse(eO4S);switch(eO4S.type){case 1:if(!eO4S.track)return;eO4S.msg="赞了你的动态";eO4S.url="/event?toast=true&id="+eO4S.track.id+"&uid="+GUser.userId;eO4S.track=cnZ3x(eO4S.track);break;case 2:eO4S.msg="收藏了你的歌单";eO4S.url="/playlist?id="+eO4S.playlist.id;eO4S.res=eO4S.playlist;break;case 3:eO4S.msg="分享了你的歌单";eO4S.url="/playlist?id="+eO4S.playlist.id;eO4S.res=eO4S.playlist;break;case 4:eO4S.msg="分享了你的节目";eO4S.url="/dj?id="+eO4S.program.id;eO4S.res=eO4S.program;break;case 5:eO4S.msg="收藏了你的节目";eO4S.url="/dj?id="+eO4S.program.id;eO4S.res=eO4S.program;break;case 6:eO4S.msg="赞了你的评论";eO4S.url=cnY3x(eO4S.comment.threadId);eO4S.comment=eO4S.comment;break;case 7:eO4S.msg="赞了你的节目";eO4S.url="/dj?id="+eO4S.program.id;eO4S.res=eO4S.program;break;case 8:eO4S.msg="订阅了你的电台";eO4S.url="/radio?id="+eO4S.djRadio.id;eO4S.res=eO4S.djRadio;break;case 9:eO4S.msg="赞了你的专栏文章";eO4S.url="/topic?id="+eO4S.topic.id;eO4S.topic=eO4S.topic;break;case 10:if(!eO4S.generalNotice)return;eO4S.msg=eO4S.generalNotice.actionDesc;eO4S.url=eO4S.generalNotice.webUrl;if(eO4S.url.indexOf("/video?id=")==0){eO4S.url+="&toast=true"}eO4S.generalContent=eO4S.generalNotice.content;break}return eO4S};return function(i2x){j2x.bf2x(i2x.notices,function(q2x,r2x){q2x.notice=cnW3x(q2x.notice)},this)}}();b2x.Mf4j=function(e2x,r2x,J2x){var bB2x=-1,k2x=this.hQ5V(e2x.key),bn2x=e2x.offset;bn2x=bn2x!=null?bn2x:k2x.length;if(bn2x>0&&k2x.length>0){var cnV3x=0;r2x=r2x!=null?r2x:bn2x-1;while(r2x>=0&&!k2x[r2x]){r2x--;cnV3x++}if(r2x>=0&&k2x[r2x]){bB2x=k2x[r2x][J2x||"time"]}}e2x.data.time=bB2x};b2x.cnU3x=function(e2x){e2x.onload=this.bVk9b.f2x(this);e2x.onerror=this.bVk9b.f2x(this);this.ck3x("message_resource_comment-reply",e2x)};b2x.bVk9b=function(d2x){this.z2x("onreply2",d2x)};b2x.buR2x=function(e2x){this.ck3x("message_user_comment-reply",e2x)};b2x.Gf2x=function(d2x){this.z2x("onreply",d2x)};b2x.bvH3x=function(e2x){e2x.onload=this.Zj7c.f2x(this);this.ck3x("message_chat-add",e2x)};b2x.Zj7c=function(d2x){this.z2x("onsend",d2x)};b2x.pw7p=function(e2x){this.ck3x("event-like",e2x)};H2x.fT4X.B2x({element:p2x.nj6d,event:"listchange"})})();
(function(){var c2x=NEJ.P,a1x=c2x("nej.e"),u2x=c2x("nej.j"),bb2x=c2x("nej.o"),j2x=c2x("nej.u"),h2x=c2x("nej.v"),ds3x=c2x("nej.p"),y2x=c2x("nm.w"),l2x=c2x("nm.x"),bH3x=c2x("nej.ui"),p2x=c2x("nm.d"),n2x=c2x("nm.l"),b2x,L2x;n2x.ul9c=NEJ.C();b2x=n2x.ul9c.N2x(n2x.ed4h,!0);L2x=n2x.ul9c.prototype;b2x.cd3x=function(){this.cc3x="m-msg-private-send"};b2x.bW3x=function(){this.cg3x();var bQ3x=a1x.D2x(this.o2x,"j-flag");this.wL0x={parent:bQ3x[1],err:bQ3x[0]};this.fz4D={parent:bQ3x[2],type:4,nomention:true,numLimit:200,onsubmit:this.Zk7d.f2x(this)};if(ds3x.dB3x.browser=="ie"&&ds3x.dB3x.version<"8.0"){a1x.bc2x(bQ3x[0],"position","relative");a1x.bc2x(bQ3x[0],"zIndex","10")}l2x.jU5Z()};b2x.bo2x=function(e2x){l2x.rX8P(function(){e2x.parent=document.body;e2x.onclose=function(){this.bD2x()}.f2x(this);e2x.mask=true;this.bp2x(e2x);!!e2x.receiver&&(this.wL0x.receiver=e2x.receiver);this.pW7P=y2x.Ih3x.B2x(this.wL0x);this.eu4y=y2x.Ew2x.B2x(this.fz4D);this.S2x=p2x.nj6d.B2x({onsend:this.Zj7c.f2x(this),onerror:function(i2x){var m2x=i2x.result||{};if(m2x.code==250){n2x.Z2x.I2x({tip:m2x.message||m2x.msg||"操作异常",type:2})}else{n2x.Z2x.I2x({tip:"发送失败",type:2})}this.eu4y.Bs1x()}.f2x(this)})}.f2x(this),true)};b2x.bD2x=function(){this.bI3x();if(!!this.pW7P){this.pW7P.V2x();delete this.pW7P}if(!!this.eu4y){this.eu4y.V2x();delete this.eu4y}};b2x.Zk7d=function(C2x){if(!!C2x){var QI5N=this.pW7P.QO5T();if(!!QI5N.length){this.Zm7f={type:"text",msg:C2x,userIds:JSON.stringify(QI5N)};l2x.lg6a(this.bjD0x.f2x(this));this.eu4y.z2x("onloading")}else{l2x.eb4f({title:"提示",message:"请选择私信发送对象"})}}else{l2x.eb4f({title:"提示",message:"私信内容不能为空"})}};b2x.bjD0x=function(cl3x){this.Zm7f.checkToken=cl3x||"";this.S2x.bvH3x({data:this.Zm7f,justSend:true})};b2x.Zj7c=function(m2x){this.br2x();if(m2x.code==200){n2x.Z2x.I2x({tip:"发送成功"})}}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,h2x=c2x("nej.v"),a1x=c2x("nej.e"),u2x=c2x("nej.j"),j2x=c2x("nej.u"),n2x=c2x("nm.l"),y2x=c2x("nm.w"),bH3x=c2x("nej.ui"),p2x=c2x("nm.d"),l2x=c2x("nm.x"),b2x,L2x;n2x.bqx1x=NEJ.C();b2x=n2x.bqx1x.N2x(n2x.ed4h);L2x=n2x.bqx1x.ct3x;b2x.cd3x=function(){this.cc3x="m-question"};b2x.bW3x=function(){this.cg3x();var k2x=a1x.D2x(this.o2x,"j-flag");this.eY4c=k2x[1];this.qn7g=k2x[2];this.pW7P=y2x.Wh6b.B2x({filter:this.cjZ2x,parent:k2x[0]});h2x.s2x(this.o2x,"click",this.bN3x.f2x(this))};b2x.bo2x=function(e2x){e2x.parent=e2x.parent||document.body;e2x.title="回答安全问题";e2x.draggable=!0;e2x.destroyalbe=!0;e2x.mask=true;this.bp2x(e2x);this.pW7P.lv6p(e2x.data||[])};b2x.bD2x=function(){this.bI3x();this.eY4c.value=""};b2x.EI2x=function(){this.br2x()};b2x.bN3x=function(d2x){var g2x=h2x.ba2x(d2x,"d:action");switch(a1x.t2x(g2x,"action")){case"back":this.z2x("onback");this.br2x();break;case"next":var bJe6Y=this.eY4c.value.trim();if(!bJe6Y){this.iQ5V("请输入回答");return}var i2x={questionId:this.pW7P.gm4q().id,answer:j2x.kY6S(bJe6Y)};this.iQ5V(null);u2x.be2x("/store/api/security/validateAnswer",{type:"json",method:"post",data:j2x.cr3x(i2x),onload:this.bJg6a.f2x(this),onerror:this.bJg6a.f2x(this)});break}};b2x.cjZ2x=function(q2x){return q2x.question};b2x.iQ5V=function(cT3x){if(cT3x){this.qn7g.innerHTML='<i class="u-icn u-icn-25"></i>'+cT3x;a1x.x2x(this.qn7g,"f-hide")}else{a1x.w2x(this.qn7g,"f-hide")}};var tn8f=function(d2x){try{top.doMsgToServiceAction(d2x)}catch(e){}};b2x.bJg6a=function(d2x){if(d2x&&d2x.code==200){this.z2x("onnext");this.br2x()}else{var bA2x={"-3":"回答错误，您还有"+d2x.times+"次机会！"};if(d2x.code==-2||d2x.code==-4){l2x.eb4f({clazz:"m-layer-w2",title:"更换手机号",message:"<p>帐号已被锁定</p>"+'<p class="f-mgt10">回答错误的次数过多，您的帐号已被锁定，将无法进行任何商城交易，<br/>'+'请私信<a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a> 解锁。</p>',btntxt:"知道了",action:tn8f});this.br2x()}else{this.iQ5V(bA2x[d2x.code]||"回答出错")}}};l2x.cjY2x=function(e2x){var bJj6d=function(d2x){if(d2x&&d2x.code==200){e2x.data=d2x.data;n2x.bqx1x.B2x(e2x).I2x()}else{l2x.eb4f({clazz:"m-layer-w2",message:'私信 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>',action:tn8f})}};u2x.be2x("/store/api/security/getQuestion",{type:"json",method:"get",onload:bJj6d,onerror:bJj6d})}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),u2x=c2x("nej.j"),p2x=c2x("nm.d"),n2x=c2x("nm.l"),l2x=c2x("nm.x"),b2x,L2x;n2x.bqC1x=NEJ.C();b2x=n2x.bqC1x.N2x(n2x.ed4h);L2x=n2x.bqC1x.ct3x;b2x.cd3x=function(){this.cc3x="ntp-oldphonecheck"};b2x.bW3x=function(){this.cg3x();this.dX4b=a1x.D2x(this.o2x,"u-err")[0];this.bJl6f=a1x.D2x(this.o2x,"errTxt")[0];var cY3x=a1x.D2x(this.o2x,"js-txt");this.DA1x=cY3x[0];h2x.s2x(this.DA1x,"focus",this.brG2x.f2x(this));h2x.s2x(this.DA1x,"keyup",this.brH2x.f2x(this));h2x.s2x(this.o2x,"click",this.bN3x.f2x(this))};var tn8f=function(d2x){try{top.doMsgToServiceAction(d2x)}catch(e){}};b2x.bo2x=function(e2x){e2x=e2x||{};this.bp2x(e2x);this.dz3x=e2x;this.bY3x(false);this.DA1x.value=""};b2x.bD2x=function(){this.bI3x();if(this.dI3x)this.dI3x=clearInterval(this.dI3x)};b2x.brG2x=function(){a1x.x2x(this.DA1x,"u-txt-err")};b2x.brH2x=function(d2x){if(/[^\d]/.test(this.DA1x.value))this.DA1x.value=this.DA1x.value.replace(/[^\d]/g,"")};b2x.bN3x=function(d2x){var G2x=h2x.ba2x(d2x,"d:action");if(!G2x)return;var U2x=a1x.t2x(G2x,"action");switch(U2x){case"next":this.cjX2x(d2x);break;case"send":this.Hd2x(d2x);break;case"back":this.bat8l(d2x);break;case"skip":this.Nq4u(d2x);break}};b2x.cjX2x=function(d2x){var fx4B=this.EF2x();console.log(fx4B);if(!fx4B)return;u2x.be2x("/api/user/oldcellphone/check",{type:"json",method:"get",query:{phone:fx4B},onload:function(d2x){if(d2x&&d2x.code==200&&d2x.data&&d2x.data.cellphoneCheck){this.z2x("onok",{oldPhone:fx4B})}else if(d2x.data&&d2x.data.outOfLimitTimes){this.bD2x();l2x.eb4f({clazz:"m-layer-w2",message:'<div style="padding:0 20px;">手机号输错次数过多，为了安全，一天内您不能再使用本解绑方式，如有任何疑问请联系 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>。</div>',action:tn8f})}else{this.bY3x("原手机号错误")}}.f2x(this),onerror:function(){l2x.eb4f({clazz:"m-layer-w2",message:'<div style="padding:0 20px;">您的登录环境异常，请联系 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>。</div>',action:tn8f})}.f2x(this)})};b2x.EF2x=function(){var fx4B=this.gk4o||this.DA1x.value.trim();if(!fx4B)return this.bY3x("请输入手机号","mobile");return fx4B};b2x.bY3x=function(bC2x){console.log(this.dX4b);if(bC2x){a1x.x2x(this.dX4b,"f-hide");this.bJl6f.innerHTML=bC2x}else{a1x.w2x(this.dX4b,"f-hide");this.bJl6f.innerHTML=""}}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),ci3x=c2x("nej.ut"),u2x=c2x("nej.j"),l2x=c2x("nm.x"),p2x=c2x("nm.d"),n2x=c2x("nm.l"),F2x=c2x("nm.m"),b2x,L2x;n2x.bcv8n=NEJ.C();b2x=n2x.bcv8n.N2x(ci3x.cP3x);b2x.bo2x=function(e2x){this.bp2x(e2x);this.dz3x=e2x;this.bJp6j=e2x.mobile;this.fI4M=e2x.countrycode||"86";this.ns6m=e2x.isBindPhone;this.S2x=p2x.mC6w.B2x();this.S2x.s2x("onsendcaptcha",this.rB8t.f2x(this));this.S2x.s2x("onsendcaptchaerror",this.Ov4z.f2x(this));this.S2x.s2x("onchangemobile",this.bJq6k.f2x(this));this.S2x.s2x("onchangemobileerror",this.bqF1x.f2x(this));h2x.s2x(window,"snsverify",this.cjU2x.f2x(this));this.bJt6n()};b2x.bD2x=function(){this.bI3x();this.S2x.V2x();if(this.eH4L)this.eH4L.V2x();if(this.wb9S)this.wb9S.V2x()};var tn8f=function(d2x){try{top.doMsgToServiceAction(d2x)}catch(e){}};b2x.bJt6n=function(){if(this.eH4L)this.eH4L.br2x();if(this.wb9S)this.wb9S.V2x();this.wb9S=l2x.jA5F({title:"更换手机号",clazz:"m-layer-find",txt:"txt-mobilestatus",onaction:function(d2x){if(d2x.action=="valid"){this.S2x.Ah1x({data:{ctcode:this.fI4M,cellphone:this.bJp6j,isBindPhone:this.ns6m}})}else{this.cjT2x()}}.f2x(this)})};b2x.cjT2x=function(){var self=this;u2x.be2x("/api/user/specialuser",{type:"json",method:"get",onload:function(d2x){if(d2x&&d2x.code==200&&d2x.data){l2x.eb4f({clazz:"m-layer-w2",message:'请前往移动端app-设置-账号和绑定设置-更改绑定-手机号已停用自行进行换绑。如有后续疑问请联系<a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>',action:tn8f})}else{self.cjR2x()}},onerror:function(){l2x.eb4f({clazz:"m-layer-w2",message:'请前往移动端app-设置-账号和绑定设置-更改绑定-手机号已停用自行进行换绑。如有后续疑问请联系<a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>',action:tn8f})}})};b2x.cjR2x=function(){u2x.be2x("/api/user/binding/thirdaccount/intime/get",{type:"json",method:"get",onload:function(d2x){if(d2x&&d2x.code==200&&d2x.data&&d2x.data.length>0){this.cjQ2x(d2x.data)}else{l2x.eb4f({clazz:"m-layer-w2",message:'请前往移动端app-设置-账号和绑定设置-更改绑定-手机号已停用自行进行换绑。如有后续疑问请联系<a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>',action:tn8f})}}.f2x(this),onerror:function(){l2x.eb4f({clazz:"m-layer-w2",message:'请前往移动端app-设置-账号和绑定设置-更改绑定-手机号已停用自行进行换绑。如有后续疑问请联系<a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>',action:tn8f})}.f2x(this)})};b2x.cjQ2x=function(data){if(this.wb9S)this.wb9S.V2x();var hasWx=false,hasQQ=false;for(var i=0;i<data.length;i++){var item=data[i];if(item.type==5){hasQQ=true}else if(item.type==10){hasWx=true}}this.wb9S=l2x.jA5F({title:"第三方验证",clazz:"m-layer-verify",html:a1x.ca3x("jst-mobilethirdaccount",{hasWx:hasWx,hasQQ:hasQQ}),onaction:function(d2x){this.v2x=parseInt(d2x.action,10);var hA5F={callbackType:"verify",clientType:"web2",forcelogin:true,snsType:this.v2x};F2x.Wb6V("/api/sns/authorize?"+j2x.cr3x(hA5F),"_blank",this.v2x,true);if(this.wb9S)this.wb9S.V2x()}.f2x(this)})};b2x.cjU2x=function(bj2x){console.log(bj2x,"snsverify");var isMatch=bj2x.result.result;console.log(isMatch,"isMatch");var snsType=this.v2x===5?"QQ":"微信";if(!isMatch){l2x.eb4f({clazz:"m-layer-w2",message:"当前"+snsType+"账号与绑定账号不匹配，请检查"+snsType+"是否登录"+'<br />或联系 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a> 修改绑定的手机号',action:tn8f});return}u2x.be2x("/api/user/replace/cellphone/safe/get",{type:"json",method:"get",onload:function(d2x){if(d2x&&d2x.code==200&&d2x.data){this.cjN2x()}else{l2x.eb4f({clazz:"m-layer-w2",message:'您的登录环境异常，请联系 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a> 修改绑定的手机号',action:tn8f})}}.f2x(this),onerror:function(){l2x.eb4f({clazz:"m-layer-w2",message:'您的登录环境异常，请联系 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a> 修改绑定的手机号',action:tn8f})}.f2x(this)})};b2x.cjN2x=function(){this.bcg8Y=n2x.bqC1x.I2x({title:"原手机号验证",onok:this.cjM2x.f2x(this)})};b2x.rB8t=function(bj2x){this.eH4L=n2x.qz7s.I2x({title:"更换手机号",mobile:this.bJp6j,countrycode:this.fI4M,okbutton:"下一步",onok:this.cjK2x.f2x(this),backbutton:"&lt;&nbsp;&nbsp;上一步",onback:this.bJt6n.f2x(this),isBindPhone:this.ns6m})};b2x.Ov4z=function(d2x){n2x.Z2x.I2x({tip:(d2x||{}).message||"更换失败，请重试",type:2})};b2x.cjK2x=function(bL3x){if(this.bcg8Y)this.bcg8Y.V2x();var bL3x=bL3x||{};this.eH4L=n2x.qz7s.I2x({title:"更换手机号",mobileLabel:"新手机号：",okbutton:"完成",onok:this.cjJ2x.f2x(this,bL3x.captcha)})};b2x.cjM2x=function(bL3x){console.log(bL3x,"inputmobile2");if(this.bcg8Y)this.bcg8Y.V2x();var bL3x=bL3x||{};this.cjH2x=bL3x.oldPhone;this.eH4L=n2x.qz7s.I2x({title:"更换手机号",mobileLabel:"新手机号：",okbutton:"完成",onok:this.cjE2x.f2x(this)})};b2x.cjE2x=function(bj2x){this.bcc8U=bj2x.mobile;this.db3x=bj2x.captcha;this.fI4M=bj2x.countrycode||86;var queryObj={oldPhone:this.cjH2x,phone:this.bcc8U,captcha:this.db3x,password:"",countrycode:this.fI4M};u2x.be2x("/api/user/replacecellphone/v3",{type:"json",method:"post",data:j2x.cr3x(queryObj),onload:function(d2x){if(d2x&&d2x.code===200){this.bJq6k()}else{this.bqF1x(d2x)}}.f2x(this),onerror:function(d2x){this.bqF1x(d2x)}.f2x(this)})};b2x.cjJ2x=function(cjC2x,bj2x){this.bcc8U=bj2x.mobile;this.db3x=bj2x.captcha;this.fI4M=bj2x.countrycode||86;this.S2x.cFe7X({data:{phone:this.bcc8U,captcha:this.db3x,countrycode:this.fI4M,oldcaptcha:cjC2x}})};b2x.bJq6k=function(bj2x){this.eH4L.br2x();n2x.Z2x.I2x({tip:"更换成功"});if(this.dz3x.onsuccess)this.dz3x.onsuccess({mobile:this.bcc8U})};b2x.bqF1x=function(bj2x){if(bj2x.code==506){this.eH4L.cQ3x(false);this.eH4L.bY3x(bj2x.message,"mobile")}else{this.eH4L.br2x();n2x.Z2x.I2x({tip:"更换失败，请重试",type:2})}}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,bs2x=NEJ.F,a1x=c2x("nej.e"),h2x=c2x("nej.v"),u2x=c2x("nej.j"),H2x=c2x("nej.ut"),j2x=c2x("nej.u"),l2x=c2x("nm.x"),n2x=c2x("nm.l"),cx3x=c2x("api"),y2x=c2x("nm.w");var bqS2x=null,bJJ6D=null;var cjA2x=function(fx4B,bJL6F){if(bqS2x)bqS2x.V2x();bqS2x=n2x.bcv8n.B2x({title:"更换手机号",mobile:fx4B,onsuccess:function(bj2x){if(bJL6F)bJL6F({cellphone:bj2x.mobile})}})};var cjz2x=function(e2x){u2x.be2x("/api/sms/captcha/sent",{type:"json",query:{cellphone:e2x.mobile,channel:"new"},onload:function(d2x){if(d2x.code!=200)return n2x.Z2x.I2x({tip:d2x.message||"验证码发送失败",type:2});bJJ6D=n2x.qz7s.I2x({title:e2x.title||"验证手机号",mobile:e2x.mobile,countrycode:e2x.countrycode,okbutton:e2x.ntext||"下一步",onok:function(bj2x){bJJ6D.br2x();if(e2x.onnext)e2x.onnext(bj2x)}})},onerror:function(){n2x.Z2x.I2x({tip:"验证码发送失败",type:2})}})};cx3x.changePhone=cjA2x;cx3x.phoneCode=cjz2x;cx3x.validateQuestion=l2x.cjY2x})();
(function(){var c2x=NEJ.P,bs2x=NEJ.F,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),bk2x=c2x("nej.h"),P2x=c2x("nej.p");var jB5G={opacity:1,"z-index":1,background:1,"font-weight":1,filter:1};bk2x.bUk9b=function(iV5a){return jB5G[iV5a]===undefined&&iV5a.indexOf("color")<0};bk2x.bbg8Y=function(g2x,op7i,rE8w){rE8w=rE8w.slice(0,-1);a1x.bc2x(g2x,"transition",rE8w);a1x.fm4q(g2x,op7i);return this};bk2x.Sz5E=function(g2x,W2x,or7k){a1x.fm4q(g2x,W2x);a1x.bc2x(g2x,"transition","none");or7k.call(null,W2x);return this}})();
(function(){var c2x=NEJ.P,bs2x=NEJ.F,bk2x=c2x("nej.h"),P2x=c2x("nej.p");if(P2x.oa7T.trident1)return;bk2x.FG2x=function(){return!0}})();
(function(){var c2x=NEJ.P,P2x=c2x("nej.ut"),b2x;if(!!P2x.OX4b)return;P2x.OX4b=NEJ.C();b2x=P2x.OX4b.N2x(P2x.FQ2x);b2x.bo2x=function(e2x){e2x=NEJ.X({},e2x);e2x.timing="easeout";this.bp2x(e2x)}})();
(function(){var c2x=NEJ.P,P2x=c2x("nej.ut"),b2x;if(!!P2x.bwm3x)return;P2x.bwm3x=NEJ.C();b2x=P2x.bwm3x.N2x(P2x.FQ2x);b2x.bo2x=function(e2x){e2x=NEJ.X({},e2x);e2x.timing="easeinout";this.bp2x(e2x)}})();
(function(){var c2x=NEJ.P,bs2x=NEJ.F,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),bk2x=c2x("nej.h"),P2x=c2x("nej.p"),dh3x=c2x("nej.x"),ci3x=c2x("nej.ut");if(P2x.oa7T.trident)return;var bUz9q={linear:ci3x.uk9b,"ease-in":ci3x.FH2x,"ease-out":ci3x.OX4b,"ease-in-out":ci3x.bwm3x};bk2x.bbg8Y=function(){var cvy5D=function(op7i,rE8w){var cR3x="";j2x.eR4V(op7i,function(C2x,Y2x){cR3x+=rE8w.replace("all",Y2x)});return cR3x};var cvx5C=function(C2x,iV5a){if(iV5a==="filter"){C2x=j2x.Ns4w(C2x,0);C2x="alpha(opacity="+C2x+")"}if(iV5a==="z-index")C2x=j2x.Ns4w(C2x,0);return C2x};var cvv5A=function(C2x){return bUz9q[C2x.split(" ")[2]]};var cvt5y=function(g2x,C2x,op7i,or7k,r2x){var C2x=C2x.split(" "),iV5a=C2x[0],ek4o=parseFloat(a1x.dl3x(g2x,iV5a))||0,ob7U=parseFloat(op7i[iV5a])||0,cvo5t=bUz9q[C2x[2]],bwk3x=C2x[1].slice(0,-1)*1e3+C2x[3].slice(0,1)*1e3;if(bwk3x>=g2x.sumTime){g2x.sumTime=bwk3x;g2x.isLastOne=r2x}var SD5I=nej.p.dB3x.engine==="trident"&&nej.p.dB3x.release-5<0;if(iV5a==="opacity"&&SD5I){iV5a="filter";var eh4l=a1x.dl3x(g2x,iV5a);ek4o=parseFloat(eh4l.split("=")[1])||0;ob7U=ob7U*100}var e2x={from:{offset:ek4o},to:{offset:ob7U},duration:bwk3x,onupdate:function(bn2x){var C2x=bn2x.offset;if(!bk2x.bUk9b(iV5a)){C2x=cvx5C(C2x,iV5a);a1x.bc2x(g2x,iV5a,C2x)}else{a1x.bc2x(g2x,iV5a,C2x+"px")}},onstop:function(iV5a){var ON4R=g2x.effects[r2x];if(!ON4R)return;ON4R=cvo5t.V2x(ON4R);if(g2x.isLastOne===r2x)or7k.apply(this)}.f2x(this,r2x)};return e2x};return bk2x.bbg8Y.eM4Q(function(d2x){d2x.stopped=!0;var k2x=d2x.args;var g2x=k2x[0],op7i=k2x[1],rE8w=k2x[2],or7k=k2x[3];g2x.sumTime=0,g2x.isLastOne=0;var bUO9F=[];if(rE8w.indexOf("all")>-1)rE8w=cvy5D(op7i,rE8w);var bwf3x=rE8w.slice(0,-1);bwf3x=bwf3x.split(",");g2x.effects=[];j2x.bf2x(bwf3x,function(C2x,r2x){var e2x=cvt5y(g2x,C2x,op7i,or7k,r2x);bUO9F.push({o:e2x,c:cvv5A(C2x)})});j2x.bf2x(bUO9F,function(q2x,r2x){var ON4R=q2x.c.B2x(q2x.o);g2x.effects[r2x]=ON4R;ON4R.ey4C()});return this})}();bk2x.Sz5E=bk2x.Sz5E.eM4Q(function(d2x){d2x.stopped=!0;var k2x=d2x.args;var g2x=k2x[0];j2x.bf2x(g2x.effects,function(bb2x){bb2x.bg2x()});g2x.effects=[];return this})})();
(function(){var c2x=NEJ.P,bs2x=NEJ.F,bk2x=c2x("nej.h"),a1x=c2x("nej.e"),P2x=c2x("nej.p");if(P2x.oa7T.gecko)return;bk2x.bbg8Y=function(g2x,op7i,rE8w){rE8w=rE8w.slice(0,-1);a1x.bc2x(g2x,"transition",rE8w);setTimeout(function(){a1x.fm4q(g2x,op7i)},33);return this}})();
(function(){var c2x=NEJ.P,bs2x=NEJ.F,bk2x=c2x("nej.h"),P2x=c2x("nej.p");if(P2x.oa7T.webkit)return})();
(function(){var c2x=NEJ.P,bs2x=NEJ.F,bk2x=c2x("nej.h"),P2x=c2x("nej.p");if(P2x.oa7T.presto)return})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,bs2x=NEJ.F,j2x=c2x("nej.u"),bk2x=c2x("nej.h"),a1x=c2x("nej.e"),h2x=c2x("nej.v"),P2x=c2x("nej.ut"),vQ9H;if(!!P2x.sG8y)return;P2x.sG8y=NEJ.C();vQ9H=P2x.sG8y.N2x(P2x.cP3x);vQ9H.bo2x=function(e2x){this.bp2x(e2x);this.pe7X=a1x.A2x(e2x.node);this.bUX9O=e2x.styles||[];this.bVa9R=e2x.onstop||bs2x;this.bwd3x=e2x.transition||[];this.SF5K={};this.bVg9X=this.cvk5p();if(!!bk2x.FG2x&&bk2x.FG2x()){setTimeout(this.FG2x.f2x(this),this.bwb3x*1e3)}else{this.bZ3x([[this.pe7X,"transitionend",this.FG2x.f2x(this)]])}};vQ9H.bD2x=function(){if(!!this.OI4M){this.OI4M=window.clearInterval(this.OI4M)}delete this.pe7X;delete this.bUX9O;delete this.bVg9X;delete this.SF5K;delete this.bwa3x;delete this.bwd3x;delete this.OI4M;this.bI3x()};vQ9H.FG2x=function(d2x){if(!!bk2x.FG2x&&bk2x.FG2x()){this.bvY3x=!1;this.bg2x();return}if(!!this.bvY3x&&this.cvj5o(d2x)){this.bvY3x=!1;this.bg2x()}};vQ9H.cvj5o=function(d2x){var Y2x=d2x.propertyName;if(Y2x===this.bwa3x||Y2x.indexOf(this.bwa3x)>-1)return!0;else return!1};vQ9H.cvk5p=function(){var cvi5n=function(cn3x){var k2x=cn3x.split(":"),iV5a=k2x[0],C2x=k2x[1],g2x=this.pe7X;if(C2x.indexOf("=")>-1){var qQ7J=parseInt(a1x.dl3x(g2x,iV5a))||0;var ds3x=parseInt(C2x.split("=")[1]);if(C2x.indexOf("+")>-1)C2x=qQ7J+ds3x;else C2x=qQ7J-ds3x}if(bk2x.bUk9b(iV5a)){if(C2x.toString().indexOf("px")<0)C2x+="px"}this.SF5K[iV5a]=C2x};var cvh5m=function(r2x){if(!this.bwd3x[r2x])return"";var to8g=this.bwd3x[r2x],H2x=to8g.duration+to8g.delay;if(H2x>=this.bwb3x){this.bwb3x=H2x;this.bwa3x=to8g.property}return to8g.property+" "+to8g.duration+"s "+to8g.timing+" "+to8g.delay+"s,"};return function(){var bVy9p="";this.bwb3x=0;j2x.bf2x(this.bUX9O,function(cn3x,r2x){cvi5n.call(this,cn3x);bVy9p+=cvh5m.call(this,r2x)}.f2x(this));return bVy9p}}();vQ9H.cvg5l=function(){this.jc5h={};j2x.eR4V(this.SF5K,function(C2x,iV5a){this.jc5h[iV5a]=a1x.dl3x(this.pe7X,iV5a)}.f2x(this));this.z2x("onplaystate",this.jc5h)};vQ9H.vP9G=function(){this.bvY3x=!0;bk2x.bbg8Y(this.pe7X,this.SF5K,this.bVg9X,this.bVa9R);this.OI4M=window.setInterval(this.cvg5l.f2x(this),49);return this};vQ9H.bg2x=function(){bk2x.Sz5E(this.pe7X,this.SF5K,this.bVa9R);this.OI4M=window.clearInterval(this.OI4M);return this};vQ9H.cSl0x=function(){};vQ9H.cPn9e=function(){}})();
(function(){var c2x=NEJ.P,bs2x=NEJ.F,j2x=c2x("nej.u"),a1x=c2x("nej.e"),j2x=c2x("nej.u"),P2x=c2x("nej.ut");a1x.bcd8V=function(e2x){e2x=e2x||{};e2x.onstop=e2x.onstop||bs2x;e2x.onplaystate=e2x.onplaystate||bs2x;return e2x};a1x.bVR9I=function(){var cuZ5e=function(g2x,bch8Z,SD5I){var hs5x,fh4l=true;if(!!SD5I){j2x.eR4V(bch8Z,function(C2x,Y2x){if(Y2x==="opacity"){Y2x="filter";var eh4l=a1x.dl3x(g2x,Y2x);if(eh4l===""){a1x.bc2x(g2x,"filter","alpha(opacity=100)");hs5x=100}else{hs5x=parseFloat(eh4l.split("=")[1])||0}C2x=C2x*100}else{hs5x=a1x.dl3x(g2x,Y2x)}if(parseInt(hs5x)===C2x)fh4l=false}.f2x(this))}else{j2x.eR4V(bch8Z,function(C2x,Y2x){hs5x=a1x.dl3x(g2x,Y2x);if(parseInt(hs5x)===C2x)fh4l=false}.f2x(this))}return fh4l};return function(g2x,bch8Z){var SD5I=nej.p.dB3x.engine==="trident"&&nej.p.dB3x.release-5<0;if(!cuZ5e(g2x,bch8Z,SD5I))return!1;return!0}}();a1x.bVZ9Q=function(){var cuV5a=function(g2x){var bcw8o=a1x.dl3x(g2x,"display");if(bcw8o==="none")return!1;return!0};return function(g2x,e2x,kE5J){var PB5G=e2x.opacity||kE5J;g2x=a1x.A2x(g2x);if(!cuV5a.call(g2x))return!1;if(!!g2x.effect)return!1;if(!a1x.bVR9I(g2x,{opacity:PB5G}))return!1;e2x=a1x.bcd8V(e2x);g2x.effect=P2x.sG8y.B2x({node:g2x,transition:[{property:"opacity",timing:e2x.timing||"ease-in",delay:e2x.delay||0,duration:e2x.duration||1}],styles:["opacity:"+PB5G],onstop:function(W2x){g2x.effect=P2x.sG8y.V2x(g2x.effect);e2x.onstop.call(null,W2x)},onplaystate:e2x.onplaystate.f2x(g2x.effect)});g2x.effect.vP9G();return this}}.f2x(this)();a1x.bco8g=function(g2x,e2x){return a1x.bVZ9Q(g2x,e2x,1)};a1x.cuU5Z=function(g2x,e2x){return a1x.bVZ9Q(g2x,e2x,0)};a1x.cuS5X=function(g2x){a1x.bvS3x(g2x);return this};a1x.bvS3x=function(g2x){g2x=a1x.A2x(g2x);if(g2x.effect&&g2x.effect.bg2x()){if(!!g2x.effect)g2x.effect=P2x.sG8y.V2x(g2x.effect)}return this};a1x.bWt0x=function(g2x,pj7c,e2x){g2x=a1x.A2x(g2x);if(!!g2x.effect)return!1;if(!a1x.bVR9I(g2x,pj7c))return!1;e2x=a1x.bcd8V(e2x);e2x.duration=e2x.duration||[];var gp4t=pj7c.top||0,hy5D=pj7c.left||0;g2x.effect=P2x.sG8y.B2x({node:g2x,transition:[{property:"top",timing:e2x.timing||"ease-in",delay:e2x.delay||0,duration:e2x.duration[0]||1},{property:"left",timing:e2x.timing||"ease-in",delay:e2x.delay||0,duration:e2x.duration[1]||1}],styles:["top:"+gp4t,"left:"+hy5D],onstop:function(W2x){e2x.onstop.call(null,W2x);g2x.effect=P2x.sG8y.V2x(g2x.effect)},onplaystate:e2x.onplaystate.f2x(g2x.effect)});g2x.effect.vP9G();return this};a1x.bWu0x=function(){return function(g2x,pj7c,e2x){g2x=a1x.A2x(g2x);if(!!g2x.effect)return!1;e2x=a1x.bcd8V(e2x);var k2x=pj7c.split(":"),cuR5W=k2x[0],bWx0x=[];bWx0x.push(pj7c);g2x.effect=P2x.sG8y.B2x({node:g2x,transition:[{property:cuR5W,timing:e2x.timing||"ease-in",delay:e2x.delay||0,duration:e2x.duration||1}],styles:bWx0x,onstop:function(W2x){e2x.onstop.call(null,W2x);g2x.effect=P2x.sG8y.V2x(g2x.effect)},onplaystate:e2x.onplaystate.f2x(g2x.effect)});g2x.effect.vP9G();return this}}();a1x.cPo9f=function(){var bvR3x=function(g2x,v2x){return v2x=="height"?g2x.clientHeight:g2x.clientWidth};return function(g2x,v2x,e2x){g2x=a1x.A2x(g2x);if(!!g2x.effect)return!1;e2x=a1x.bcd8V(e2x);var C2x=e2x.value||false;if(!C2x){a1x.bc2x(g2x,"display","block");var g2x=a1x.A2x(g2x);C2x=bvR3x(g2x,v2x)}var fh4l=a1x.dl3x(g2x,"visibility");if(fh4l==="hidden"){g2x.style.height=0;a1x.bc2x(g2x,"visibility","inherit");g2x.effect=P2x.sG8y.B2x({node:g2x,transition:[{property:v2x,timing:e2x.timing||"ease-in",delay:e2x.delay||0,duration:e2x.duration||1}],styles:[v2x+":"+C2x],onstop:function(W2x){e2x.onstop.call(null,W2x);g2x.effect=P2x.sG8y.V2x(g2x.effect);bcu8m=window.clearTimeout(bcu8m)},onplaystate:e2x.onplaystate.f2x(g2x.effect)})}else{g2x.style.height=C2x;g2x.effect=P2x.sG8y.B2x({node:g2x,transition:[{property:v2x,timing:e2x.timing||"ease-in",delay:e2x.delay||0,duration:e2x.duration||1}],styles:[v2x+":"+0],onstop:function(W2x){a1x.bc2x(g2x,"visibility","hidden");a1x.bc2x(g2x,v2x,"auto");e2x.onstop.call(null,W2x);g2x.effect=P2x.sG8y.V2x(g2x.effect);bcu8m=window.clearTimeout(bcu8m)},onplaystate:e2x.onplaystate.f2x(g2x.effect)})}var bcu8m=window.setTimeout(function(){g2x.effect.vP9G()}.f2x(this),0);return this}}()})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,bs2x=NEJ.F,a1x=c2x("nej.e"),h2x=c2x("nej.v"),H2x=c2x("nej.ut"),j2x=c2x("nej.u"),bH3x=c2x("nej.ui"),l2x=c2x("nm.x"),p2x=c2x("nm.d"),y2x=c2x("nm.w"),cx3x=c2x("api"),b2x,L2x;y2x.Iz3x=NEJ.C();b2x=y2x.Iz3x.N2x(bH3x.er4v);L2x=y2x.Iz3x.ct3x;b2x.cd3x=function(){this.cc3x="m-image-preview"};b2x.bW3x=function(){this.cg3x();var k2x=a1x.D2x(this.o2x,"j-flag");this.WL6F=k2x[0];this.nl6f=k2x[1];this.ej4n=k2x[2];this.VU6O=k2x[3];this.VS6M=k2x[4];this.SN5S=k2x[5]};b2x.bo2x=function(e2x){this.bp2x(e2x);this.cjy2x();this.jR5W=e2x.urls;this.gR4V=this.jR5W.length;if(this.gR4V==1){a1x.bc2x(this.VU6O,"display","none");a1x.bc2x(this.VS6M,"display","none")}this.bZ3x([[this.o2x,"click",this.bN3x.f2x(this)],[document,"keydown",this.cjx2x.f2x(this)]]);l2x.bjJ0x(this.jR5W,function(oC7v,eC4G){this.qA7t=eC4G;this.mO6I(e2x.index||0)}.f2x(this))};b2x.bD2x=function(){this.bI3x();a1x.w2x(this.nl6f,"fail-loading");a1x.x2x(this.nl6f,"f-hide");a1x.bc2x(this.VU6O,"display","");a1x.bc2x(this.VS6M,"display","");a1x.x2x(this.VU6O,"z-cntdis");a1x.x2x(this.gL4P,"z-cntdis");a1x.x2x(this.VS6M,"z-cntdis");a1x.x2x(this.Iw3x,"z-cntdis");this.ej4n.src="";delete this.jR5W;delete this.gR4V};b2x.bN3x=function(d2x){var g2x=h2x.ba2x(d2x,"action");if(a1x.bE2x(g2x,"z-dis"))return;switch(a1x.t2x(g2x,"action")){case"close":this.V2x();break;case"prev":this.mO6I(this.cv3x-1);break;case"next":this.mO6I(this.cv3x+1);break;case"go":this.mO6I(a1x.t2x(g2x,"index"));break}};b2x.mO6I=function(r2x){if(r2x<=0){a1x.w2x(this.VU6O,"z-cntdis")}else{a1x.x2x(this.VU6O,"z-cntdis")}if(r2x>=this.gR4V-1){a1x.w2x(this.VS6M,"z-cntdis")}else{a1x.x2x(this.VS6M,"z-cntdis")}if(r2x<0||r2x>=this.jR5W.length)return;var dj3x=this.jR5W[r2x];this.SN5S.href=dj3x+"?param=9999y9999";if(this.qA7t&&this.qA7t[r2x]){a1x.w2x(this.nl6f,"f-hide");this.ej4n.src=dj3x}else{this.ej4n.src="";a1x.x2x(this.nl6f,"f-hide");a1x.x2x(this.nl6f,"fail-loading")}this.cv3x=r2x};cx3x.imageView=function(oC7v,r2x){y2x.Iz3x.B2x({parent:document.body,urls:oC7v,index:r2x})};b2x.cjx2x=function(d2x){h2x.bg2x(d2x);switch(d2x.keyCode){case 37:this.mO6I(this.cv3x-1);break;case 39:this.mO6I(this.cv3x+1);break;case 27:this.V2x();break;case 38:this.WL6F.scrollTop-=20;break;case 40:this.WL6F.scrollTop+=20;break}};b2x.cjy2x=function(){var brb2x=a1x.dp3x("input");this.o2x.appendChild(brb2x);brb2x.focus();a1x.cS3x(brb2x)}})();
(function(){var c2x=NEJ.P,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),ds3x=c2x("nej.p"),u2x=c2x("nej.j"),gE4I=c2x("nm.ut"),y2x=c2x("nm.w"),n2x=c2x("nm.l"),l2x=c2x("nm.x"),b2x,L2x;n2x.bvl2x=NEJ.C();b2x=n2x.bvl2x.N2x(n2x.ed4h);L2x=n2x.bvl2x.ct3x;b2x.cz3x=function(e2x){e2x.title="转发动态";this.cE3x(e2x)};b2x.bo2x=function(e2x){l2x.rX8P(function(){if(e2x.onclose===undefined)e2x.onclose=function(){this.br2x()}.f2x(this);this.bp2x(e2x);this.jp5u=e2x.rid;this.oh7a=e2x.uid;this.cuI5N=e2x.text;this.gG4K.value=this.cuI5N;this.hV5a=y2x.Qe5j.B2x({parent:document.body,target:this.gG4K})}.f2x(this),true);u2x.be2x("/api/gorilla/switch/emojy/status?platform=web&product=cloudmusic",{type:"json",method:"get",onload:function(res){var status=res.data[0].status;if(status===5){a1x.w2x(this.bvi2x,"f-hide")}else{a1x.x2x(this.bvi2x,"f-hide")}}.f2x(this)})};b2x.cd3x=function(){this.cc3x="m-wgt-forward"};b2x.bW3x=function(){this.cg3x();var bQ3x=a1x.D2x(this.o2x,"j-flag");this.EQ2x=bQ3x[0];this.gG4K=bQ3x[1];this.bvg2x=bQ3x[2];this.bvi2x=bQ3x[3];this.Qb5g=bQ3x[4];this.kf5k=bQ3x[5];this.bYc0x=bQ3x[6];this.cuH5M=bQ3x[7];this.BM1x=bQ3x[8];h2x.s2x(this.gG4K,"input",this.fb4f.f2x(this));h2x.s2x(this.gG4K,"keyup",this.bzF3x.f2x(this));h2x.s2x(this.gG4K,"click",this.mT6N.f2x(this));h2x.s2x(this.Qb5g,"click",this.bvb2x.f2x(this));h2x.s2x(this.bvi2x,"click",this.bva2x.f2x(this));h2x.s2x(this.bYc0x,"click",this.NX4b.f2x(this));h2x.s2x(this.cuH5M,"click",this.zO1x.f2x(this));l2x.jU5Z()};b2x.bD2x=function(){this.bI3x();if(this.hN5S){this.hN5S.V2x();delete this.hN5S}if(this.hV5a){this.hV5a.V2x();delete this.hV5a}};b2x.fb4f=function(d2x){ds3x.dB3x.browser=="ie"&&ds3x.dB3x.version<"7.0"?setTimeout(this.gD4H.f2x(this),0):this.gD4H()};b2x.bzF3x=function(d2x){this.mT6N();this.fb4f()};b2x.gD4H=function(){var bt2x=this.gG4K.value.trim().length;this.kf5k.innerHTML=!bt2x?"140":140-bt2x;bt2x>140?a1x.w2x(this.kf5k,"s-fc6"):a1x.x2x(this.kf5k,"s-fc6");if(!bt2x||bt2x==0)a1x.bc2x(this.EQ2x,"display","block");else a1x.bc2x(this.EQ2x,"display","none")};b2x.bvb2x=function(d2x){h2x.bg2x(d2x);!!this.hN5S&&this.hN5S.br2x();this.hV5a.Qf5k();this.gD4H()};b2x.bva2x=function(d2x){h2x.bg2x(d2x);if(!this.hN5S){this.hN5S=n2x.NS4W.B2x({parent:this.bvg2x});this.hN5S.s2x("onselect",this.zy0x.f2x(this))}this.hN5S.I2x()};b2x.zy0x=function(d2x){var bq2x="["+d2x.text+"]";gE4I.Op4t(this.gG4K,this.pX7Q,bq2x);this.gD4H();h2x.z2x(this.gG4K,"keyup")};b2x.mT6N=function(){this.pX7Q=gE4I.xd0x(this.gG4K)};b2x.NX4b=function(d2x){h2x.bg2x(d2x);if(this.dZ4d())return;if(this.gG4K.value.trim().length>140){this.ea4e("字数超过140个字符");return}l2x.lg6a(this.cuE5J.f2x(this))};b2x.cuE5J=function(cl3x){var bee9V=this.gG4K.value.trim();var hY5d=window.GUser.userId;var E2x=this.jp5u;var X2x="/api/event/forward";var i2x={forwards:bee9V,id:this.jp5u,eventUserId:this.oh7a,checkToken:cl3x||""};i2x=j2x.cr3x(i2x);this.dZ4d(!0);var gA4E=u2x.be2x(X2x,{sync:false,type:"json",data:i2x,method:"POST",onload:this.CG1x.f2x(this),onerror:this.dT3x.f2x(this)})};b2x.CG1x=function(m2x){this.dZ4d(!1);if(m2x.code!=200){var bC2x="转发失败";switch(m2x.code){case 250:bC2x=m2x.message||m2x.msg||"分享异常";break;case 404:bC2x=m2x.message||"该动态已被删除";break;case 407:bC2x="输入内容包含有关键字";break;case 408:bC2x="转发太快了，过会再分享吧";break;case 315:bC2x="根据对方设置，你没有该操作权限";break}this.ea4e(bC2x);return}gE4I.bDw5B(this.gG4K.value);this.br2x();n2x.Z2x.I2x({tip:"转发成功！",autoclose:true});this.z2x("onforward",{id:this.jp5u,eventUserId:this.oh7a})};b2x.dT3x=function(i2x){this.dZ4d(!1);this.ea4e(bC2x)};b2x.dZ4d=function(dd3x){return L2x.dZ4d(this.bYc0x,dd3x,"转发","转发中 ...")};b2x.ea4e=function(bC2x){return L2x.ea4e(this.BM1x,bC2x)};b2x.zO1x=function(d2x){h2x.co3x(d2x);this.br2x()};b2x.nx6r=function(){this.gG4K.focus();if(ds3x.dB3x.browser=="ie"&&parseInt(ds3x.dB3x.version)<10)return;gE4I.bak8c(this.gG4K,{start:0,end:0});this.mT6N()};b2x.br2x=function(){L2x.br2x.call(this);if(this.hN5S){this.hN5S.V2x();delete this.hN5S}if(this.hV5a){this.hV5a.V2x();delete this.hV5a}};b2x.I2x=function(e2x){L2x.I2x.call(this);this.ea4e();this.dZ4d(!1);this.gD4H();this.nx6r();this.pX7Q=gE4I.xd0x(this.gG4K)};l2x.buZ2x=function(e2x){if(!GUser||!GUser.userId||GUser.userId<=0){n2x.qk7d.I2x({title:"登录"});return}if(e2x.title===undefined)e2x.title="转发动态";n2x.bvl2x.I2x(e2x)}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,bs2x=NEJ.F,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),H2x=c2x("nej.ut"),u2x=c2x("nej.j"),l2x=c2x("nm.x"),p2x=c2x("nm.d"),gE4I=c2x("nm.ut"),n2x=c2x("nm.l"),b2x,L2x;n2x.bbc8U=NEJ.C();b2x=n2x.bbc8U.N2x(n2x.ed4h);L2x=n2x.bbc8U.ct3x;b2x.cz3x=function(){this.cE3x()};b2x.bW3x=function(){this.cg3x();var k2x=a1x.D2x(this.o2x,"j-flag");this.eK4O=k2x[0];this.PM5R=k2x[1];this.cC3x=k2x[2];this.bIZ6T=k2x[3];this.dX4b=k2x[4];h2x.s2x(this.o2x,"click",this.eJ4N.f2x(this));h2x.s2x(this.eK4O,"input",this.fb4f.f2x(this));h2x.s2x(this.eK4O,"keyup",this.vZ9Q.f2x(this))};b2x.cd3x=function(){this.cc3x="m-sharesingle-layer"};b2x.bo2x=function(e2x){e2x.parent=e2x.parent||document.body;e2x.title=e2x.title||"分享";e2x.draggable=!0;e2x.mask=!0;e2x.clazz="m-layer m-layer-w2";this.bp2x(e2x);this.eK4O.value=e2x.mesg||"";this.bh2x={id:e2x.rid,type:e2x.type,picUrl:e2x.purl,snsType:e2x.snsType,resourceUrl:e2x.rurl};if(!this.bh2x.resourceUrl)delete this.bh2x.resourceUrl;this.Ks3x();this.ea4e(null);this.dZ4d(false)};b2x.eJ4N=function(d2x){var g2x=h2x.ba2x(d2x,"d:action"),U2x=a1x.t2x(g2x,"action");h2x.co3x(d2x);switch(U2x){case"txt":this.mT6N();break;case"emt":h2x.tR9I(d2x);!!this.hV5a&&this.hV5a.IW3x();if(!this.hN5S){this.hN5S=n2x.NS4W.B2x({parent:this.PM5R});this.hN5S.s2x("onselect",this.zy0x.f2x(this))}this.hN5S.I2x();break;case"ok":this.ea4e(null);if(this.qh7a)return;if(this.eK4O.value.trim().length>140){this.ea4e("字数超过140个字符");return}this.dZ4d(true);this.bh2x.msg=this.eK4O.value;if(!this.bh2x.resourceUrl){delete this.bh2x.resourceUrl}u2x.be2x("/api/sns/share/resource",{type:"json",method:"post",data:j2x.cr3x(this.bh2x),onload:this.wP0x.f2x(this),onerror:this.wP0x.f2x(this)});break;case"cc":this.br2x();break}};b2x.zy0x=function(d2x){var bq2x="["+d2x.text+"]";gE4I.Op4t(this.eK4O,this.pX7Q,bq2x);this.Ks3x()};b2x.fb4f=function(){this.Ks3x();this.mT6N()};b2x.vZ9Q=function(){this.Ks3x();this.mT6N()};b2x.Ks3x=function(){var bt2x=this.eK4O.value.trim().length;this.cC3x.innerText=140-bt2x;bt2x>140?a1x.fo4s(this.cC3x,"s-fc4","s-fc6"):a1x.fo4s(this.cC3x,"s-fc6","s-fc4")};b2x.mT6N=function(){this.pX7Q=gE4I.xd0x(this.eK4O)};b2x.wP0x=function(d2x){var jE5J={407:"输入内容包含有关键字",404:"分享的资源不存在",408:"分享太快了，过会再分享吧"};if(d2x.code==200){this.z2x("onsuccess",d2x);if(!d2x.stopped){n2x.Z2x.I2x({tip:"分享成功！",autoclose:true})}this.br2x()}else{this.ea4e(jE5J[d2x.code]||"分享失败")}this.dZ4d(false)};b2x.ea4e=function(bJc6W){if(bJc6W){this.dX4b.innerHTML='<i class="u-icn u-icn-25"></i>'+bJc6W;a1x.x2x(this.dX4b,"f-hide")}else{a1x.w2x(this.dX4b,"f-hide")}};b2x.dZ4d=function(bbO8G){this.qh7a=bbO8G;if(bbO8G){this.bIZ6T.innerHTML="<i>分享中...</i>"}else{this.bIZ6T.innerHTML="<i>分享</i>"}};b2x.I2x=function(){L2x.I2x.call(this);var dD3x=this.eK4O.value.length;gE4I.bak8c(this.eK4O,{start:dD3x,end:dD3x,text:""});this.mT6N()}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,bs2x=NEJ.F,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),H2x=c2x("nej.ut"),u2x=c2x("nej.j"),l2x=c2x("nm.x"),p2x=c2x("nm.d"),cx3x=c2x("api"),n2x=c2x("nm.l"),b2x,L2x;n2x.bJV6P=NEJ.C();b2x=n2x.bJV6P.N2x(n2x.ed4h);b2x.bW3x=function(){this.cg3x();var k2x=a1x.D2x(this.o2x,"j-flag");h2x.s2x(this.o2x,"click",this.bN3x.f2x(this))};b2x.cd3x=function(){this.cc3x="m-simple-share-layer"};b2x.bo2x=function(e2x){e2x.clazz="m-layer-w6";if(!e2x.shareType)e2x.parent=e2x.parent||document.body;e2x.title=e2x.title||"分享";e2x.draggable=!0;e2x.mask=e2x.mask||true;this.bp2x(e2x);this.bh2x={id:e2x.id||0,type:e2x.type||"activity",picUrl:e2x.picUrl,msg:e2x.text,resourceUrl:e2x.resourceUrl,summary:e2x.summary};this.bZ3x([[window,"snsbind",this.PR5W.f2x(this)],[window,"snsbinderror",this.br2x.f2x(this)]]);this.wL0x={rid:this.bh2x.id,rurl:this.bh2x.resourceUrl,purl:this.bh2x.picUrl,mesg:this.bh2x.msg,type:this.bh2x.type,onsuccess:e2x.onsuccess};if(e2x.shareType){this.bJW6Q(e2x.shareType)}};b2x.bN3x=function(d2x){var g2x=h2x.ba2x(d2x,"d:type"),v2x=a1x.t2x(g2x,"type");this.bJW6Q(v2x)};b2x.bJW6Q=function(v2x){switch(v2x){case"xlwb":case"rr":case"db":var zq0x={xlwb:2,rr:4,db:3},VP6J=zq0x[v2x],tM9D=localCache.beS9J("user.bindings")||[],r2x=j2x.dt3x(tM9D,function(q2x){return q2x.type==VP6J&&!q2x.expired});if(r2x>=0){this.BC1x(VP6J)}else{var hA5F={snsType:VP6J,callbackType:"Binding",clientType:"web2",forcelogin:true,csrf_token:u2x.gP4T("__csrf")};top.window.open("/api/sns/authorize?"+j2x.cr3x(hA5F))}break;case"wx":case"yx":var hA5F={resourceUrl:this.bh2x.resourceUrl,type:v2x};top.open("/share/QRCode?"+j2x.cr3x(hA5F));this.br2x();break;case"qzone":var cq3x={url:this.bh2x.resourceUrl,title:this.bh2x.msg||"",pics:this.bh2x.picUrl,summary:this.bh2x.summary};top.open("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?"+j2x.cr3x(cq3x));this.br2x();break;case"lofter":var cq3x={from:"cloudmusic",image:this.bh2x.picUrl,source:"网易云音乐",sourceurl:this.bh2x.resourceUrl,content:this.bh2x.msg};top.open("http://www.lofter.com/sharephoto/?"+j2x.cr3x(cq3x));this.br2x();break}};b2x.PR5W=function(d2x){this.BC1x(d2x.result.type)};b2x.BC1x=function(v2x){this.br2x();if(this.Cg1x){this.Cg1x.V2x();delete this.Cg1x}this.wL0x.snsType=v2x;this.Cg1x=n2x.bbc8U.B2x(this.wL0x);this.Cg1x.I2x()};var cL3x=null;cx3x.simpleShare=function(e2x){if(cL3x)cL3x.V2x();cL3x=n2x.bJV6P.B2x(e2x).I2x()}})();
(function(){var c2x=NEJ.P,bb2x=NEJ.O,a1x=c2x("nej.e"),h2x=c2x("nej.v"),j2x=c2x("nej.u"),u2x=c2x("nej.j"),H2x=c2x("nej.ut"),p2x=c2x("nm.d"),l2x=c2x("nm.x"),F2x=c2x("nm.m"),n2x=c2x("nm.l"),M2x=c2x("nm.m.f"),cx3x=c2x("api"),CP1x=/#(.*?)$/,b2x,L2x,Ko3x={pubEventWithPics:false,pubEventWithoutResource:false,pubEventWithPictureForbiddenNotice:"等级达到Lv.4，即可添加图片"};M2x.bJY6S=NEJ.C();b2x=M2x.bJY6S.N2x(H2x.dm3x);b2x.bJ3x=function(){this.bU3x();window.onHashChange=this.bbR8J.f2x(this);window.log=this.hE5J.f2x(this);window.share=this.BC1x.f2x(this);window.shareForStore=this.cjw2x.f2x(this);window.subscribe=this.bip0x.f2x(this);window.onIframeClick=this.cjv2x.f2x(this);h2x.s2x(window,"playchange",this.hL5Q.f2x(this));h2x.s2x(window,"playstatechange",this.cju2x.f2x(this));this.lO6I=F2x.KZ3x.fU4Y();this.lO6I.s2x("loginsuccess",this.cjt2x.f2x(this));this.lO6I.s2x("logoutbefore",this.brf2x.f2x(this));this.lO6I.s2x("logoutsuccess",this.brg2x.f2x(this));this.bxD3x();this.by2x=M2x.Wx6r.B2x();this.by2x.z2x("onshow",{});if(window.GUser&&window.GUser.userId){u2x.be2x("/api/login/token/refresh",{type:"json",method:"post"})}this.bbR8J(l2x.NV4Z());this.Iu3x=F2x.Xw7p.B2x();cx3x.refreshUserInfo=this.Iu3x.MG4K.f2x(this.Iu3x);this.cjs2x();cx3x.cbDonate=this.cjr2x;var referrer=document.referrer;if(referrer.indexOf(location.hostname)===-1){var conf={is_organic:referrer?0:1,url:location.href};if(!conf.is_organic){conf.source=referrer}this.hE5J("activeweb",conf)}};b2x.bxD3x=function(){this.kG5L=p2x.ib5g.B2x()};b2x.bbR8J=function(cO3x){var d2x=location.parse(cO3x);this.sj8b(d2x)};b2x.sj8b=function(d2x,v2x){var eT4X=a1x.A2x("g_iframe"),ku5z=d2x.path,bw2x=d2x.query,ka5f=eT4X.contentWindow.location;this.vN9E=eT4X;if(/^\/(mv|video)/.test(ku5z)){if(this.by2x)this.by2x.br2x();this.mc6W=document.title}else{if(this.by2x)this.by2x.I2x();document.title=this.mc6W||l2x.rV8N()}if(bw2x.play=="true"&&/^\/(m\/)?song/.test(ku5z)){if(this.by2x)this.by2x.Ya7T(18,bw2x.id,true)}if(/^\/my\/m\/music\/playlist/.test(ku5z)){var bjt0x=l2x.biw0x();if(!bjt0x&&!!bw2x.id)return location.dispatch2("/playlist?id="+bw2x.id)}if(/^\/login\b/.test(ku5z)&&GUser&&GUser.userId){var ec4g=/targetUrl=(.+?)(&|$)/.exec(d2x.href),sC8u=ec4g?decodeURIComponent(ec4g[1]):"/discover",dk3x=/163\.com\/m\/at\//i;cjq2x=/163\.com\/show\/m\//i;cjo2x=/^(https?:\/\/?[\w-.]*(igame|music|iplay)\.163\.com)?([\/\w]*)?([\?#].*)?$/g;if(!cjo2x.test(sC8u)){sC8u=""}if(dk3x.test(sC8u)||cjq2x.test(sC8u)){window.location.href=sC8u}else{sC8u=sC8u.replace("/m/","/#/")}sC8u=sC8u.replace(/^\s+|\s+$/g,"");var dk3x=/^https?:\/\//i,GB2x=/^\/\//,bvt3x=/^\//;if(!dk3x.test(sC8u)&&!GB2x.test(sC8u)&&!bvt3x.test(sC8u)){sC8u="/discover"}return location.href=encodeURI(sC8u)}if(v2x!==undefined){if(bw2x&&bw2x.targetUrl){var pi7b=location.parse(bw2x.targetUrl);if(pi7b.path.indexOf("/store/")==0||pi7b.path.indexOf("/nmusician/")==0){return location.href=d2x.href}}return GDispatcher.refreshIFrame(d2x.href)}};b2x.cjt2x=function(){var cO3x=CP1x.test(location.href)?RegExp.$1:"",d2x=location.parse(cO3x),Lk3x=this.Iu3x;Lk3x.MG4K();u2x.be2x("/api/topic/user/info",{type:"json",onload:function(bP3x){top.GUserAcc=NEJ.X(top.GUserAcc||{},{topic:bP3x.status});Lk3x.MG4K()}});u2x.be2x("/api/reward/user/showicon",{type:"json",onload:function(bP3x){top.GUserAcc=NEJ.X(top.GUserAcc||{},{reward:bP3x.showIcon});Lk3x.MG4K()}});if(!cx3x.sharePermission){cx3x.sharePermission=Ko3x}u2x.be2x("/api/event/user/permission",{type:"json",onload:function(d2x){if(d2x.code==200){cx3x.sharePermission=NEJ.EX(Ko3x,d2x)}}});this.sj8b(d2x,"urlchange")};b2x.brf2x=function(){n2x.pv7o.br2x();this.Iu3x.MG4K()};b2x.brg2x=function(){if(!location.hash||location.hash=="#"){var cO3x=CP1x.test(location.href)?RegExp.$1:"",d2x=location.parse(cO3x);this.sj8b(d2x,"urlchange");return}location.hash="#"};b2x.hL5Q=function(d2x){if(this.vN9E){var bM3x=this.vN9E.contentWindow;try{if(bM3x.nej&&bM3x.nej.v){bM3x.nej.v.z2x?bM3x.nej.v.z2x(bM3x,"playchange",d2x):bM3x.nej.v.dispatchEventalias?bM3x.nej.v.dispatchEventalias(bM3x,"playchange",d2x):""}}catch(e){}}};b2x.cju2x=function(d2x){if(!this.vN9E)return;var bM3x=this.vN9E.contentWindow;try{if(bM3x.nej&&bM3x.nej.v){bM3x.nej.v.z2x?bM3x.nej.v.z2x(bM3x,"playstatechange",d2x):bM3x.nej.v.dispatchEventalias?bM3x.nej.v.dispatchEventalias(bM3x,"playstatechange",d2x):""}}catch(e){}};b2x.hE5J=function(U2x,bm2x){if(U2x.indexOf("new|")==0){return this.kG5L.eU4Y(U2x.slice(4),bm2x)}switch(U2x){case"play":this.kG5L.ey4C(bm2x);break;case"search":this.kG5L.bXA0x(bm2x);break;default:this.kG5L.eU4Y(U2x,bm2x)}};b2x.BC1x=function(){if(this.vN9E.contentWindow.share){this.vN9E.contentWindow.share.apply(this.vN9E.contentWindow,arguments)}};b2x.cjw2x=function(){var bAW4a=function(d2x){h2x.z2x(window,"share",d2x)};return function(da3x,v2x,Bb1x,Y2x,Jq3x,Jm3x){l2x.lk6e({rid:da3x,type:v2x,purl:Bb1x,name:Y2x,author:Jq3x,authors:Jm3x,onshare:bAW4a.f2x(this)})}}();b2x.bip0x=function(bT3x,cjn2x){var bM3x=this.vN9E.contentWindow;if(bM3x.nm&&bM3x.nm.x){if(!bM3x.nm.x.nV7O){bM3x=top.window}if(cjn2x&&bM3x.nm.x.bLw6q){bM3x.nm.x.bLw6q({data:bT3x.program})}else if(bM3x.nm.x.nV7O){var k2x=j2x.ef4j(bT3x)?bT3x:[bT3x];bM3x.nm.x.nV7O({tracks:k2x})}}};b2x.cjv2x=function(d2x){h2x.z2x(window,"iframeclick")};b2x.cjs2x=function(){u2x.be2x("/api/copyright/pay_fee_message/config",{type:"json",onload:function(d2x){if(d2x.code==200){cx3x.feeMessage=d2x.config}}});cx3x.sharePermission=Ko3x;u2x.be2x("/api/event/user/permission",{type:"json",onload:function(d2x){if(d2x.code==200){cx3x.sharePermission=NEJ.EX(Ko3x,d2x)}}});u2x.be2x("/api/privilege/message/mv",{type:"json",onload:function(d2x){if(d2x.code===200){cx3x.mvFeeMessage=d2x.data}}})};b2x.cjr2x=function(){var cB3x={jst:"m-wgt-redeem-tip",clazz:"n-redeem"};cB3x.data={title:"成功送出",sub:"请你的好友去查看私信",ok:"知道了",type:"success"};cB3x.onaction=function(){location.dispatch2("/member")};l2x.jA5F(cB3x)};window.doMsgToServiceAction=b2x.cQY9P=function(){var bbz8r=null;return function(U2x){if(U2x=="kf"){bbz8r&&bbz8r.V2x();bbz8r=n2x.ul9c.B2x({title:"发新私信",draggable:true,clazz:"m-layer m-layer-w2",receiver:{userId:l2x.bLh6b()?117863002:253335632,nickname:l2x.bLh6b()?"测试库客服":"云音乐客服"}});bbz8r.I2x()}}}();H2x.fT4X.B2x({element:window,event:["playchange","iframeclick","playstatechange"]});a1x.cV3x("template-box");new M2x.bJY6S})()